@if (!uiService.isSidebarOpen() && !uiService.isMobile()) {
  <button class="floating-open-btn" (click)="uiService.toggleSidebar()">
    <div class="icon-box">
       <div class="sidebar-icon-bar"></div>
    </div>
  </button>
}

<div class="panel-container"
     [class.desktop-sidebar]="!uiService.isMobile()"
     [class.mobile-sheet]="uiService.isMobile()"
     [class.closed]="!uiService.isSidebarOpen() && !uiService.isMobile()"
     [class.sheet-open]="sheetState === 'open' && uiService.isMobile()"
     [class.sheet-peek]="sheetState === 'peek' && uiService.isMobile()"
     cdkDrag
     cdkDragLockAxis="y"
     [cdkDragDisabled]="!uiService.isMobile()"
     (cdkDragEnded)="onDragEnd($event)">

  @if (uiService.isMobile()) {
    <div class="drag-handle" (click)="toggleMobileSheet()"></div>
  } @else {
    <div class="header-actions">
      <button class="toggle-btn" (click)="uiService.toggleSidebar()" title="Toggle Sidebar">
        <div class="icon-box">
          <div class="sidebar-icon-bar"></div>
        </div>
      </button>
    </div>
  }

  @if (tripService.selectedPlace(); as place) {
    <div class="content">
      <h2>{{ place.name() }}</h2>
      <p>This is where your place info will live.</p>
    </div>
  } @else {
    <div class="content">
      <h2>Trip Details</h2>
      <p>This is where your itinerary, notes, and local info will live.</p>
    </div>
  }
</div>
