<!--<div class="toolbar">-->
<!--  Longitude: {{ center()[0] | number:'1.4-4' }} |-->
<!--  Latitude: {{ center()[1] | number:'1.4-4' }} |-->
<!--  Zoom: {{ zoom() | number:'1.2-2' }}-->
<!--</div>-->
<!--<button class="reset-button" (click)="resetView()">Reset View</button>-->
<div class="search-container"
     [class.expanded]="isSearchExpanded()"
     [style.left.px]="sidePanelWidth() + 12">

  <button class="search-toggle-btn" (click)="$event.stopPropagation(); toggleSearch()">
    <lucide-icon [name]="SearchIcon" [size]="18" color="white"></lucide-icon>
  </button>

  <div class="search-input-wrapper" [class.show]="isSearchExpanded()">
    <div #searchWrapper class="search-wrapper"></div>
  </div>
</div>

<div #mapContainer id="map-container"
     class="map-container"
     [class.visible]="isMapVisible()">
</div>

<div style="position: absolute; left: -9999px; top: 0;">
  <div #popupContainer>
    @if (selectedPlace()) {
      <app-place-popup
        [place]="selectedPlace()!"
        (onSave)="handleSave($event)"
        (onDelete)="handleDelete($event)">
      </app-place-popup>
    }
  </div>
</div>

<div style="position: absolute; left: -9999px; top: 0;">
  <div #tooltipContainer>
    @if (hoveredPlace()) {
      <app-place-tooltip [name]="hoveredPlace()?.name"></app-place-tooltip>
    }
  </div>
</div>

<div style="position: absolute; left: -9999px;">
  @if (!!tripService.trip()) {
    @for (place of tripService.trip()?.places(); track place.id) {
      <div #markerElement
           (mouseenter)="onMouseEnter(place)"
           (mouseleave)="onMouseLeave()">
        <app-place-marker [visits]="place.visits()"></app-place-marker>
      </div>
    }
  }
</div>
