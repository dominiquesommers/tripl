import{a as v,b as Z,c as hr}from"./chunk-C6Q5SG76.js";var We=null,rc=!1,_1=1,w8=null,Ge=Symbol("SIGNAL");function P(t){let e=We;return We=t,e}function oc(){return We}var Pi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function sa(t){if(rc)throw new Error("");if(We===null)return;We.consumerOnSignalRead(t);let e=We.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=We.recomputing;if(r&&(n=e!==void 0?e.nextProducer:We.producers,n!==void 0&&n.producer===t)){We.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===We&&(!r||I8(i,We)))return;let o=Ni(We),a={producer:t,consumer:We,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};We.producersTail=a,e!==void 0?e.nextProducer=a:We.producers=a,o&&vy(t,a)}function yy(){_1++}function S1(t){if(!(Ni(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_1)){if(!t.producerMustRecompute(t)&&!da(t)){b1(t);return}t.producerRecomputeValue(t),b1(t)}}function x1(t){if(t.consumers===void 0)return;let e=rc;rc=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||C8(r)}}finally{rc=e}}function D1(){return We?.consumerAllowSignalWrites!==!1}function C8(t){t.dirty=!0,x1(t),t.consumerMarkedDirty?.(t)}function b1(t){t.dirty=!1,t.lastCleanEpoch=_1}function Oi(t){return t&&gy(t),P(t)}function gy(t){t.producersTail=void 0,t.recomputing=!0}function ca(t,e){P(e),t&&my(t)}function my(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Ni(t))do n=E1(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function da(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(S1(n),r!==n.version))return!0}return!1}function jr(t){if(Ni(t)){let e=t.producers;for(;e!==void 0;)e=E1(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function vy(t,e){let n=t.consumersTail,r=Ni(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)vy(i.producer,i)}function E1(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Ni(e)){let o=e.producers;for(;o!==void 0;)o=E1(o)}return n}function Ni(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function T1(t){w8?.(t)}function I8(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function L1(t,e){return Object.is(t,e)}function la(t,e){let n=Object.create(b8);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(S1(n),sa(n),n.value===ic)throw n.error;return n.value};return r[Ge]=n,T1(n),r}var C1=Symbol("UNSET"),I1=Symbol("COMPUTING"),ic=Symbol("ERRORED"),b8=Z(v({},Pi),{value:C1,dirty:!0,error:null,equal:L1,kind:"computed",producerMustRecompute(t){return t.value===C1||t.value===I1},producerRecomputeValue(t){if(t.value===I1)throw new Error("");let e=t.value;t.value=I1;let n=Oi(t),r,i=!1;try{r=t.computation(),P(null),i=e!==C1&&e!==ic&&r!==ic&&t.equal(e,r)}catch(o){r=ic,t.error=o}finally{ca(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function _8(){throw new Error}var ky=_8;function My(t){ky(t)}function A1(t){ky=t}var S8=null;function R1(t,e){let n=Object.create(ac);n.value=t,e!==void 0&&(n.equal=e);let r=()=>wy(n);return r[Ge]=n,T1(n),[r,a=>ua(n,a),a=>Cy(n,a)]}function wy(t){return sa(t),t.value}function ua(t,e){D1()||My(t),t.equal(t.value,e)||(t.value=e,x8(t))}function Cy(t,e){D1()||My(t),ua(t,e(t.value))}var ac=Z(v({},Pi),{equal:L1,value:void 0,kind:"signal"});function x8(t){t.version++,yy(),x1(t),S8?.(t)}function P1(t){let e=P(null);try{return t()}finally{P(e)}}var O1=Z(v({},Pi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function N1(t){if(t.dirty=!1,t.version>0&&!da(t))return;t.version++;let e=Oi(t);try{t.cleanup(),t.fn()}finally{ca(t,e)}}function K(t){return typeof t=="function"}function Fi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sc=Fi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Hr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var he=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof sc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Iy(o)}catch(a){e=e??[],a instanceof sc?e=[...e,...a.errors]:e.push(a)}}if(e)throw new sc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Iy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Hr(n,e)}remove(e){let{_finalizers:n}=this;n&&Hr(n,e),e instanceof t&&e._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var F1=he.EMPTY;function cc(t){return t instanceof he||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function Iy(t){K(t)?t():t.unsubscribe()}var Wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vi={setTimeout(t,e,...n){let{delegate:r}=Vi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Vi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function dc(t){Vi.setTimeout(()=>{let{onUnhandledError:e}=Wt;if(e)e(t);else throw t})}function zr(){}var by=V1("C",void 0,void 0);function _y(t){return V1("E",void 0,t)}function Sy(t){return V1("N",t,void 0)}function V1(t,e,n){return{kind:t,value:e,error:n}}var Br=null;function ji(t){if(Wt.useDeprecatedSynchronousErrorHandling){let e=!Br;if(e&&(Br={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Br;if(Br=null,n)throw r}}else t()}function xy(t){Wt.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=t)}var qr=class extends he{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cc(e)&&e.add(this)):this.destination=T8}static create(e,n,r){return new Hi(e,n,r)}next(e){this.isStopped?H1(Sy(e),this):this._next(e)}error(e){this.isStopped?H1(_y(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?H1(by,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},D8=Function.prototype.bind;function j1(t,e){return D8.call(t,e)}var z1=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){lc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){lc(r)}else lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){lc(n)}}},Hi=class extends qr{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Wt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&j1(e.next,o),error:e.error&&j1(e.error,o),complete:e.complete&&j1(e.complete,o)}):i=e}this.destination=new z1(i)}};function lc(t){Wt.useDeprecatedSynchronousErrorHandling?xy(t):dc(t)}function E8(t){throw t}function H1(t,e){let{onStoppedNotification:n}=Wt;n&&Vi.setTimeout(()=>n(t,e))}var T8={closed:!0,next:zr,error:E8,complete:zr};var zi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Gt(t){return t}function B1(...t){return q1(t)}function q1(t){return t.length===0?Gt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=A8(n)?n:new Hi(n,r,i);return ji(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Dy(r),new r((i,o)=>{let a=new Hi({next:s=>{try{n(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[zi](){return this}pipe(...n){return q1(n)(this)}toPromise(n){return n=Dy(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function Dy(t){var e;return(e=t??Wt.Promise)!==null&&e!==void 0?e:Promise}function L8(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function A8(t){return t&&t instanceof qr||L8(t)&&cc(t)}function R8(t){return K(t?.lift)}function J(t){return e=>{if(R8(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,e,n,r,i){return new U1(t,e,n,r,i)}var U1=class extends qr{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(c){e.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Bi={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Bi;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(o=>{n=void 0,t(o)});return new he(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=Bi;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Bi;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var Ey=Fi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=(()=>{class t extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new uc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ey}next(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ji(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?F1:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,Hr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new q;return n.source=this,n}}return t.create=(e,n)=>new uc(e,n),t})(),uc=class extends H{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:F1}};var Pe=class extends H{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $1={now(){return($1.delegate||Date).now()},delegate:void 0};var hc=class extends he{constructor(e,n){super()}schedule(e,n=0){return this}};var ha={setInterval(t,e,...n){let{delegate:r}=ha;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ha;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qi=class extends hc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ha.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Hr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ui=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ui.now=$1.now;var $i=class extends Ui{constructor(e,n=Ui.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Pn=new $i(qi),Ty=Pn;var pc=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Bi.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:o}=e;n!=null&&n===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(Bi.cancelAnimationFrame(n),e._scheduled=void 0)}};var fc=class extends $i{flush(e){this._active=!0;let n;e?n=e.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var yc=new fc(pc);var Oe=new q(t=>t.complete());function gc(t){return t&&K(t.schedule)}function W1(t){return t[t.length-1]}function mc(t){return K(W1(t))?t.pop():void 0}function ln(t){return gc(W1(t))?t.pop():void 0}function Ly(t,e){return typeof W1(t)=="number"?t.pop():e}function Ry(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(l){try{d(r.next(l))}catch(u){a(u)}}function c(l){try{d(r.throw(l))}catch(u){a(u)}}function d(l){l.done?o(l.value):i(l.value).then(s,c)}d((r=r.apply(t,e||[])).next())})}function Ay(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ur(t){return this instanceof Ur?(this.v=t,this):new Ur(t)}function Py(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(y){return Promise.resolve(y).then(p,u)}}function s(p,y){r[p]&&(i[p]=function(M){return new Promise(function(m,x){o.push([p,M,m,x])>1||c(p,M)})},y&&(i[p]=y(i[p])))}function c(p,y){try{d(r[p](y))}catch(M){h(o[0][3],M)}}function d(p){p.value instanceof Ur?Promise.resolve(p.value.v).then(l,u):h(o[0][2],p)}function l(p){c("next",p)}function u(p){c("throw",p)}function h(p,y){p(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Oy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ay=="function"?Ay(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,c){a=t[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(d){o({value:d,done:s})},a)}}var vc=t=>t&&typeof t.length=="number"&&typeof t!="function";function kc(t){return K(t?.then)}function Mc(t){return K(t[zi])}function wc(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function Cc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function P8(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ic=P8();function bc(t){return K(t?.[Ic])}function _c(t){return Py(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ur(n.read());if(i)return yield Ur(void 0);yield yield Ur(r)}}finally{n.releaseLock()}})}function Sc(t){return K(t?.getReader)}function ve(t){if(t instanceof q)return t;if(t!=null){if(Mc(t))return O8(t);if(vc(t))return N8(t);if(kc(t))return F8(t);if(wc(t))return Ny(t);if(bc(t))return V8(t);if(Sc(t))return j8(t)}throw Cc(t)}function O8(t){return new q(e=>{let n=t[zi]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function N8(t){return new q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function F8(t){return new q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,dc)})}function V8(t){return new q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ny(t){return new q(e=>{H8(t,e).catch(n=>e.error(n))})}function j8(t){return Ny(_c(t))}function H8(t,e){var n,r,i,o;return Ry(this,void 0,void 0,function*(){try{for(n=Oy(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ut(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function xc(t,e=0){return J((n,r)=>{n.subscribe(Q(r,i=>ut(r,t,()=>r.next(i),e),()=>ut(r,t,()=>r.complete(),e),i=>ut(r,t,()=>r.error(i),e)))})}function Dc(t,e=0){return J((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Fy(t,e){return ve(t).pipe(Dc(e),xc(e))}function Vy(t,e){return ve(t).pipe(Dc(e),xc(e))}function jy(t,e){return new q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Hy(t,e){return new q(n=>{let r;return ut(n,e,()=>{r=t[Ic](),ut(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Ec(t,e){if(!t)throw new Error("Iterable cannot be null");return new q(n=>{ut(n,e,()=>{let r=t[Symbol.asyncIterator]();ut(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zy(t,e){return Ec(_c(t),e)}function By(t,e){if(t!=null){if(Mc(t))return Fy(t,e);if(vc(t))return jy(t,e);if(kc(t))return Vy(t,e);if(wc(t))return Ec(t,e);if(bc(t))return Hy(t,e);if(Sc(t))return zy(t,e)}throw Cc(t)}function Le(t,e){return e?By(t,e):ve(t)}function L(...t){let e=ln(t);return Le(t,e)}function Wi(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new q(e?i=>e.schedule(r,0,i):r)}function pa(t){return!!t&&(t instanceof q||K(t.lift)&&K(t.subscribe))}var $r=Fi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function qy(t){return t instanceof Date&&!isNaN(t)}function U(t,e){return J((n,r)=>{let i=0;n.subscribe(Q(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:z8}=Array;function B8(t,e){return z8(e)?t(...e):t(e)}function Tc(t){return U(e=>B8(t,e))}var{isArray:q8}=Array,{getPrototypeOf:U8,prototype:$8,keys:W8}=Object;function Lc(t){if(t.length===1){let e=t[0];if(q8(e))return{args:e,keys:null};if(G8(e)){let n=W8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function G8(t){return t&&typeof t=="object"&&U8(t)===$8}function Ac(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Gi(...t){let e=ln(t),n=mc(t),{args:r,keys:i}=Lc(t);if(r.length===0)return Le([],e);let o=new q(Z8(r,e,i?a=>Ac(i,a):Gt));return n?o.pipe(Tc(n)):o}function Z8(t,e,n=Gt){return r=>{Uy(e,()=>{let{length:i}=t,o=new Array(i),a=i,s=i;for(let c=0;c<i;c++)Uy(e,()=>{let d=Le(t[c],e),l=!1;d.subscribe(Q(r,u=>{o[c]=u,l||(l=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Uy(t,e,n){t?ut(n,t,e):e()}function $y(t,e,n,r,i,o,a,s){let c=[],d=0,l=0,u=!1,h=()=>{u&&!c.length&&!d&&e.complete()},p=M=>d<r?y(M):c.push(M),y=M=>{o&&e.next(M),d++;let m=!1;ve(n(M,l++)).subscribe(Q(e,x=>{i?.(x),o?p(x):e.next(x)},()=>{m=!0},void 0,()=>{if(m)try{for(d--;c.length&&d<r;){let x=c.shift();a?ut(e,a,()=>y(x)):y(x)}h()}catch(x){e.error(x)}}))};return t.subscribe(Q(e,p,()=>{u=!0,h()})),()=>{s?.()}}function qe(t,e,n=1/0){return K(e)?qe((r,i)=>U((o,a)=>e(r,o,i,a))(ve(t(r,i))),n):(typeof e=="number"&&(n=e),J((r,i)=>$y(r,i,t,n)))}function Rc(t=1/0){return qe(Gt,t)}function Wy(){return Rc(1)}function un(...t){return Wy()(Le(t,ln(t)))}function fa(t){return new q(e=>{ve(t()).subscribe(e)})}function Pc(...t){let e=mc(t),{args:n,keys:r}=Lc(t),i=new q(o=>{let{length:a}=n;if(!a){o.complete();return}let s=new Array(a),c=a,d=a;for(let l=0;l<a;l++){let u=!1;ve(n[l]).subscribe(Q(o,h=>{u||(u=!0,d--),s[l]=h},()=>c--,void 0,()=>{(!c||!u)&&(d||o.next(r?Ac(r,s):s),o.complete())}))}});return e?i.pipe(Tc(e)):i}function Zi(t=0,e,n=Ty){let r=-1;return e!=null&&(gc(e)?n=e:r=e),new q(i=>{let o=qy(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function G1(t=0,e=Pn){return t<0&&(t=0),Zi(t,t,e)}function ya(...t){let e=ln(t),n=Ly(t,1/0),r=t;return r.length?r.length===1?ve(r[0]):Rc(n)(Le(r,e)):Oe}function Ze(t,e){return J((n,r)=>{let i=0;n.subscribe(Q(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Gy(t){return J((e,n)=>{let r=!1,i=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let d=i;i=null,n.next(d)}a&&n.complete()},c=()=>{o=null,a&&n.complete()};e.subscribe(Q(n,d=>{r=!0,i=d,o||ve(t(d)).subscribe(o=Q(n,s,c))},()=>{a=!0,(!r||!o||o.closed)&&n.complete()}))})}function Oc(t,e=Pn){return Gy(()=>Zi(t,e))}function On(t){return J((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Q(n,void 0,void 0,a=>{o=ve(t(a,On(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ki(t,e){return K(e)?qe(t,e,1):qe(t,1)}function Z1(t,e=Pn){return J((n,r)=>{let i=null,o=null,a=null,s=()=>{if(i){i.unsubscribe(),i=null;let d=o;o=null,r.next(d)}};function c(){let d=a+t,l=e.now();if(l<d){i=this.schedule(void 0,d-l),r.add(i);return}s()}n.subscribe(Q(r,d=>{o=d,a=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{s(),r.complete()},void 0,()=>{o=i=null}))})}function K1(t){return J((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ke(t){return t<=0?()=>Oe:J((e,n)=>{let r=0;e.subscribe(Q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zy(){return J((t,e)=>{t.subscribe(Q(e,zr))})}function Ky(t){return U(()=>t)}function Y1(t,e){return e?n=>un(e.pipe(Ke(1),Zy()),n.pipe(Y1(t))):qe((n,r)=>ve(t(n,r)).pipe(Ke(1),Ky(n)))}function ht(t,e=Pn){let n=Zi(t,e);return Y1(()=>n)}function Yy(t=K8){return J((e,n)=>{let r=!1;e.subscribe(Q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function K8(){return new $r}function Nn(t){return J((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Fn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ze((i,o)=>t(i,o,r)):Gt,Ke(1),n?K1(e):Yy(()=>new $r))}function Nc(t){return t<=0?()=>Oe:J((e,n)=>{let r=[];e.subscribe(Q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function X1(t){return Ze((e,n)=>t<=n)}function Vn(...t){let e=ln(t);return J((n,r)=>{(e?un(t,n,e):un(t,n)).subscribe(r)})}function Ne(t,e){return J((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe(Q(r,c=>{i?.unsubscribe();let d=0,l=o++;ve(t(c,l)).subscribe(i=Q(r,u=>r.next(e?e(c,u,l,d++):u),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function yt(t){return J((e,n)=>{ve(t).subscribe(Q(n,()=>n.complete(),zr)),!n.closed&&e.subscribe(n)})}function Se(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?J((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(Q(o,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var d;s=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},()=>{var c,d;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Gt}var Q1;function Fc(){return Q1}function hn(t){let e=Q1;return Q1=t,e}var Xy=Symbol("NotFound");function Yi(t){return t===Xy||t?.name==="\u0275NotFound"}var Uc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",S=class extends Error{code;constructor(e,n){super(Zt(e,n)),this.code=e}};function Y8(t){return`NG0${Math.abs(t)}`}function Zt(t,e){return`${Y8(t)}${e?": "+e:""}`}var gr=globalThis;function ce(t){for(let e in t)if(t[e]===ce)return e;throw Error("")}function Hn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Hn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function hh(t,e){return t?e?`${t} ${e}`:t:e||""}var X8=ce({__forward_ref__:ce});function Ca(t){return t.__forward_ref__=Ca,t.toString=function(){return Hn(this())},t}function Ue(t){return ph(t)?t():t}function ph(t){return typeof t=="function"&&t.hasOwnProperty(X8)&&t.__forward_ref__===Ca}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ia(t){return Q8(t,$c)}function fh(t){return Ia(t)!==null}function Q8(t,e){return t.hasOwnProperty(e)&&t[e]||null}function J8(t){let e=t?.[$c]??null;return e||null}function eh(t){return t&&t.hasOwnProperty(jc)?t[jc]:null}var $c=ce({\u0275prov:ce}),jc=ce({\u0275inj:ce}),_=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yh(t){return t&&!!t.\u0275providers}var gh=ce({\u0275cmp:ce}),mh=ce({\u0275dir:ce}),vh=ce({\u0275pipe:ce}),kh=ce({\u0275mod:ce}),ma=ce({\u0275fac:ce}),Yr=ce({__NG_ELEMENT_ID__:ce}),Qy=ce({__NG_ENV_ID__:ce});function Mh(t){return Gc(t,"@NgModule"),t[kh]||null}function Kt(t){return Gc(t,"@Component"),t[gh]||null}function Wc(t){return Gc(t,"@Directive"),t[mh]||null}function wh(t){return Gc(t,"@Pipe"),t[vh]||null}function Gc(t,e){if(t==null)throw new S(-919,!1)}function pn(t){return typeof t=="string"?t:t==null?"":String(t)}function ng(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():pn(t)}var rg=ce({ngErrorCode:ce}),eC=ce({ngErrorMessage:ce}),tC=ce({ngTokenPath:ce});function Ch(t,e){return ig("",-200,e)}function Zc(t,e){throw new S(-201,!1)}function ig(t,e,n){let r=new S(e,t);return r[rg]=e,r[eC]=t,n&&(r[tC]=n),r}function nC(t){return t[rg]}var th;function og(){return th}function nt(t){let e=th;return th=t,e}function Ih(t,e,n){let r=Ia(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Zc(t,"")}var rC={},Wr=rC,nh="__NG_DI_FLAG__",rh=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Gr(n)||0;try{return this.injector.get(e,r&8?null:Wr,r)}catch(i){if(Yi(i))return i;throw i}}};function iC(t,e=0){let n=Fc();if(n===void 0)throw new S(-203,!1);if(n===null)return Ih(t,void 0,e);{let r=oC(e),i=n.retrieve(t,r);if(Yi(i)){if(r.optional)return null;throw i}return i}}function N(t,e=0){return(og()||iC)(Ue(t),e)}function f(t,e){return N(t,Gr(e))}function Gr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function oC(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function ih(t){let e=[];for(let n=0;n<t.length;n++){let r=Ue(t[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],c=aC(s);typeof c=="number"?c===-1?i=s.token:o|=c:i=s}e.push(N(i,o))}else e.push(N(r))}return e}function ag(t,e){return t[nh]=e,t.prototype[nh]=e,t}function aC(t){return t[nh]}function pr(t,e){let n=t.hasOwnProperty(ma);return n?t[ma]:null}function sg(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function cg(t){return t.flat(Number.POSITIVE_INFINITY)}function Kc(t,e){t.forEach(n=>Array.isArray(n)?Kc(n,e):e(n))}function bh(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ba(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dg(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function lg(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ug(t,e,n){let r=Qi(t,e);return r>=0?t[r|1]=n:(r=~r,lg(t,r,e,n)),r}function Yc(t,e){let n=Qi(t,e);if(n>=0)return t[n|1]}function Qi(t,e){return sC(t,e,1)}function sC(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var Xr={},gt=[],fn=new _(""),_h=new _("",-1),Sh=new _(""),va=class{get(e,n=Wr){if(n===Wr){let i=ig("",-201);throw i.name="\u0275NotFound",i}return n}};function Pt(t){return{\u0275providers:t}}function hg(t){return Pt([{provide:fn,multi:!0,useValue:t}])}function Xc(...t){return{\u0275providers:Qc(!0,t),\u0275fromNgModule:!0}}function Qc(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return Kc(e,a=>{let s=a;Hc(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&pg(i,o),n}function pg(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xh(i,o=>{e(o,r)})}}function Hc(t,e,n,r){if(t=Ue(t),!t)return!1;let i=null,o=eh(t),a=!o&&Kt(t);if(!o&&!a){let c=t.ngModule;if(o=eh(c),o)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=t}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let d of c)Hc(d,e,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let d;try{Kc(o.imports,l=>{Hc(l,e,n,r)&&(d||=[],d.push(l))})}finally{}d!==void 0&&pg(d,e)}if(!s){let d=pr(i)||(()=>new i);e({provide:i,useFactory:d,deps:gt},i),e({provide:Sh,useValue:i,multi:!0},i),e({provide:fn,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!s){let d=t;xh(c,l=>{e(l,d)})}}else return!1;return i!==t&&t.providers!==void 0}function xh(t,e){for(let n of t)yh(n)&&(n=n.\u0275providers),Array.isArray(n)?xh(n,e):e(n)}var cC=ce({provide:String,useValue:ce});function fg(t){return t!==null&&typeof t=="object"&&cC in t}function dC(t){return!!(t&&t.useExisting)}function lC(t){return!!(t&&t.useFactory)}function Zr(t){return typeof t=="function"}function yg(t){return!!t.useClass}var _a=new _(""),Vc={},Jy={},J1;function Ji(){return J1===void 0&&(J1=new va),J1}var Ce=class{},Kr=class extends Ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ah(e,a=>this.processProvider(a)),this.records.set(_h,Xi(void 0,this)),i.has("environment")&&this.records.set(Ce,Xi(void 0,this));let o=this.records.get(_a);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Sh,gt,{self:!0}))}retrieve(e,n){let r=Gr(n)||0;try{return this.get(e,Wr,r)}catch(i){if(Yi(i))return i;throw i}}destroy(){ga(this),this._destroyed=!0;let e=P(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(e)}}onDestroy(e){return ga(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ga(this);let n=hn(this),r=nt(void 0),i;try{return e()}finally{hn(n),nt(r)}}get(e,n=Wr,r){if(ga(this),e.hasOwnProperty(Qy))return e[Qy](this);let i=Gr(r),o,a=hn(this),s=nt(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let l=yC(e)&&Ia(e);l&&this.injectableDefInScope(l)?d=Xi(oh(e),Vc):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let c=i&2?Ji():this.parent;return n=i&8&&n===Wr?null:n,c.get(e,n)}catch(c){let d=nC(c);throw d===-200||d===-201?new S(d,null):c}finally{nt(s),hn(a)}}resolveInjectorInitializers(){let e=P(null),n=hn(this),r=nt(void 0),i;try{let o=this.get(fn,gt,{self:!0});for(let a of o)a()}finally{hn(n),nt(r),P(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Hn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ue(e);let n=Zr(e)?e:Ue(e&&e.provide),r=hC(e);if(!Zr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Xi(void 0,Vc,!0),i.factory=()=>ih(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=P(null);try{if(n.value===Jy)throw Ch(Hn(e));return n.value===Vc&&(n.value=Jy,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&fC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ue(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function oh(t){let e=Ia(t),n=e!==null?e.factory:pr(t);if(n!==null)return n;if(t instanceof _)throw new S(204,!1);if(t instanceof Function)return uC(t);throw new S(204,!1)}function uC(t){if(t.length>0)throw new S(204,!1);let n=J8(t);return n!==null?()=>n.factory(t):()=>new t}function hC(t){if(fg(t))return Xi(void 0,t.useValue);{let e=Dh(t);return Xi(e,Vc)}}function Dh(t,e,n){let r;if(Zr(t)){let i=Ue(t);return pr(i)||oh(i)}else if(fg(t))r=()=>Ue(t.useValue);else if(lC(t))r=()=>t.useFactory(...ih(t.deps||[]));else if(dC(t))r=(i,o)=>N(Ue(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ue(t&&(t.useClass||t.provide));if(pC(t))r=()=>new i(...ih(t.deps));else return pr(i)||oh(i)}return r}function ga(t){if(t.destroyed)throw new S(205,!1)}function Xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function pC(t){return!!t.deps}function fC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function yC(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function ah(t,e){for(let n of t)Array.isArray(n)?ah(n,e):n&&yh(n)?ah(n.\u0275providers,e):e(n)}function Fe(t,e){let n;t instanceof Kr?(ga(t),n=t):n=new rh(t);let r,i=hn(n),o=nt(void 0);try{return e()}finally{hn(i),nt(o)}}function gg(){return og()!==void 0||Fc()!=null}var rt=0,T=1,z=2,xe=3,Ot=4,it=5,ot=6,eo=7,De=8,vt=9,yn=10,de=11,to=12,Eh=13,Qr=14,$e=15,mr=16,Jr=17,gn=18,Sa=19,Th=20,jn=21,Jc=22,fr=23,kt=24,ei=25,ti=26,te=27,mg=1,Yt=6,mn=7,xa=8,ni=9,be=10;function Mt(t){return Array.isArray(t)&&typeof t[mg]=="object"}function wt(t){return Array.isArray(t)&&t[mg]===!0}function Lh(t){return(t.flags&4)!==0}function Bn(t){return t.componentOffset>-1}function no(t){return(t.flags&1)===1}function vr(t){return!!t.template}function ri(t){return(t[z]&512)!==0}function kr(t){return(t[z]&256)===256}var vg="svg",kg="math";function Ct(t){for(;Array.isArray(t);)t=t[rt];return t}function Ah(t,e){return Ct(e[t])}function Nt(t,e){return Ct(e[t.index])}function ii(t,e){return t.data[e]}function ed(t,e){return t[e]}function Da(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ft(t,e){let n=e[t];return Mt(n)?n:n[rt]}function Mg(t){return(t[z]&4)===4}function td(t){return(t[z]&128)===128}function wg(t){return wt(t[xe])}function Vt(t,e){return e==null?null:t[e]}function Rh(t){t[Jr]=0}function Ph(t){t[z]&1024||(t[z]|=1024,td(t)&&oi(t))}function Cg(t,e){for(;t>0;)e=e[Qr],t--;return e}function Ea(t){return!!(t[z]&9216||t[kt]?.dirty)}function nd(t){t[yn].changeDetectionScheduler?.notify(8),t[z]&64&&(t[z]|=1024),Ea(t)&&oi(t)}function oi(t){t[yn].changeDetectionScheduler?.notify(0);let e=yr(t);for(;e!==null&&!(e[z]&8192||(e[z]|=8192,!td(e)));)e=yr(e)}function Oh(t,e){if(kr(t))throw new S(911,!1);t[jn]===null&&(t[jn]=[]),t[jn].push(e)}function Ig(t,e){if(t[jn]===null)return;let n=t[jn].indexOf(e);n!==-1&&t[jn].splice(n,1)}function yr(t){let e=t[xe];return wt(e)?e[xe]:e}function Nh(t){return t[eo]??=[]}function Fh(t){return t.cleanup??=[]}function bg(t,e,n,r){let i=Nh(e);i.push(n),t.firstCreatePass&&Fh(t).push(r,i.length-1)}var X={lFrame:Og(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sh=!1;function _g(){return X.lFrame.elementDepthCount}function Sg(){X.lFrame.elementDepthCount++}function Vh(){X.lFrame.elementDepthCount--}function rd(){return X.bindingsEnabled}function id(){return X.skipHydrationRootTNode!==null}function jh(t){return X.skipHydrationRootTNode===t}function xg(t){X.skipHydrationRootTNode=t}function Hh(){X.skipHydrationRootTNode=null}function V(){return X.lFrame.lView}function _e(){return X.lFrame.tView}function D(t){return X.lFrame.contextLView=t,t[De]}function E(t){return X.lFrame.contextLView=null,t}function Ye(){let t=zh();for(;t!==null&&t.type===64;)t=t.parent;return t}function zh(){return X.lFrame.currentTNode}function Dg(){let t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ai(t,e){let n=X.lFrame;n.currentTNode=t,n.isParent=e}function Bh(){return X.lFrame.isParent}function qh(){X.lFrame.isParent=!1}function Uh(){return X.lFrame.contextLView}function $h(){return sh}function ka(t){let e=sh;return sh=t,e}function Wh(){let t=X.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Gh(){return X.lFrame.bindingIndex}function Eg(t){return X.lFrame.bindingIndex=t}function si(){return X.lFrame.bindingIndex++}function od(t){let e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Tg(){return X.lFrame.inI18n}function Lg(t,e){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,ad(e)}function Ag(){return X.lFrame.currentDirectiveIndex}function ad(t){X.lFrame.currentDirectiveIndex=t}function Rg(t){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sd(){return X.lFrame.currentQueryIndex}function Ta(t){X.lFrame.currentQueryIndex=t}function gC(t){let e=t[T];return e.type===2?e.declTNode:e.type===1?t[it]:null}function Zh(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=gC(o),i===null||(o=o[Qr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=X.lFrame=Pg();return r.currentTNode=e,r.lView=t,!0}function cd(t){let e=Pg(),n=t[T];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Pg(){let t=X.lFrame,e=t===null?null:t.child;return e===null?Og(t):e}function Og(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ng(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Kh=Ng;function dd(){let t=Ng();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fg(t){return(X.lFrame.contextLView=Cg(t,X.lFrame.contextLView))[De]}function Xt(){return X.lFrame.selectedIndex}function Mr(t){X.lFrame.selectedIndex=t}function ld(){let t=X.lFrame;return ii(t.tView,t.selectedIndex)}function Yh(){return X.lFrame.currentNamespace}var Vg=!0;function ud(){return Vg}function qn(t){Vg=t}function ch(t,e=null,n=null,r){let i=Xh(t,e,n,r);return i.resolveInjectorInitializers(),i}function Xh(t,e=null,n=null,r,i=new Set){let o=[n||gt,Xc(t)];return r=r||(typeof t=="object"?void 0:Hn(t)),new Kr(o,e||Ji(),r||null,i)}var Ie=class t{static THROW_IF_NOT_FOUND=Wr;static NULL=new va;static create(e,n){if(Array.isArray(e))return ch({name:""},n,e,"");{let r=e.name??"";return ch({name:r},e.parent,e.providers,r)}}static \u0275prov=C({token:t,providedIn:"any",factory:()=>N(_h)});static __NG_ELEMENT_ID__=-1},le=new _(""),Xe=(()=>{class t{static __NG_ELEMENT_ID__=mC;static __NG_ENV_ID__=n=>n}return t})(),zc=class extends Xe{_lView;constructor(e){super(),this._lView=e}get destroyed(){return kr(this._lView)}onDestroy(e){let n=this._lView;return Oh(n,e),()=>Ig(n,e)}};function mC(){return new zc(V())}var jg=!1,vn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Pe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new q(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=C({token:t,providedIn:"root",factory:()=>new t})}return t})(),dh=class extends H{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,gg()&&(this.destroyRef=f(Xe,{optional:!0})??void 0,this.pendingTasks=f(vn,{optional:!0})??void 0)}emit(e){let n=P(null);try{super.next(e)}finally{P(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return e instanceof he&&e.add(s),s}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},pe=dh;function Bc(...t){}function Qh(t){let e,n;function r(){t=Bc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Jh(t){return queueMicrotask(()=>t()),()=>{t=Bc}}var ep="isAngularZone",Ma=ep+"_ID",vC=0,we=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new pe(!1);onMicrotaskEmpty=new pe(!1);onStable=new pe(!1);onError=new pe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jg}=e;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,wC(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ep)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,kC,Bc,Bc);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},kC={};function tp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function MC(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Qh(()=>{t.callbackScheduled=!1,lh(t),t.isCheckStableRunning=!0,tp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),lh(t)}function wC(t){let e=()=>{MC(t)},n=vC++;t._inner=t._inner.fork({name:"angular",properties:{[ep]:!0,[Ma]:n,[Ma+n]:!0},onInvokeTask:(r,i,o,a,s,c)=>{if(CC(c))return r.invokeTask(o,a,s,c);try{return eg(t),r.invokeTask(o,a,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),tg(t)}},onInvoke:(r,i,o,a,s,c,d)=>{try{return eg(t),r.invoke(o,a,s,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!IC(c)&&e(),tg(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,lh(t),tp(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function lh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function eg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tg(t){t._nesting--,tp(t)}var wa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new pe;onMicrotaskEmpty=new pe;onStable=new pe;onError=new pe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function CC(t){return Hg(t,"__ignore_ng_zone__")}function IC(t){return Hg(t,"__scheduler_tick__")}function Hg(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Rt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},jt=new _("",{factory:()=>{let t=f(we),e=f(Ce),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(Rt),n.handleError(r))})}}}),zg={provide:fn,useValue:()=>{let t=f(Rt,{optional:!0})},multi:!0},bC=new _("",{factory:()=>{let t=f(le).defaultView;if(!t)return;let e=f(jt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),f(Xe).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function np(){return Pt([hg(()=>void f(bC))])}function g(t,e){let[n,r,i]=R1(t,e?.equal),o=n,a=o[Ge];return o.set=r,o.update=i,o.asReadonly=rp.bind(o),o}function rp(){let t=this[Ge];if(t.readonlyFn===void 0){let e=()=>this();e[Ge]=t,t.readonlyFn=e}return t.readonlyFn}var La=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=_C}return t})();function _C(){return new La(V(),Ye())}var zn=class{},Aa=new _("",{factory:()=>!0});var ip=new _(""),ci=(()=>{class t{internalPendingTasks=f(vn);scheduler=f(zn);errorHandler=f(jt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=C({token:t,providedIn:"root",factory:()=>new t})}return t})(),hd=(()=>{class t{static \u0275prov=C({token:t,providedIn:"root",factory:()=>new uh})}return t})(),uh=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},qc=class{[Ge];constructor(e){this[Ge]=e}destroy(){this[Ge].destroy()}};function Ee(t,e){let n=e?.injector??f(Ie),r=e?.manualCleanup!==!0?n.get(Xe):null,i,o=n.get(La,null,{optional:!0}),a=n.get(zn);return o!==null?(i=DC(o.view,a,t),r instanceof zc&&r._lView===o.view&&(r=null)):i=EC(t,n.get(hd),a),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new qc(i)}var Bg=Z(v({},O1),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=ka(!1);try{N1(this)}finally{ka(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=P(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],P(t)}}}),SC=Z(v({},Bg),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(jr(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),xC=Z(v({},Bg),{consumerMarkedDirty(){this.view[z]|=8192,oi(this.view),this.notifier.notify(13)},destroy(){if(jr(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[fr]?.delete(this)}});function DC(t,e,n){let r=Object.create(xC);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=qg(r,n),t[fr]??=new Set,t[fr].add(r),r.consumerMarkedDirty(r),r}function EC(t,e,n){let r=Object.create(SC);return r.fn=qg(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function qg(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function at(t){return P1(t)}var pd={JSACTION:"jsaction"};function lo(t){return{toString:t}.toString()}var fd="__parameters__";function FC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function VC(t,e,n){return lo(()=>{let r=FC(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(c,d,l){let u=c.hasOwnProperty(fd)?c[fd]:Object.defineProperty(c,fd,{value:[]})[fd];for(;u.length<=l;)u.push(null);return(u[l]=u[l]||[]).push(a),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var qd=ag(VC("Optional"),8);function jC(t){return typeof t=="function"}function Dm(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Id=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},$n=(()=>{let t=()=>Em;return t.ngInherit=!0,t})();function Em(t){return t.type.prototype.ngOnChanges&&(t.setInput=zC),HC}function HC(){let t=Lm(this),e=t?.current;if(e){let n=t.previous;if(n===Xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zC(t,e,n,r,i){let o=this.declaredInputs[r],a=Lm(t)||BC(t,{previous:Xr,current:null}),s=a.current||(a.current={}),c=a.previous,d=c[o];s[o]=new Id(d&&d.currentValue,n,c===Xr),Dm(t,e,i,n)}var Tm="__ngSimpleChanges__";function Lm(t){return t[Tm]||null}function BC(t,e){return t[Tm]=e}var Ug=[];var ae=function(t,e=null,n){for(let r=0;r<Ug.length;r++){let i=Ug[r];i(t,e,n)}},ne=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(ne||{});function qC(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=Em(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Am(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:l}=o;a&&(t.contentHooks??=[]).push(-n,a),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function gd(t,e,n){Rm(t,e,3,n)}function md(t,e,n,r){(t[z]&3)===n&&Rm(t,e,n,r)}function op(t,e){let n=t[z];(n&3)===e&&(n&=16383,n+=1,t[z]=n)}function Rm(t,e,n,r){let i=r!==void 0?t[Jr]&65535:0,o=r??-1,a=e.length-1,s=0;for(let c=i;c<a;c++)if(typeof e[c+1]=="number"){if(s=e[c],r!=null&&s>=r)break}else e[c]<0&&(t[Jr]+=65536),(s<o||o==-1)&&(UC(t,n,e,c),t[Jr]=(t[Jr]&4294901760)+c+2),c++}function $g(t,e){ae(ne.LifecycleHookStart,t,e);let n=P(null);try{e.call(t)}finally{P(n),ae(ne.LifecycleHookEnd,t,e)}}function UC(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=t[a];i?t[z]>>14<t[Jr]>>16&&(t[z]&3)===e&&(t[z]+=16384,$g(s,o)):$g(s,o)}var io=-1,ui=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function $C(t){return(t.flags&8)!==0}function WC(t){return(t.flags&16)!==0}function GC(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];t.setAttribute(e,a,s,o)}else{let o=i,a=n[++r];KC(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function ZC(t){return t===3||t===4||t===6}function KC(t){return t.charCodeAt(0)===64}function Ud(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Wg(t,n,i,null,e[++r]):Wg(t,n,i,null,null))}}return t}function Wg(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Pm(t){return t!==io}function bd(t){return t&32767}function YC(t){return t>>16}function _d(t,e){let n=YC(t),r=e;for(;n>0;)r=r[Qr],n--;return r}var vp=!0;function Sd(t){let e=vp;return vp=t,e}var XC=256,Om=XC-1,Nm=5,QC=0,kn={};function JC(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yr)&&(r=n[Yr]),r==null&&(r=n[Yr]=QC++);let i=r&Om,o=1<<i;e.data[t+(i>>Nm)]|=o}function xd(t,e){let n=Fm(t,e);if(n!==-1)return n;let r=e[T];r.firstCreatePass&&(t.injectorIndex=e.length,ap(r.data,t),ap(e,null),ap(r.blueprint,null));let i=Wp(t,e),o=t.injectorIndex;if(Pm(i)){let a=bd(i),s=_d(i,e),c=s[T].data;for(let d=0;d<8;d++)e[o+d]=s[a+d]|c[a+d]}return e[o+8]=i,o}function ap(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fm(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Wp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Bm(i),r===null)return io;if(n++,i=i[Qr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return io}function kp(t,e,n){JC(t,e,n)}function Vm(t,e,n){if(n&8||t!==void 0)return t;Zc(e,"NodeInjector")}function jm(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[vt],o=nt(void 0);try{return i?i.get(e,r,n&8):Ih(e,r,n&8)}finally{nt(o)}}return Vm(r,e,n)}function Hm(t,e,n,r=0,i){if(t!==null){if(e[z]&2048&&!(r&2)){let a=rI(t,e,n,r,kn);if(a!==kn)return a}let o=zm(t,e,n,r,kn);if(o!==kn)return o}return jm(e,n,r,i)}function zm(t,e,n,r,i){let o=tI(n);if(typeof o=="function"){if(!Zh(e,t,r))return r&1?Vm(i,n,r):jm(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))Zc(n);else return a}finally{Kh()}}else if(typeof o=="number"){let a=null,s=Fm(t,e),c=io,d=r&1?e[$e][it]:null;for((s===-1||r&4)&&(c=s===-1?Wp(t,e):e[s+8],c===io||!Zg(r,!1)?s=-1:(a=e[T],s=bd(c),e=_d(c,e)));s!==-1;){let l=e[T];if(Gg(o,s,l.data)){let u=eI(s,e,n,a,r,d);if(u!==kn)return u}c=e[s+8],c!==io&&Zg(r,e[T].data[s+8]===d)&&Gg(o,s,e)?(a=l,s=bd(c),e=_d(c,e)):s=-1}}return i}function eI(t,e,n,r,i,o){let a=e[T],s=a.data[t+8],c=r==null?Bn(s)&&vp:r!=a&&(s.type&3)!==0,d=i&1&&o===s,l=vd(s,a,n,c,d);return l!==null?Na(e,a,l,s,i):kn}function vd(t,e,n,r,i){let o=t.providerIndexes,a=e.data,s=o&1048575,c=t.directiveStart,d=t.directiveEnd,l=o>>20,u=r?s:s+l,h=i?s+l:d;for(let p=u;p<h;p++){let y=a[p];if(p<c&&n===y||p>=c&&y.type===n)return p}if(i){let p=a[c];if(p&&vr(p)&&p.type===n)return c}return null}function Na(t,e,n,r,i){let o=t[n],a=e.data;if(o instanceof ui){let s=o;if(s.resolving){let p=ng(a[n]);throw Ch(p)}let c=Sd(s.canSeeViewProviders);s.resolving=!0;let d=a[n].type||a[n],l,u=s.injectImpl?nt(s.injectImpl):null,h=Zh(t,r,0);try{o=t[n]=s.factory(void 0,i,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&qC(n,a[n],e)}finally{u!==null&&nt(u),Sd(c),s.resolving=!1,Kh()}}return o}function tI(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Yr)?t[Yr]:void 0;return typeof e=="number"?e>=0?e&Om:nI:e}function Gg(t,e,n){let r=1<<t;return!!(n[e+(t>>Nm)]&r)}function Zg(t,e){return!(t&2)&&!(t&1&&e)}var li=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Hm(this._tNode,this._lView,e,Gr(r),n)}};function nI(){return new li(Ye(),V())}function $d(t){return lo(()=>{let e=t.prototype.constructor,n=e[ma]||Mp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ma]||Mp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Mp(t){return ph(t)?()=>{let e=Mp(Ue(t));return e&&e()}:pr(t)}function rI(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[z]&2048&&!ri(a);){let s=zm(o,a,n,r|2,kn);if(s!==kn)return s;let c=o.parent;if(!c){let d=a[Th];if(d){let l=d.get(n,kn,r);if(l!==kn)return l}c=Bm(a),a=a[Qr]}o=c}return i}function Bm(t){let e=t[T],n=e.type;return n===2?e.declTNode:n===1?t[it]:null}function iI(){return uo(Ye(),V())}function uo(t,e){return new ue(Nt(t,e))}var ue=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=iI}return t})();function qm(t){return t instanceof ue?t.nativeElement:t}function oI(){return this._results[Symbol.iterator]()}var Dd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new H}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=cg(e);(this._changesDetected=!sg(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=oI},Um="ngSkipHydration",aI="ngskiphydration";function $m(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===aI)return!0}return!1}function Wm(t){return t.hasAttribute(Um)}function Ed(t){return(t.flags&128)===128}function Gm(t){if(Ed(t))return!0;let e=t.parent;for(;e;){if(Ed(t)||$m(e))return!0;e=e.parent}return!1}var Gp=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Gp||{}),Zm=new Map,sI=0;function cI(){return sI++}function dI(t){Zm.set(t[Sa],t)}function wp(t){Zm.delete(t[Sa])}var Kg="__ngContext__";function so(t,e){Mt(e)?(t[Kg]=e[Sa],dI(e)):t[Kg]=e}function Km(t){return Xm(t[to])}function Ym(t){return Xm(t[Ot])}function Xm(t){for(;t!==null&&!wt(t);)t=t[Ot];return t}var Cp;function Zp(t){Cp=t}function Qm(){if(Cp!==void 0)return Cp;if(typeof document<"u")return document;throw new S(210,!1)}var Ht=new _("",{factory:()=>lI}),lI="ng";var Wd=new _(""),Wn=new _("",{providedIn:"platform",factory:()=>"unknown"});var ho=new _("",{factory:()=>f(le).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var po=(()=>{class t{static \u0275prov=C({token:t,providedIn:"root",factory:()=>{let n=new t;return n.store=uI(f(le),f(Ht)),n}});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function uI(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Jm="h",ev="b",hI="f",pI="n",tv="e",nv="t",Gd="c",Kp="x",Fa="r",rv="i",iv="n",Yp="d";var ov="di",av="s",sv="p";var Ua=new _(""),cv=!1,Xp=new _("",{factory:()=>cv});var Qp=new _(""),dv=!1,lv=new _(""),Jp=new _("",{factory:()=>new Map});var $a="ngb";var uv=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},hv=(t,e)=>{let n=t,r=n.getAttribute($a)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var pv=t=>{t.removeAttribute(pd.JSACTION),t.removeAttribute($a),t.__jsaction_fns=void 0},fv=new _("",{factory:()=>({})});function e0(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Ip=new Map;function yv(t,e){return Ip.set(t,e),()=>Ip.delete(t)}var Yg=!1,gv=(t,e,n,r)=>{};function fI(t,e,n,r){gv(t,e,n,r)}function mv(){Yg||(gv=(t,e,n,r)=>{let i=t[vt].get(Ht);Ip.get(i)?.(e,n,r)},Yg=!0)}var Zd=new _("");function Wa(t){return(t.flags&32)===32}var yI="__nghData__",t0=yI,gI="__nghDeferData__",vv=gI;var kd="ngh",kv="nghm",Mv=()=>null;function mI(t,e,n=!1){let r=t.getAttribute(kd);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let a=o?`|${o}`:"",s=n?i:a,c={};if(r!==""){let l=e.get(po,null,{optional:!0});l!==null&&(c=l.get(t0,[])[Number(r)])}let d={data:c,firstChild:t.firstChild??null};return n&&(d.firstChild=t,Kd(d,0,t.nextSibling)),s?t.setAttribute(kd,s):t.removeAttribute(kd),d}function wv(){Mv=mI}function Cv(t,e,n=!1){return Mv(t,e,n)}function Iv(t){let e=t._lView;return e[T].type===2?null:(ri(e)&&(e=e[te]),e)}function vI(t){return t.textContent?.replace(/\s/gm,"")}function kI(t){let e=Qm(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let a=vI(o);return a==="ngetn"||a==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Kd(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function bp(t,e){return t.segmentHeads?.[e]??null}function bv(t){return t.get(lv,!1,{optional:!0})}function MI(t,e){let n=t.data,r=n[tv]?.[e]??null;return r===null&&n[Gd]?.[e]&&(r=n0(t,e)),r}function _v(t,e){return t.data[Gd]?.[e]??null}function n0(t,e){let n=_v(t,e)??[],r=0;for(let i of n)r+=i[Fa]*(i[Kp]??1);return r}function wI(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Yp];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Sv(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Yp];t.disconnectedNodes=n?new Set(n):null}return!!wI(t)?.has(e)}function Yd(t,e){let n=t[ot];return n!==null&&!id()&&!Wa(e)&&!Sv(n,e.index-te)}function CI(t,e){let n=e.get(Zd),i=e.get(po).get(vv,{}),o=!1,a=t,s=null,c=[];for(;!o&&a;){o=n.has(a);let d=n.hydrating.get(a);if(s===null&&d!=null){s=d.promise;break}c.unshift(a),a=i[a][sv]}return{parentBlockPromise:s,hydrationQueue:c}}function sp(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===kv}function Xg(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function xv(t){for(let r of t.body.childNodes)if(sp(r))return;let e=Xg(t.body.previousSibling);if(sp(e))return;let n=Xg(t.head.lastChild);if(!sp(n))throw new S(-507,!1)}function Dv(t,e){let n=t.contentQueries;if(n!==null){let r=P(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=t.data[a];Ta(o),s.contentQueries(2,e[a],a)}}}finally{P(r)}}}function _p(t,e,n){Ta(0);let r=P(null);try{e(t,n)}finally{P(r)}}function r0(t,e,n){if(Lh(e)){let r=P(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let s=t.data[a];if(s.contentQueries){let c=n[a];s.contentQueries(1,c,a)}}}finally{P(r)}}}var Jt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Jt||{});var Td=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Uc})`}};function Xd(t){return t instanceof Td?t.changingThisBreaksApplicationSecurity:t}function i0(t,e){let n=Ev(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Uc})`)}return n===e}function Ev(t){return t instanceof Td&&t.getTypeName()||null}var II=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function o0(t){return t=String(t),t.match(II)?t:"unsafe:"+t}var bI=/^>|^->|<!--|-->|--!>|<!-$/g,_I=/(<|>)/g,SI="\u200B$1\u200B";function xI(t){return t.replace(bI,e=>e.replace(_I,SI))}function Tv(t,e){return t.createText(e)}function DI(t,e,n){t.setValue(e,n)}function Lv(t,e){return t.createComment(xI(e))}function a0(t,e,n){return t.createElement(e,n)}function Ld(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Av(t,e,n){t.appendChild(e,n)}function Qg(t,e,n,r,i){r!==null?Ld(t,e,n,r,i):Av(t,e,n)}function s0(t,e,n,r){t.removeChild(null,e,n,r)}function Rv(t){t.textContent=""}function EI(t,e,n){t.setAttribute(e,"style",n)}function TI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Pv(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&GC(t,e,r),i!==null&&TI(t,e,i),o!==null&&EI(t,e,o)}var Qd=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Qd||{});function Jd(t){let e=LI();return e?e.sanitize(Qd.URL,t)||"":i0(t,"URL")?Xd(t):o0(pn(t))}function LI(){let t=V();return t&&t[yn].sanitizer}function c0(t){return t.ownerDocument.defaultView}function fo(t){return t.ownerDocument}function Ov(t){return t.ownerDocument.body}function Nv(t){return t instanceof Function?t():t}function AI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Fv="ng-template";function RI(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&AI(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(d0(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function d0(t){return t.type===4&&t.value!==Fv}function PI(t,e,n){let r=t.type===4&&!n?Fv:t.value;return e===r}function OI(t,e,n){let r=4,i=t.attrs,o=i!==null?VI(i):0,a=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!a&&!Qt(r)&&!Qt(c))return!1;if(a&&Qt(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!PI(t,c,n)||c===""&&e.length===1){if(Qt(r))return!1;a=!0}}else if(r&8){if(i===null||!RI(t,i,c,n)){if(Qt(r))return!1;a=!0}}else{let d=e[++s],l=NI(c,i,d0(t),n);if(l===-1){if(Qt(r))return!1;a=!0;continue}if(d!==""){let u;if(l>o?u="":u=i[l+1].toLowerCase(),r&2&&d!==u){if(Qt(r))return!1;a=!0}}}}return Qt(r)||a}function Qt(t){return(t&1)===0}function NI(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=e[++i];for(;typeof s=="string";)s=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return jI(e,t)}function Vv(t,e,n=!1){for(let r=0;r<e.length;r++)if(OI(t,e[r],n))return!0;return!1}function FI(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function VI(t){for(let e=0;e<t.length;e++){let n=t[e];if(ZC(n))return e}return t.length}function jI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function HI(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Jg(t,e){return t?":not("+e.trim()+")":e}function zI(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Qt(a)&&(e+=Jg(o,i),i=""),r=a,o=o||!Qt(r);n++}return i!==""&&(e+=Jg(o,i)),e}function BI(t){return t.map(zI).join(",")}function qI(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Qt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var st={};function l0(t,e,n,r,i,o,a,s,c,d,l){let u=te+r,h=u+i,p=UI(u,h),y=typeof d=="function"?d():d;return p[T]={type:t,blueprint:p,template:n,queries:null,viewQuery:s,declTNode:e,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function UI(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:st);return n}function $I(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=l0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function u0(t,e,n,r,i,o,a,s,c,d,l){let u=e.blueprint.slice();return u[rt]=i,u[z]=r|4|128|8|64|1024,(d!==null||t&&t[z]&2048)&&(u[z]|=2048),Rh(u),u[xe]=u[Qr]=t,u[De]=n,u[yn]=a||t&&t[yn],u[de]=s||t&&t[de],u[vt]=c||t&&t[vt]||null,u[it]=o,u[Sa]=cI(),u[ot]=l,u[Th]=d,u[$e]=e.type==2?t[$e]:u,u}function WI(t,e,n){let r=Nt(e,t),i=$I(n),o=t[yn].rendererFactory,a=h0(t,u0(t,i,null,jv(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=a}function jv(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Hv(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function h0(t,e){return t[to]?t[Eh][Ot]=e:t[to]=e,t[Eh]=e,e}function k(t=1){zv(_e(),V(),Xt()+t,!1)}function zv(t,e,n,r){if(!r)if((e[z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&gd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&md(e,o,0,n)}Mr(n)}var el=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(el||{});function Sp(t,e,n,r){let i=P(null);try{let[o,a,s]=t.inputs[n],c=null;(a&el.SignalBased)!==0&&(c=e[o][Ge]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):Dm(e,c,o,r)}finally{P(i)}}var Mn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Mn||{}),GI;function p0(t,e){return GI(t,e)}var hi=new Set,tl=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(tl||{}),Gn=new _(""),em=new Set;function _t(t){em.has(t)||(em.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var f0=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=C({token:t,providedIn:"root",factory:()=>new t})}return t})(),Bv=[0,1,2,3],qv=(()=>{class t{ngZone=f(we);scheduler=f(zn);errorHandler=f(Rt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){f(Gn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ae(ne.AfterRenderHooksStart),this.executing=!0;for(let r of Bv)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ae(ne.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[ei]??=[]).push(n),oi(r),r[z]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(tl.AFTER_NEXT_RENDER,n):n()}static \u0275prov=C({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ad=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,a=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ei];e&&(this.view[ei]=e.filter(n=>n!==this))}};function yo(t,e){let n=e?.injector??f(Ie);return _t("NgAfterNextRender"),KI(t,n,e,!0)}function ZI(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function KI(t,e,n,r){let i=e.get(f0);i.impl??=e.get(qv);let o=e.get(Gn,null,{optional:!0}),a=n?.manualCleanup!==!0?e.get(Xe):null,s=e.get(La,null,{optional:!0}),c=new Ad(i.impl,ZI(t),s?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var Uv=new _("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:f(Ce)})});function $v(t,e,n){let r=t.get(Uv);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function YI(t,e){let n=t.get(Uv);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function XI(t,e){for(let[n,r]of e)$v(t,r.animateFns)}function tm(t,e,n,r){let i=t?.[ti]?.enter;e!==null&&i&&i.has(n.index)&&XI(r,i)}function ro(t,e,n,r,i,o,a,s){if(i!=null){let c,d=!1;wt(i)?c=i:Mt(i)&&(d=!0,i=i[rt]);let l=Ct(i);t===0&&r!==null?(tm(s,r,o,n),a==null?Av(e,r,l):Ld(e,r,l,a||null,!0)):t===1&&r!==null?(tm(s,r,o,n),Ld(e,r,l,a||null,!0)):t===2?nm(s,o,n,u=>{s0(e,l,d,u)}):t===3&&nm(s,o,n,()=>{e.destroyNode(l)}),c!=null&&c6(e,t,n,c,o,r,a)}}function QI(t,e){Wv(t,e),e[rt]=null,e[it]=null}function JI(t,e,n,r,i,o){r[rt]=i,r[it]=e,rl(t,r,n,1,i,o)}function Wv(t,e){e[yn].changeDetectionScheduler?.notify(9),rl(t,e,e[de],2,null,null)}function e6(t){let e=t[to];if(!e)return cp(t[T],t);for(;e;){let n=null;if(Mt(e))n=e[to];else{let r=e[be];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)Mt(e)&&cp(e[T],e),e=e[xe];e===null&&(e=t),Mt(e)&&cp(e[T],e),n=e&&e[Ot]}e=n}}function y0(t,e){let n=t[ni],r=n.indexOf(e);n.splice(r,1)}function nl(t,e){if(kr(e))return;let n=e[de];n.destroyNode&&rl(t,e,n,3,null,null),e6(e)}function cp(t,e){if(kr(e))return;let n=P(null);try{e[z]&=-129,e[z]|=256,e[kt]&&jr(e[kt]),r6(t,e),n6(t,e),e[T].type===1&&e[de].destroy();let r=e[mr];if(r!==null&&wt(e[xe])){r!==e[xe]&&y0(r,e);let i=e[gn];i!==null&&i.detachView(t)}wp(e)}finally{P(n)}}function nm(t,e,n,r){let i=t?.[ti];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&hi.add(t),$v(n,()=>{if(i.leave&&i.leave.has(e.index)){let a=i.leave.get(e.index),s=[];if(a){for(let c=0;c<a.animateFns.length;c++){let d=a.animateFns[c],{promise:l}=d();s.push(l)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(s),t6(t,r)}else t&&hi.delete(t),r(!1)},i)}function t6(t,e){let n=t[ti]?.running;if(n){n.then(()=>{t[ti].running=void 0,hi.delete(t),e(!0)});return}e(!1)}function n6(t,e){let n=t.cleanup,r=e[eo];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(e[eo]=null);let i=e[jn];if(i!==null){e[jn]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=e[fr];if(o!==null){e[fr]=null;for(let a of o)a.destroy()}}function r6(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ui)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],c=o[a+1];ae(ne.LifecycleHookStart,s,c);try{c.call(s)}finally{ae(ne.LifecycleHookEnd,s,c)}}else{ae(ne.LifecycleHookStart,i,o);try{o.call(i)}finally{ae(ne.LifecycleHookEnd,i,o)}}}}}function Gv(t,e,n){return i6(t,e.parent,n)}function i6(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[rt];if(Bn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Jt.None||i===Jt.Emulated)return null}return Nt(r,n)}function Zv(t,e,n){return a6(t,e,n)}function o6(t,e,n){return t.type&40?Nt(t,n):null}var a6=o6,rm;function g0(t,e,n,r){let i=Gv(t,r,e),o=e[de],a=r.parent||e[it],s=Zv(a,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Qg(o,i,n[c],s,!1);else Qg(o,i,n,s,!1);rm!==void 0&&rm(o,r,e,n,i)}function Pa(t,e){if(e!==null){let n=e.type;if(n&3)return Nt(e,t);if(n&4)return xp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Pa(t,r);{let i=t[e.index];return wt(i)?xp(-1,i):Ct(i)}}else{if(n&128)return Pa(t,e.next);if(n&32)return p0(e,t)()||Ct(t[e.index]);{let r=Kv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=yr(t[$e]);return Pa(i,r)}else return Pa(t,e.next)}}}return null}function Kv(t,e){if(e!==null){let r=t[$e][it],i=e.projection;return r.projection[i]}return null}function xp(t,e){let n=be+t+1;if(n<e.length){let r=e[n],i=r[T].firstChild;if(i!==null)return Pa(r,i)}return e[mn]}function m0(t,e,n,r,i,o,a){for(;n!=null;){let s=r[vt];if(n.type===128){n=n.next;continue}let c=r[n.index],d=n.type;if(a&&e===0&&(c&&so(Ct(c),r),n.flags|=2),!Wa(n))if(d&8)m0(t,e,n.child,r,i,o,!1),ro(e,t,s,i,c,n,o,r);else if(d&32){let l=p0(n,r),u;for(;u=l();)ro(e,t,s,i,u,n,o,r);ro(e,t,s,i,c,n,o,r)}else d&16?Yv(t,e,r,n,i,o):ro(e,t,s,i,c,n,o,r);n=a?n.projectionNext:n.next}}function rl(t,e,n,r,i,o){m0(n,r,t.firstChild,e,i,o,!1)}function s6(t,e,n){let r=e[de],i=Gv(t,n,e),o=n.parent||e[it],a=Zv(o,n,e);Yv(r,0,e,n,i,a)}function Yv(t,e,n,r,i,o){let a=n[$e],c=a[it].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let l=c[d];ro(e,t,n[vt],i,l,r,o,n)}else{let d=c,l=a[xe];Ed(r)&&(d.flags|=128),m0(t,e,d,l,i,o,!0)}}function c6(t,e,n,r,i,o,a){let s=r[mn],c=Ct(r);s!==c&&ro(e,t,n,o,s,i,a);for(let d=be;d<r.length;d++){let l=r[d];rl(l[T],l,t,e,o,s)}}function d6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Mn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Mn.Important),t.setStyle(n,r,i,o))}}function Xv(t,e,n,r,i){let o=Xt(),a=r&2;try{Mr(-1),a&&e.length>te&&zv(t,e,te,!1);let s=a?ne.TemplateUpdateStart:ne.TemplateCreateStart;ae(s,i,n),n(r,i)}finally{Mr(o);let s=a?ne.TemplateUpdateEnd:ne.TemplateCreateEnd;ae(s,i,n)}}function il(t,e,n){g6(t,e,n),(n.flags&64)===64&&m6(t,e,n)}function Ga(t,e,n=Nt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(e,t):t[a];t[i++]=s}}}function l6(t,e,n,r){let o=r.get(Xp,cv)||n===Jt.ShadowDom||n===Jt.ExperimentalIsolatedShadowDom,a=t.selectRootElement(e,o);return u6(a),a}function u6(t){Qv(t)}var Qv=()=>null;function h6(t){Wm(t)?Rv(t):kI(t)}function Jv(){Qv=h6}function p6(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function f6(t,e,n,r,i,o){let a=e[T];if(C0(t,a,e,n,r)){Bn(t)&&y6(e,t.index);return}t.type&3&&(n=p6(n)),ek(t,e,n,r,i,o)}function ek(t,e,n,r,i,o){if(t.type&3){let a=Nt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(a,n,r)}else t.type&12}function y6(t,e){let n=Ft(e,t);n[z]&16||(n[z]|=64)}function g6(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Bn(n)&&WI(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||xd(n,e);let o=n.initialInputs;for(let a=r;a<i;a++){let s=t.data[a],c=Na(e,t,a,n);if(so(c,e),o!==null&&w6(e,a-r,c,s,n,o),vr(s)){let d=Ft(n.index,e);d[De]=Na(e,t,a,n)}}}function m6(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Ag();try{Mr(o);for(let s=r;s<i;s++){let c=t.data[s],d=e[s];ad(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&v6(c,d)}}finally{Mr(-1),ad(a)}}function v6(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function v0(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Vv(e,o.selectors,!1)&&(r??=[],vr(o)?r.unshift(o):r.push(o))}return r}function k6(t,e,n,r,i,o){let a=Nt(t,e);M6(e[de],a,o,t.value,n,r,i)}function M6(t,e,n,r,i,o,a){if(o==null)t.removeAttribute(e,i,n);else{let s=a==null?pn(o):a(o,r||"",i);t.setAttribute(e,i,s,n)}}function w6(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],d=a[s+1];Sp(r,n,c,d)}}function k0(t,e,n,r,i){let o=te+n,a=e[T],s=i(a,e,t,r,n);e[o]=s,ai(t,!0);let c=t.type===2;return c?(Pv(e[de],s,t),(_g()===0||no(t))&&so(s,e),Sg()):so(s,e),ud()&&(!c||!Wa(t))&&g0(a,e,s,t),t}function M0(t){let e=t;return Bh()?qh():(e=e.parent,ai(e,!1)),e}function w0(t,e){let n=t[vt];if(!n)return;let r;try{r=n.get(jt,null)}catch{r=null}r?.(e)}function C0(t,e,n,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let d=a[c],l=a[c+1],u=e.data[d];Sp(u,n[d],l,i),s=!0}if(o)for(let c of o){let d=n[c],l=e.data[c];Sp(l,d,r,i),s=!0}return s}function C6(t,e){let n=Ft(e,t),r=n[T];I6(r,n);let i=n[rt];i!==null&&n[ot]===null&&(n[ot]=Cv(i,n[vt])),ae(ne.ComponentStart);try{I0(r,n,n[De])}finally{ae(ne.ComponentEnd,n[De])}}function I6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function I0(t,e,n){cd(e);try{let r=t.viewQuery;r!==null&&_p(1,r,n);let i=t.template;i!==null&&Xv(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[gn]?.finishViewCreation(t),t.staticContentQueries&&Dv(t,e),t.staticViewQueries&&_p(2,t.viewQuery,n);let o=t.components;o!==null&&b6(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[z]&=-5,dd()}}function b6(t,e){for(let n=0;n<e.length;n++)C6(t,e[n])}function go(t,e,n,r){let i=P(null);try{let o=e.tView,s=t[z]&4096?4096:16,c=u0(t,o,n,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];c[mr]=d;let l=t[gn];return l!==null&&(c[gn]=l.createEmbeddedView(o)),I0(o,c,n),c}finally{P(i)}}function pi(t,e){return!e||e.firstChild===null||Ed(t)}function Va(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Ct(o)),wt(o)&&tk(o,r);let a=n.type;if(a&8)Va(t,e,n.child,r);else if(a&32){let s=p0(n,e),c;for(;c=s();)r.push(c)}else if(a&16){let s=Kv(e,n);if(Array.isArray(s))r.push(...s);else{let c=yr(e[$e]);Va(c[T],c,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function tk(t,e){for(let n=be;n<t.length;n++){let r=t[n],i=r[T].firstChild;i!==null&&Va(r[T],r,i,e)}t[mn]!==t[rt]&&e.push(t[mn])}function nk(t){if(t[ei]!==null){for(let e of t[ei])e.impl.addSequence(e);t[ei].length=0}}var rk=[];function _6(t){return t[kt]??S6(t)}function S6(t){let e=rk.pop()??Object.create(D6);return e.lView=t,e}function x6(t){t.lView[kt]!==t&&(t.lView=null,rk.push(t))}var D6=Z(v({},Pi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{oi(t.lView)},consumerOnSignalRead(){this.lView[kt]=this}});function E6(t){let e=t[kt]??Object.create(T6);return e.lView=t,e}var T6=Z(v({},Pi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=yr(t.lView);for(;e&&!ik(e[T]);)e=yr(e);e&&Ph(e)},consumerOnSignalRead(){this.lView[kt]=this}});function ik(t){return t.type!==2}function ok(t){if(t[fr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[fr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[z]&8192)}}var L6=100;function ak(t,e=0){let r=t[yn].rendererFactory,i=!1;i||r.begin?.();try{A6(t,e)}finally{i||r.end?.()}}function A6(t,e){let n=$h();try{ka(!0),Dp(t,e);let r=0;for(;Ea(t);){if(r===L6)throw new S(103,!1);r++,Dp(t,1)}}finally{ka(n)}}function R6(t,e,n,r){if(kr(e))return;let i=e[z],o=!1,a=!1;cd(e);let s=!0,c=null,d=null;o||(ik(t)?(d=_6(e),c=Oi(d)):oc()===null?(s=!1,d=E6(e),c=Oi(d)):e[kt]&&(jr(e[kt]),e[kt]=null));try{Rh(e),Eg(t.bindingStartIndex),n!==null&&Xv(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let p=t.preOrderCheckHooks;p!==null&&gd(e,p,null)}else{let p=t.preOrderHooks;p!==null&&md(e,p,0,null),op(e,0)}if(a||P6(e),ok(e),sk(e,0),t.contentQueries!==null&&Dv(t,e),!o)if(l){let p=t.contentCheckHooks;p!==null&&gd(e,p)}else{let p=t.contentHooks;p!==null&&md(e,p,1),op(e,1)}N6(t,e);let u=t.components;u!==null&&dk(e,u,0);let h=t.viewQuery;if(h!==null&&_p(2,h,r),!o)if(l){let p=t.viewCheckHooks;p!==null&&gd(e,p)}else{let p=t.viewHooks;p!==null&&md(e,p,2),op(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Jc]){for(let p of e[Jc])p();e[Jc]=null}o||(nk(e),e[z]&=-73)}catch(l){throw o||oi(e),l}finally{d!==null&&(ca(d,c),s&&x6(d)),dd()}}function sk(t,e){for(let n=Km(t);n!==null;n=Ym(n))for(let r=be;r<n.length;r++){let i=n[r];ck(i,e)}}function P6(t){for(let e=Km(t);e!==null;e=Ym(e)){if(!(e[z]&2))continue;let n=e[ni];for(let r=0;r<n.length;r++){let i=n[r];Ph(i)}}}function O6(t,e,n){ae(ne.ComponentStart);let r=Ft(e,t);try{ck(r,n)}finally{ae(ne.ComponentEnd,r[De])}}function ck(t,e){td(t)&&Dp(t,e)}function Dp(t,e){let r=t[T],i=t[z],o=t[kt],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&da(o)),a||=!1,o&&(o.dirty=!1),t[z]&=-9217,a)R6(r,t,r.template,t[De]);else if(i&8192){let s=P(null);try{ok(t),sk(t,1);let c=r.components;c!==null&&dk(t,c,1),nk(t)}finally{P(s)}}}function dk(t,e,n){for(let r=0;r<e.length;r++)O6(t,e[r],n)}function N6(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Mr(~i);else{let o=i,a=n[++r],s=n[++r];Lg(a,o);let c=e[o];ae(ne.HostBindingsUpdateStart,c);try{s(2,c)}finally{ae(ne.HostBindingsUpdateEnd,c)}}}}finally{Mr(-1)}}function ol(t,e){let n=$h()?64:1088;for(t[yn].changeDetectionScheduler?.notify(e);t;){t[z]|=n;let r=yr(t);if(ri(t)&&!r)return t;t=r}return null}function lk(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function uk(t,e){let n=be+e;if(n<t.length)return t[n]}function mo(t,e,n,r=!0){let i=e[T];if(F6(i,e,t,n),r){let a=xp(n,t),s=e[de],c=s.parentNode(t[mn]);c!==null&&JI(i,t[it],s,e,c,a)}let o=e[ot];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function b0(t,e){let n=ja(t,e);return n!==void 0&&nl(n[T],n),n}function ja(t,e){if(t.length<=be)return;let n=be+e,r=t[n];if(r){let i=r[mr];i!==null&&i!==t&&y0(i,r),e>0&&(t[n-1][Ot]=r[Ot]);let o=ba(t,be+e);QI(r[T],r);let a=o[gn];a!==null&&a.detachView(o[T]),r[xe]=null,r[Ot]=null,r[z]&=-129}return r}function F6(t,e,n,r){let i=be+r,o=n.length;r>0&&(n[i-1][Ot]=e),r<o-be?(e[Ot]=n[i],bh(n,be+r,e)):(n.push(e),e[Ot]=null),e[xe]=n;let a=e[mr];a!==null&&n!==a&&hk(a,e);let s=e[gn];s!==null&&s.insertView(t),nd(e),e[z]|=128}function hk(t,e){let n=t[ni],r=e[xe];if(Mt(r))t[z]|=2;else{let i=r[xe][$e];e[$e]!==i&&(t[z]|=2)}n===null?t[ni]=[e]:n.push(e)}var wr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[T];return Va(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[De]}set context(e){this._lView[De]=e}get destroyed(){return kr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(wt(e)){let n=e[xa],r=n?n.indexOf(this):-1;r>-1&&(ja(e,r),ba(n,r))}this._attachedToViewContainer=!1}nl(this._lView[T],this._lView)}onDestroy(e){Oh(this._lView,e)}markForCheck(){ol(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[z]&=-129}reattach(){nd(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,ak(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ri(this._lView),n=this._lView[mr];n!==null&&!e&&y0(n,this._lView),Wv(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e;let n=ri(this._lView),r=this._lView[mr];r!==null&&!n&&hk(r,this._lView),nd(this._lView)}};var Un=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=V6;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=go(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new wr(o)}}return t})();function V6(){return _0(Ye(),V())}function _0(t,e){return t.type&4?new Un(e,t,uo(t,e)):null}function gi(t,e,n,r,i){let o=t.data[e];if(o===null)o=j6(t,e,n,r,i),Tg()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=Dg();o.injectorIndex=a===null?-1:a.injectorIndex}return ai(o,!0),o}function j6(t,e,n,r,i){let o=zh(),a=Bh(),s=a?o:o&&o.parent,c=t.data[e]=z6(t,s,n,e,r,i);return H6(t,c,o,a),c}function H6(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function z6(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,s=0;return id()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var B6=new RegExp(`^(\\d+)*(${ev}|${Jm})*(.*)`);function q6(t){let e=t.match(B6),[n,r,i,o]=e,a=r?parseInt(r,10):i,s=[];for(let[c,d,l]of o.matchAll(/(f|n)(\d*)/g)){let u=parseInt(l,10)||1;s.push(d,u)}return[a,...s]}function U6(t){return!t.prev&&t.parent?.type===8}function dp(t){return t.index-te}function $6(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function al(t,e,n,r){let i=dp(r),o=$6(t,i);if(o===void 0){let a=t.data[iv];if(a?.[i])o=G6(a[i],n);else if(e.firstChild===r)o=t.firstChild;else{let s=r.prev===null,c=r.prev??r.parent;if(U6(r)){let d=dp(r.parent);o=bp(t,d)}else{let d=Nt(c,n);if(s)o=d.firstChild;else{let l=dp(c),u=bp(t,l);if(c.type===2&&u){let p=n0(t,l)+1;o=sl(p,u)}else o=d.nextSibling}}}}return o}function sl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function W6(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let a=0;a<o;a++)switch(i){case hI:n=n.firstChild;break;case pI:n=n.nextSibling;break}}return n}function G6(t,e){let[n,...r]=q6(t),i;if(n===Jm)i=e[$e][rt];else if(n===ev)i=Ov(e[$e][rt]);else{let o=Number(n);i=Ct(e[o+te])}return W6(i,r)}var Z6=!1;function pk(t){Z6=t}function K6(t){let e=t[ot];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[de];for(let o of r.values())Y6(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Y6(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-te);i&&s0(t,i,!1)}}function cl(t){let e=t[Yt]??[],r=t[xe][de],i=[];for(let o of e)o.data[ov]!==void 0?i.push(o):fk(o,r);t[Yt]=i}function X6(t){let{lContainer:e}=t,n=e[Yt];if(n===null)return;let i=e[xe][de];for(let o of n)fk(o,i)}function fk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Fa];for(;n<i;){let o=r.nextSibling;s0(e,r,!1),r=o,n++}}}function dl(t){cl(t);let e=t[rt];Mt(e)&&Rd(e);for(let n=be;n<t.length;n++)Rd(t[n])}function Rd(t){K6(t);let e=t[T];for(let n=te;n<e.bindingStartIndex;n++)if(wt(t[n])){let r=t[n];dl(r)}else Mt(t[n])&&Rd(t[n])}function S0(t){let e=t._views;for(let n of e){let r=Iv(n);r!==null&&r[rt]!==null&&(Mt(r)?Rd(r):dl(r))}}function Q6(t,e,n,r){t!==null&&(n.cleanup(e),dl(t.lContainer),S0(r))}function J6(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Kp]??1);i++){let o={data:r,firstChild:null};r[Fa]>0&&(o.firstChild=t,t=sl(r[Fa],t)),n.push(o)}return[t,n]}var yk=()=>null,gk=()=>null;function mk(){yk=eb,gk=tb}function eb(t,e){return kk(t,e)?t[Yt].shift():(cl(t),null)}function Ha(t,e){return yk(t,e)}function tb(t,e,n){if(e.tView.ssrId===null)return null;let r=Ha(t,e.tView.ssrId);return n[T].firstUpdatePass&&r===null&&nb(n,e),r}function vk(t,e,n){return gk(t,e,n)}function nb(t,e){let n=e;for(;n;){if(im(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(im(t,n))return;n=n.next}}function kk(t,e){let n=t[Yt];return!e||n===null||n.length===0?!1:n[0].data[rv]===e}function im(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return wt(r)&&kk(r,n)?(cl(r),!0):!1}var Mk=class{},ll=class{},Ep=class{resolveComponentFactory(e){throw new S(917,!1)}},Za=class{static NULL=new Ep},bt=class{},Ka=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>rb()}return t})();function rb(){let t=V(),e=Ye(),n=Ft(e.index,t);return(Mt(n)?n:t)[de]}var wk=(()=>{class t{static \u0275prov=C({token:t,providedIn:"root",factory:()=>null})}return t})();var Md={},oo=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Md,r);return i!==Md||n===Md?i:this.parentInjector.get(e,n,r)}};function Pd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")o=s;else if(o==1)i=hh(i,s);else if(o==2){let c=s,d=e[++a];r=hh(r,c+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function je(t,e=0){let n=V();if(n===null)return N(t,e);let r=Ye();return Hm(r,n,Ue(t),e)}function Ck(t,e,n,r,i){let o=r===null?null:{"":-1},a=i(t,n);if(a!==null){let s=a,c=null,d=null;for(let l of a)if(l.resolveHostDirectives!==null){[s,c,d]=l.resolveHostDirectives(a);break}ab(t,e,n,s,o,c,d)}o!==null&&r!==null&&ib(n,r,o)}function ib(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new S(-301,!1);r.push(e[i],o)}}function ob(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ab(t,e,n,r,i,o,a){let s=r.length,c=null;for(let h=0;h<s;h++){let p=r[h];c===null&&vr(p)&&(c=p,ob(t,n,h)),kp(xd(n,e),t,p.type)}hb(n,t.data.length,s),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<s;h++){let p=r[h];p.providersResolver&&p.providersResolver(p)}let d=!1,l=!1,u=Hv(t,e,s,null);s>0&&(n.directiveToIndex=new Map);for(let h=0;h<s;h++){let p=r[h];if(n.mergedAttrs=Ud(n.mergedAttrs,p.hostAttrs),cb(t,n,e,u,p),ub(u,p,i),a!==null&&a.has(p)){let[M,m]=a.get(p);n.directiveToIndex.set(p.type,[u,M+n.directiveStart,m+n.directiveStart])}else(o===null||!o.has(p))&&n.directiveToIndex.set(p.type,u);p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let y=p.type.prototype;!d&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),u++}sb(t,n,o)}function sb(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))om(0,e,i,r),om(1,e,i,r),sm(e,r,!1);else{let o=n.get(i);am(0,e,o,r),am(1,e,o,r),sm(e,r,!0)}}}function om(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(r),Ik(e,o)}}function am(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;t===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),Ik(e,a)}}function Ik(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function sm(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||d0(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let d=i[c];for(let l of d)if(l===e){a??=[],a.push(c,r[s+1]);break}}else if(n&&o.hasOwnProperty(c)){let d=o[c];for(let l=0;l<d.length;l+=2)if(d[l]===e){a??=[],a.push(d[l+1],r[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function cb(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=pr(i.type,!0)),a=new ui(o,vr(i),je,null);t.blueprint[r]=a,n[r]=a,db(t,e,r,Hv(t,n,i.hostVars,st),i)}function db(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~e.index;lb(a)!=s&&a.push(s),a.push(n,r,o)}}function lb(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ub(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function hb(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function x0(t,e,n,r,i,o,a,s){let c=e[T],d=c.consts,l=Vt(d,a),u=gi(c,t,n,r,l);return o&&Ck(c,e,u,Vt(d,s),i),u.mergedAttrs=Ud(u.mergedAttrs,u.attrs),u.attrs!==null&&Pd(u,u.attrs,!1),u.mergedAttrs!==null&&Pd(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function D0(t,e){Am(t,e),Lh(e)&&t.queries.elementEnd(e)}function pb(t,e,n,r,i,o){let a=e.consts,s=Vt(a,i),c=gi(e,t,n,r,s);if(c.mergedAttrs=Ud(c.mergedAttrs,c.attrs),o!=null){let d=Vt(a,o);c.localNames=[];for(let l=0;l<d.length;l+=2)c.localNames.push(d[l],-1)}return c.attrs!==null&&Pd(c,c.attrs,!1),c.mergedAttrs!==null&&Pd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function bk(t,e,n){return t[e]=n}function fb(t,e){return t[e]}function wn(t,e,n){if(n===st)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function E0(t,e,n,r){let i=wn(t,e,n);return wn(t,e+1,r)||i}function yb(t,e,n,r,i){let o=E0(t,e,n,r);return wn(t,e+2,i)||o}function wd(t,e,n){return function r(i){let o=Bn(t)?Ft(t.index,e):e;ol(o,5);let a=e[De],s=cm(e,a,n,i),c=r.__ngNextListenerFn__;for(;c;)s=cm(e,a,c,i)&&s,c=c.__ngNextListenerFn__;return s}}function cm(t,e,n,r){let i=P(null);try{return ae(ne.OutputStart,e,n),n(r)!==!1}catch(o){return w0(t,o),!1}finally{ae(ne.OutputEnd,e,n),P(i)}}function _k(t,e,n,r,i,o,a,s){let c=no(t),d=!1,l=null;if(!r&&c&&(l=mb(e,n,o,t.index)),l!==null){let u=l.__ngLastListenerFn__||l;u.__ngNextListenerFn__=a,l.__ngLastListenerFn__=a,d=!0}else{let u=Nt(t,n),h=r?r(u):u;fI(n,h,o,s);let p=i.listen(h,o,s);if(!gb(o)){let y=r?M=>r(Ct(M[t.index])):t.index;Sk(y,e,n,o,s,p,!1)}}return d}function gb(t){return t.startsWith("animation")||t.startsWith("transition")}function mb(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=e[eo],c=i[o+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(o+=2)}return null}function Sk(t,e,n,r,i,o,a){let s=e.firstCreatePass?Fh(e):null,c=Nh(n),d=c.length;c.push(i,o),s&&s.push(r,t,d,(d+1)*(a?-1:1))}function dm(t,e,n,r,i,o){let a=e[n],s=e[T],d=s.data[n].outputs[r],u=a[d].subscribe(o);Sk(t.index,s,e,i,o,u,!0)}var Tp=Symbol("BINDING");var Od=class extends Za{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kt(e);return new Cr(n,this.ngModule)}};function vb(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&el.SignalBased)!==0};return i&&(o.transform=i),o})}function kb(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Mb(t,e,n){let r=e instanceof Ce?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new oo(n,r):n}function wb(t){let e=t.get(bt,null);if(e===null)throw new S(407,!1);let n=t.get(wk,null),r=t.get(zn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function Cb(t,e){let n=xk(t);return a0(e,n,n==="svg"?vg:n==="math"?kg:null)}function xk(t){return(t.selectors[0][0]||"div").toLowerCase()}var Cr=class extends ll{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vb(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=kb(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=BI(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,a){ae(ne.DynamicComponentStart);let s=P(null);try{let c=this.componentDef,d=Ib(r,c,a,o),l=Mb(c,i||this.ngModule,e),u=wb(l),h=u.rendererFactory.createRenderer(null,c),p=r?l6(h,r,c.encapsulation,l):Cb(c,h),y=a?.some(lm)||o?.some(x=>typeof x!="function"&&x.bindings.some(lm)),M=u0(null,d,null,512|jv(c),null,null,u,h,l,null,Cv(p,l,!0));M[te]=p,cd(M);let m=null;try{let x=x0(te,M,2,"#host",()=>d.directiveRegistry,!0,0);Pv(h,p,x),so(p,M),il(d,M,x),r0(d,x,M),D0(d,x),n!==void 0&&_b(x,this.ngContentSelectors,n),m=Ft(x.index,M),M[De]=m[De],I0(d,M,null)}catch(x){throw m!==null&&wp(m),wp(M),x}finally{ae(ne.DynamicComponentEnd),dd()}return new Nd(this.componentType,M,!!y)}finally{P(s)}}};function Ib(t,e,n,r){let i=t?["ng-version","21.0.6"]:qI(e.selectors[0]),o=null,a=null,s=0;if(n)for(let l of n)s+=l[Tp].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(a??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let u=r[l];if(typeof u!="function")for(let h of u.bindings){s+=h[Tp].requiredVars;let p=l+1;h.create&&(h.targetIdx=p,(o??=[]).push(h)),h.update&&(h.targetIdx=p,(a??=[]).push(h))}}let c=[e];if(r)for(let l of r){let u=typeof l=="function"?l:l.type,h=Wc(u);c.push(h)}return l0(0,null,bb(o,a),1,s,c,null,null,null,[i],null)}function bb(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function lm(t){let e=t[Tp].kind;return e==="input"||e==="twoWay"}var Nd=class extends Mk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=ii(n[T],te),this.location=uo(this._tNode,n),this.instance=Ft(this._tNode.index,n)[De],this.hostView=this.changeDetectorRef=new wr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=C0(r,i[T],i,e,n);this.previousInputValues.set(e,n);let a=Ft(r.index,i);ol(a,1)}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _b(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Cn=(()=>{class t{static __NG_ELEMENT_ID__=Sb}return t})();function Sb(){let t=Ye();return Ek(t,V())}var xb=Cn,Dk=class extends xb{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wp(this._hostTNode,this._hostLView);if(Pm(e)){let n=_d(e,this._hostLView),r=bd(e),i=n[T].data[r+8];return new li(i,n)}else return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=um(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-be}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=Ha(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,pi(this._hostTNode,a)),s}createComponent(e,n,r,i,o,a,s){let c=e&&!jC(e),d;if(c)d=n;else{let m=n||{};d=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,a=m.directives,s=m.bindings}let l=c?e:new Cr(Kt(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let x=(c?u:this.parentInjector).get(Ce,null);x&&(o=x)}let h=Kt(l.componentType??{}),p=Ha(this._lContainer,h?.id??null),y=p?.firstChild??null,M=l.create(u,i,y,o,a,s);return this.insertImpl(M.hostView,d,pi(this._hostTNode,p)),M}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(wg(i)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=i[xe],d=new Dk(c,c[it],c[xe]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return mo(a,i,o,r),e.attachToViewContainerRef(),bh(lp(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=um(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ja(this._lContainer,n);r&&(ba(lp(this._lContainer),n),nl(r[T],r))}detach(e){let n=this._adjustIndex(e,-1),r=ja(this._lContainer,n);return r&&ba(lp(this._lContainer),n)!=null?new wr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function um(t){return t[xa]}function lp(t){return t[xa]||(t[xa]=[])}function Ek(t,e){let n,r=e[t.index];return wt(r)?n=r:(n=lk(r,e,null,t),e[t.index]=n,h0(e,n)),Tk(n,e,t,r),new Dk(n,t,e)}function Db(t,e){let n=t[de],r=n.createComment(""),i=Nt(e,t),o=n.parentNode(i);return Ld(n,o,r,n.nextSibling(i),!1),r}var Tk=Lk,T0=()=>!1;function Eb(t,e,n){return T0(t,e,n)}function Lk(t,e,n,r){if(t[mn])return;let i;n.type&8?i=Ct(r):i=Db(e,n),t[mn]=i}function Tb(t,e,n){if(t[mn]&&t[Yt])return!0;let r=n[ot],i=e.index-te;if(!r||Gm(e)||Sv(r,i))return!1;let a=bp(r,i),s=r.data[Gd]?.[i],[c,d]=J6(a,s);return t[mn]=c,t[Yt]=d,!0}function Lb(t,e,n,r){T0(t,n,e)||Lk(t,e,n,r)}function Ak(){Tk=Lb,T0=Tb}var Lp=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ap=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)A0(e,n).matches!==null&&this.queries[n].setDirty()}},Rp=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Fb(e):this.predicate=e}},Pp=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Op=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Ab(n,o)),this.matchTNodeWithReadOption(e,n,vd(n,e,o,!1,!1))}else r===Un?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,vd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ue||i===Cn||i===Un&&n.type&4)this.addMatch(n.index,-2);else{let o=vd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Ab(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Rb(t,e){return t.type&11?uo(t,e):t.type&4?_0(t,e):null}function Pb(t,e,n,r){return n===-1?Rb(e,t):n===-2?Ob(t,e,r):Na(t,t[T],n,e)}function Ob(t,e,n){if(n===ue)return uo(e,t);if(n===Un)return _0(e,t);if(n===Cn)return Ek(e,t)}function Rk(t,e,n,r){let i=e[gn].queries[r];if(i.matches===null){let o=t.data,a=n.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let d=a[c];if(d<0)s.push(null);else{let l=o[d];s.push(Pb(e,l,a[c+1],n.metadata.read))}}i.matches=s}return i.matches}function Np(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=Rk(t,e,i,n);for(let s=0;s<o.length;s+=2){let c=o[s];if(c>0)r.push(a[s/2]);else{let d=o[s+1],l=e[-c];for(let u=be;u<l.length;u++){let h=l[u];h[mr]===h[xe]&&Np(h[T],h,d,r)}if(l[ni]!==null){let u=l[ni];for(let h=0;h<u.length;h++){let p=u[h];Np(p[T],p,d,r)}}}}}return r}function L0(t,e){return t[gn].queries[e].queryList}function Nb(t,e,n){let r=new Dd((n&4)===4);return bg(t,e,r,r.destroy),(e[gn]??=new Ap).queries.push(new Lp(r))-1}function Pk(t,e,n){let r=_e();return r.firstCreatePass&&(Vb(r,new Rp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Nb(r,V(),e)}function Fb(t){return t.split(",").map(e=>e.trim())}function Vb(t,e,n){t.queries===null&&(t.queries=new Pp),t.queries.track(new Op(e,n))}function A0(t,e){return t.queries.getByIndex(e)}function Ok(t,e){let n=t[T],r=A0(n,e);return r.crossesNgTemplate?Np(n,t,e,[]):Rk(n,t,r,e)}function R0(t,e,n){let r,i=la(()=>{r._dirtyCounter();let o=Hb(r,t);if(e&&o===void 0)throw new S(-951,!1);return o});return r=i[Ge],r._dirtyCounter=g(0),r._flatValue=void 0,i}function Nk(t){return R0(!0,!1,t)}function Fk(t){return R0(!0,!0,t)}function Vk(t){return R0(!1,!1,t)}function jb(t,e){let n=t[Ge];n._lView=V(),n._queryIndex=e,n._queryList=L0(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function Hb(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[z]&4)return e?void 0:gt;let i=L0(n,r),o=Ok(n,r);return i.reset(o,qm),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var fi=class{},ul=class{};var Fd=class extends fi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Od(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Mh(e);this._bootstrapComponents=Nv(o.bootstrap),this._r3Injector=Xh(e,n,[{provide:fi,useValue:this},{provide:Za,useValue:this.componentFactoryResolver},...r],Hn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vd=class extends ul{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Fd(this.moduleType,e,[])}};var za=class extends fi{injector;componentFactoryResolver=new Od(this);instance=null;constructor(e){super();let n=new Kr([...e.providers,{provide:fi,useValue:this},{provide:Za,useValue:this.componentFactoryResolver}],e.parent||Ji(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vo(t,e,n=null){return new za({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zb=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Qc(!1,n.type),i=r.length>0?vo([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:t,providedIn:"environment",factory:()=>new t(N(Ce))})}return t})();function ie(t){return lo(()=>{let e=jk(t),n=Z(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(zb).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||gt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&_t("NgStandalone"),Hk(n);let r=t.dependencies;return n.directiveDefs=hm(r,Bb),n.pipeDefs=hm(r,wh),n.id=$b(n),n})}function Bb(t){return Kt(t)||Wc(t)}function zt(t){return lo(()=>({type:t.type,bootstrap:t.bootstrap||gt,declarations:t.declarations||gt,imports:t.imports||gt,exports:t.exports||gt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qb(t,e){if(t==null)return Xr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,s,c;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,c=i[3]||null):(o=i,a=i,s=el.None,c=null),n[o]=[r,s,c],e[o]=a}return n}function Ub(t){if(t==null)return Xr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function In(t){return lo(()=>{let e=jk(t);return Hk(e),e})}function P0(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function jk(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Xr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||gt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:qb(t.inputs,e),outputs:Ub(t.outputs),debugInfo:null}}function Hk(t){t.features?.forEach(e=>e(t))}function hm(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function $b(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zk(t,e,n,r,i,o,a,s){if(n.firstCreatePass){t.mergedAttrs=Ud(t.mergedAttrs,t.attrs);let l=t.tView=l0(2,t,i,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}s&&(t.flags|=s),ai(t,!1);let c=Bk(n,e,t,r);ud()&&g0(n,e,c,t),so(c,e);let d=lk(c,e,c,t);e[r+te]=d,h0(e,d),Eb(d,t,e)}function Wb(t,e,n,r,i,o,a,s,c,d,l){let u=n+te,h;return e.firstCreatePass?(h=gi(e,u,4,a||null,s||null),rd()&&Ck(e,t,h,Vt(e.consts,d),v0),Am(e,h)):h=e.data[u],zk(h,t,e,n,r,i,o,c),no(h)&&il(e,t,h),d!=null&&Ga(t,h,l),h}function Ba(t,e,n,r,i,o,a,s,c,d,l){let u=n+te,h;if(e.firstCreatePass){if(h=gi(e,u,4,a||null,s||null),d!=null){let p=Vt(e.consts,d);h.localNames=[];for(let y=0;y<p.length;y+=2)h.localNames.push(p[y],-1)}}else h=e.data[u];return zk(h,t,e,n,r,i,o,c),d!=null&&Ga(t,h,l),h}function Ya(t,e,n,r,i,o,a,s){let c=V(),d=_e(),l=Vt(d.consts,o);return Wb(c,d,t,e,n,r,i,l,void 0,a,s),Ya}var Bk=qk;function qk(t,e,n,r){return qn(!0),e[de].createComment("")}function Gb(t,e,n,r){let i=!Yd(e,n);qn(i);let o=e[ot]?.data[nv]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return qk(t,e);let a=e[ot],s=al(a,t,e,n);Kd(a,r,s);let c=n0(a,r);return sl(c,s)}function Uk(){Bk=Gb}var It=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(It||{}),pm=0,Zb=1,Ae=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Ae||{});var Kb=0,Xa=1;var Yb=4,Xb=5;var Qb=7,ao=8,Jb=9,O0=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(O0||{});function Cd(t,e){let n=t_(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function e_(t){Cd(1,t),Cd(0,t),Cd(2,t)}function t_(t){let e=Yb;return t===1?e=Xb:t===2&&(e=Jb),e}function $k(t){return t+1}function ko(t,e){let n=t[T],r=$k(e.index);return t[r]}function Qa(t,e){let n=$k(e.index);return t.data[n]}function n_(t,e,n){let r=e[T],i=Qa(r,n);switch(t){case Ae.Complete:return i.primaryTmplIndex;case Ae.Loading:return i.loadingTmplIndex;case Ae.Error:return i.errorTmplIndex;case Ae.Placeholder:return i.placeholderTmplIndex;default:return null}}function fm(t,e){return e===Ae.Placeholder?t.placeholderBlockConfig?.[pm]??null:e===Ae.Loading?t.loadingBlockConfig?.[pm]??null:null}function r_(t){return t.loadingBlockConfig?.[Zb]??null}function ym(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function i_(t,e){let n=e.primaryTmplIndex+te;return ii(t,n)}var o_=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let a=i.length>0?vo(i,r,o):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:t,providedIn:"environment",factory:()=>new t})}return t})();var Wk=new _("");function up(t,e,n){return t.get(o_).getOrCreateInjector(e,t,n,"")}function a_(t,e,n){if(t instanceof oo){let i=t.injector,o=t.parentInjector,a=up(o,e,n);return new oo(i,a)}let r=t.get(Ce);if(r!==t){let i=up(r,e,n);return new oo(t,i)}return up(t,e,n)}function di(t,e,n,r=!1){let i=n[xe],o=i[T];if(kr(i))return;let a=ko(i,e),s=a[Xa],c=a[Qb];if(!(c!==null&&t<c)&&gm(s,t)&&gm(a[Kb]??-1,t)){let d=Qa(o,e),u=!r&&!0&&(r_(d)!==null||fm(d,Ae.Loading)!==null||fm(d,Ae.Placeholder))?d_:c_;try{u(t,a,n,e,i)}catch(h){w0(i,h)}}}function s_(t,e){let n=t[Yt]?.findIndex(i=>i.data[av]===e[Xa])??-1;return{dehydratedView:n>-1?t[Yt][n]:null,dehydratedViewIx:n}}function c_(t,e,n,r,i){ae(ne.DeferBlockStateStart);let o=n_(t,i,r);if(o!==null){e[Xa]=t;let a=i[T],s=o+te,c=ii(a,s),d=0;b0(n,d);let l;if(t===Ae.Complete){let y=Qa(a,r),M=y.providers;M&&M.length>0&&(l=a_(i[vt],y,M))}let{dehydratedView:u,dehydratedViewIx:h}=s_(n,e),p=go(i,c,null,{injector:l,dehydratedView:u});if(mo(n,p,d,pi(c,u)),ol(p,2),h>-1&&n[Yt]?.splice(h,1),(t===Ae.Complete||t===Ae.Error)&&Array.isArray(e[ao])){for(let y of e[ao])y();e[ao]=null}}ae(ne.DeferBlockStateEnd)}function gm(t,e){return t<e}function mm(t,e,n){t.loadingPromise.then(()=>{t.loadingState===It.COMPLETE?di(Ae.Complete,e,n):t.loadingState===It.FAILED&&di(Ae.Error,e,n)})}var d_=null;var hl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var N0=new _("");function Mo(t){return!!t&&typeof t.then=="function"}function F0(t){return!!t&&typeof t.subscribe=="function"}var Gk=new _("");var V0=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=f(Gk,{optional:!0})??[];injector=f(Ie);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Fe(this.injector,i);if(Mo(o))n.push(o);else if(F0(o)){let a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ir=new _("");function Zk(){A1(()=>{let t="";throw new S(600,t)})}function Kk(t){return t.isBoundToModule}var l_=10;var Qe=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=f(jt);afterRenderManager=f(f0);zonelessEnabled=f(Aa);rootEffectScheduler=f(hd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new H;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=f(vn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(U(n=>!n))}constructor(){f(Gn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=f(Ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ie.NULL){return this._injector.get(we).run(()=>{ae(ne.BootstrapComponentStart);let a=n instanceof ll;if(!this._injector.get(V0).done){let y="";throw new S(405,y)}let c;a?c=n:c=this._injector.get(Za).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=Kk(c)?void 0:this._injector.get(fi),l=r||c.selector,u=c.create(i,[],l,d),h=u.location.nativeElement,p=u.injector.get(N0,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Oa(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),ae(ne.BootstrapComponentEnd,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ae(ne.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(tl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ae(ne.ChangeDetectionEnd),new S(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),ae(ne.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(bt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<l_;){ae(ne.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ae(ne.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ea(i))continue;let o=r&&!this.zonelessEnabled?0:1;ak(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ea(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Oa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Ir,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Oa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Oa(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function u_(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Yk(t,e,n){let r=e[vt],i=e[T];if(t.loadingState!==It.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=ko(e,n),a=i_(i,t);t.loadingState=It.IN_PROGRESS,Cd(1,o);let s=t.dependencyResolverFn,c=r.get(ci).add();return s?(t.loadingPromise=Promise.allSettled(s()).then(d=>{let l=!1,u=[],h=[];for(let p of d)if(p.status==="fulfilled"){let y=p.value,M=Kt(y)||Wc(y);if(M)u.push(M);else{let m=wh(y);m&&h.push(m)}}else{l=!0;break}if(l){if(t.loadingState=It.FAILED,t.errorTmplIndex===null){let y=new S(-750,!1);w0(e,y)}}else{t.loadingState=It.COMPLETE;let p=a.tView;if(u.length>0){p.directiveRegistry=ym(p.directiveRegistry,u);let y=u.map(m=>m.type),M=Qc(!1,...y);t.providers=M}h.length>0&&(p.pipeRegistry=ym(p.pipeRegistry,h))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,c()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=It.COMPLETE,c()}),t.loadingPromise)}function h_(t,e){return e[vt].get(Wk,null,{optional:!0})?.behavior!==O0.Manual}function p_(t,e,n){let r=e[T],i=e[n.index];if(!h_(t,e))return;let o=ko(e,n),a=Qa(r,n);switch(e_(o),a.loadingState){case It.NOT_STARTED:di(Ae.Loading,n,i),Yk(a,e,n),a.loadingState===It.IN_PROGRESS&&mm(a,n,i);break;case It.IN_PROGRESS:di(Ae.Loading,n,i),mm(a,n,i);break;case It.COMPLETE:di(Ae.Complete,n,i);break;case It.FAILED:di(Ae.Error,n,i);break;default:}}async function Xk(t,e,n){let r=t.get(Zd);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:a}=CI(e,t);if(a.length===0)return;o!==null&&a.shift(),g_(r,a),o!==null&&await o;let s=a[0];r.has(s)?await vm(t,a,n):r.awaitParentBlock(s,async()=>await vm(t,a,n))}async function vm(t,e,n){let r=t.get(Zd),i=r.hydrating,o=t.get(vn),a=o.add();for(let c=0;c<e.length;c++){let d=e[c],l=r.get(d);if(l!=null){if(await v_(l),await m_(t),f_(l)){X6(l),km(e.slice(c),r);break}i.get(d).resolve()}else{y_(c,e,r),km(e.slice(c),r);break}}let s=e[e.length-1];await i.get(s)?.promise,o.remove(a),n&&n(e),Q6(r.get(s),e,r,t.get(Qe))}function f_(t){return ko(t.lView,t.tNode)[Xa]===Ae.Error}function y_(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&dl(i.lContainer)}function km(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function g_(t,e){for(let n of e)t.hydrating.set(n,u_())}function m_(t){return new Promise(e=>yo(e,{injector:t}))}async function v_(t){let{tNode:e,lView:n}=t,r=ko(n,e);return new Promise(i=>{k_(r,i),p_(2,n,e)})}function k_(t,e){Array.isArray(t[ao])||(t[ao]=[]),t[ao].push(e)}function wo(t,e,n,r){let i=V(),o=si();if(wn(i,o,e)){let a=_e(),s=ld();k6(s,i,t,e,n,r)}return wo}var Vz=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Fp=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function hp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function M_(t,e,n,r){let i,o,a=0,s=t.length-1,c=void 0;if(Array.isArray(e)){P(r);let d=e.length-1;for(P(null);a<=s&&a<=d;){let l=t.at(a),u=e[a],h=hp(a,l,a,u,n);if(h!==0){h<0&&t.updateValue(a,u),a++;continue}let p=t.at(s),y=e[d],M=hp(s,p,d,y,n);if(M!==0){M<0&&t.updateValue(s,y),s--,d--;continue}let m=n(a,l),x=n(s,p),ee=n(a,u);if(Object.is(ee,x)){let Me=n(d,y);Object.is(Me,m)?(t.swap(a,s),t.updateValue(s,y),d--,s--):t.move(s,a),t.updateValue(a,u),a++;continue}if(i??=new jd,o??=wm(t,a,s,n),Vp(t,i,a,ee))t.updateValue(a,u),a++,s++;else if(o.has(ee))i.set(m,t.detach(a)),s--;else{let Me=t.create(a,e[a]);t.attach(a,Me),a++,s++}}for(;a<=d;)Mm(t,i,n,a,e[a]),a++}else if(e!=null){P(r);let d=e[Symbol.iterator]();P(null);let l=d.next();for(;!l.done&&a<=s;){let u=t.at(a),h=l.value,p=hp(a,u,a,h,n);if(p!==0)p<0&&t.updateValue(a,h),a++,l=d.next();else{i??=new jd,o??=wm(t,a,s,n);let y=n(a,h);if(Vp(t,i,a,y))t.updateValue(a,h),a++,s++,l=d.next();else if(!o.has(y))t.attach(a,t.create(a,h)),a++,s++,l=d.next();else{let M=n(a,u);i.set(M,t.detach(a)),s--}}}for(;!l.done;)Mm(t,i,n,t.length,l.value),l=d.next()}for(;a<=s;)t.destroy(t.detach(s--));i?.forEach(d=>{t.destroy(d)})}function Vp(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Mm(t,e,n,r,i){if(Vp(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function wm(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var jd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function $(t,e,n,r,i,o,a,s){_t("NgControlFlow");let c=V(),d=_e(),l=Vt(d.consts,o);return Ba(c,d,t,e,n,r,i,l,256,a,s),j0}function j0(t,e,n,r,i,o,a,s){_t("NgControlFlow");let c=V(),d=_e(),l=Vt(d.consts,o);return Ba(c,d,t,e,n,r,i,l,512,a,s),j0}function W(t,e){_t("NgControlFlow");let n=V(),r=si(),i=n[r]!==st?n[r]:-1,o=i!==-1?Hd(n,te+i):void 0,a=0;if(wn(n,r,t)){let s=P(null);try{if(o!==void 0&&b0(o,a),t!==-1){let c=te+t,d=Hd(n,c),l=Bp(n[T],c),u=vk(d,l,n),h=go(n,l,e,{dehydratedView:u});mo(d,h,a,pi(l,u))}}finally{P(s)}}else if(o!==void 0){let s=uk(o,a);s!==void 0&&(s[De]=e)}}var jp=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-be}};function H0(t){return t}function Ja(t,e){return e}var Hp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function St(t,e,n,r,i,o,a,s,c,d,l,u,h){_t("NgControlFlow");let p=V(),y=_e(),M=c!==void 0,m=V(),x=s?a.bind(m[$e][De]):a,ee=new Hp(M,x);m[te+t]=ee,Ba(p,y,t+1,e,n,r,i,Vt(y.consts,o),256),M&&Ba(p,y,t+2,c,d,l,u,Vt(y.consts,h),512)}var zp=class extends Fp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-be}at(e){return this.getLView(e)[De].$implicit}attach(e,n){let r=n[ot];this.needsIndexUpdate||=e!==this.length,mo(this.lContainer,n,e,pi(this.templateTNode,r)),w_(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,C_(this.lContainer,e),I_(this.lContainer,e)}create(e,n){let r=Ha(this.lContainer,this.templateTNode.tView.ssrId);return go(this.hostLView,this.templateTNode,new jp(this.lContainer,n,e),{dehydratedView:r})}destroy(e){nl(e[T],e)}updateValue(e,n){this.getLView(e)[De].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[De].$index=e}getLView(e){return b_(this.lContainer,e)}};function xt(t){let e=P(null),n=Xt();try{let r=V(),i=r[T],o=r[n],a=n+1,s=Hd(r,a);if(o.liveCollection===void 0){let d=Bp(i,a);o.liveCollection=new zp(s,r,d)}else o.liveCollection.reset();let c=o.liveCollection;if(M_(c,t,o.trackByFn,e),c.updateIndexes(),o.hasEmptyBlock){let d=si(),l=c.length===0;if(wn(r,d,l)){let u=n+2,h=Hd(r,u);if(l){let p=Bp(i,u),y=vk(h,p,r),M=go(r,p,void 0,{dehydratedView:y});mo(h,M,0,pi(p,y))}else i.firstUpdatePass&&cl(h),b0(h,0)}}}finally{P(e)}}function Hd(t,e){return t[e]}function w_(t,e){if(t.length<=be)return;let n=be+e,r=t[n],i=r?r[ti]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[vt];YI(o,i),hi.delete(r),i.detachedLeaveAnimationFns=void 0}}function C_(t,e){if(t.length<=be)return;let n=be+e,r=t[n],i=r?r[ti]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function I_(t,e){return ja(t,e)}function b_(t,e){return uk(t,e)}function Bp(t,e){return ii(t,e)}function Y(t,e,n){let r=V(),i=si();if(wn(r,i,e)){let o=_e(),a=ld();f6(a,r,t,e,r[de],n)}return Y}function Cm(t,e,n,r,i){C0(e,t,n,i?"class":"style",r)}function w(t,e,n,r){let i=V(),o=i[T],a=t+te,s=o.firstCreatePass?x0(a,i,2,e,v0,rd(),n,r):o.data[a];if(k0(s,i,t,e,z0),no(s)){let c=i[T];il(c,i,s),r0(c,s,i)}return r!=null&&Ga(i,s),w}function I(){let t=_e(),e=Ye(),n=M0(e);return t.firstCreatePass&&D0(t,n),jh(n)&&Hh(),Vh(),n.classesWithoutHost!=null&&$C(n)&&Cm(t,n,V(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&WC(n)&&Cm(t,n,V(),n.stylesWithoutHost,!1),I}function F(t,e,n,r){return w(t,e,n,r),I(),F}function Ve(t,e,n,r){let i=V(),o=i[T],a=t+te,s=o.firstCreatePass?pb(a,o,2,e,n,r):o.data[a];return k0(s,i,t,e,z0),r!=null&&Ga(i,s),Ve}function He(){let t=Ye(),e=M0(t);return jh(e)&&Hh(),Vh(),He}function mi(t,e,n,r){return Ve(t,e,n,r),He(),mi}var z0=(t,e,n,r,i)=>(qn(!0),a0(e[de],r,Yh()));function __(t,e,n,r,i){let o=!Yd(e,n);if(qn(o),o)return a0(e[de],r,Yh());let a=e[ot],s=al(a,t,e,n);return _v(a,i)&&Kd(a,i,s.nextSibling),a&&($m(n)||Wm(s))&&Bn(n)&&(xg(n),Rv(s)),s}function Qk(){z0=__}function pl(t,e,n){let r=V(),i=r[T],o=t+te,a=i.firstCreatePass?x0(o,r,8,"ng-container",v0,rd(),e,n):i.data[o];if(k0(a,r,t,"ng-container",Jk),no(a)){let s=r[T];il(s,r,a),r0(s,a,r)}return n!=null&&Ga(r,a),pl}function fl(){let t=_e(),e=Ye(),n=M0(e);return t.firstCreatePass&&D0(t,n),fl}var Jk=(t,e,n,r,i)=>(qn(!0),Lv(e[de],""));function S_(t,e,n,r,i){let o,a=!Yd(e,n);if(qn(a),a)return Lv(e[de],"");let s=e[ot],c=al(s,t,e,n),d=MI(s,i);return Kd(s,i,c),o=sl(d,c),o}function e4(){Jk=S_}function re(){return V()}function yl(t,e,n){let r=V(),i=si();if(wn(r,i,e)){let o=_e(),a=ld();ek(a,r,t,e,r[de],n)}return yl}var Ra=void 0;function x_(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var D_=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Ra,Ra,Ra],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",x_],pp={};function Dt(t){let e=E_(t),n=Im(e);if(n)return n;let r=e.split("-")[0];if(n=Im(r),n)return n;if(r==="en")return D_;throw new S(701,!1)}function Im(t){return t in pp||(pp[t]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[t]),pp[t]}var Te=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(Te||{});function E_(t){return t.toLowerCase().replace(/_/g,"-")}var es="en-US";var T_=es;function t4(t){typeof t=="string"&&(T_=t.toLowerCase().replace(/_/g,"-"))}function A(t,e,n){let r=V(),i=_e(),o=Ye();return L_(i,r,r[de],o,t,e,n),A}function Zn(t,e,n){let r=V(),i=_e(),o=Ye();return(o.type&3||n)&&_k(o,i,r,n,r[de],t,e,wd(o,r,e)),Zn}function L_(t,e,n,r,i,o,a){let s=!0,c=null;if((r.type&3||a)&&(c??=wd(r,e,o),_k(r,t,e,a,n,i,o,c)&&(s=!1)),s){let d=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let u=0;u<l.length;u+=2){let h=l[u],p=l[u+1];c??=wd(r,e,o),dm(r,e,h,p,i,c)}if(d&&d.length)for(let u of d)c??=wd(r,e,o),dm(r,e,u,i,i,c)}}function b(t=1){return Fg(t)}function A_(t,e){let n=null,r=FI(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?Vv(t,o,!0):HI(r,o))return i}return n}function gl(t){let e=V()[$e][it];if(!e.projection){let n=t?t.length:1,r=e.projection=dg(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let a=t?A_(o,t):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function ml(t,e=0,n,r,i,o){let a=V(),s=_e(),c=r?t+1:null;c!==null&&Ba(a,s,c,r,i,o,null,n);let d=gi(s,te+t,16,null,n||null);d.projection===null&&(d.projection=e),qh();let u=!a[ot]||id();a[$e][it].projection[d.projection]===null&&c!==null?R_(a,s,c):u&&!Wa(d)&&s6(s,a,d)}function R_(t,e,n){let r=te+n,i=e.data[r],o=t[r],a=Ha(o,i.tView.ssrId),s=go(t,i,void 0,{dehydratedView:a});mo(o,s,0,pi(i,a))}function ts(t,e,n){return Pk(t,e,n),ts}function vl(t){let e=V(),n=_e(),r=sd();Ta(r+1);let i=A0(n,r);if(t.dirty&&Mg(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Ok(e,r);t.reset(o,qm),t.notifyOnChanges()}return!0}return!1}function kl(){return L0(V(),sd())}function Ml(t,e,n,r){return jb(t,Pk(e,n,r)),Ml}function B0(t=1){Ta(sd()+t)}function ct(t){let e=Uh();return ed(e,te+t)}function yd(t,e){return t<<17|e<<2}function yi(t){return t>>17&32767}function P_(t){return(t&2)==2}function O_(t,e){return t&131071|e<<17}function qp(t){return t|2}function co(t){return(t&131068)>>2}function fp(t,e){return t&-131069|e<<2}function N_(t){return(t&1)===1}function Up(t){return t|1}function F_(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,s=yi(a),c=co(a);t[r]=n;let d=!1,l;if(Array.isArray(n)){let u=n;l=u[1],(l===null||Qi(u,l)>0)&&(d=!0)}else l=n;if(i)if(c!==0){let h=yi(t[s+1]);t[r+1]=yd(h,s),h!==0&&(t[h+1]=fp(t[h+1],r)),t[s+1]=O_(t[s+1],r)}else t[r+1]=yd(s,0),s!==0&&(t[s+1]=fp(t[s+1],r)),s=r;else t[r+1]=yd(c,0),s===0?s=r:t[c+1]=fp(t[c+1],r),c=r;d&&(t[r+1]=qp(t[r+1])),bm(t,l,r,!0),bm(t,l,r,!1),V_(e,l,t,r,o),a=yd(s,c),o?e.classBindings=a:e.styleBindings=a}function V_(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qi(o,e)>=0&&(n[r+1]=Up(n[r+1]))}function bm(t,e,n,r){let i=t[n+1],o=e===null,a=r?yi(i):co(i),s=!1;for(;a!==0&&(s===!1||o);){let c=t[a],d=t[a+1];j_(c,e)&&(s=!0,t[a+1]=r?Up(d):qp(d)),a=r?yi(d):co(d)}s&&(t[n+1]=r?qp(i):Up(i))}function j_(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qi(t,e)>=0:!1}function vi(t,e,n){return n4(t,e,n,!1),vi}function ge(t,e){return n4(t,e,null,!0),ge}function n4(t,e,n,r){let i=V(),o=_e(),a=od(2);if(o.firstUpdatePass&&z_(o,t,a,r),e!==st&&wn(i,a,e)){let s=o.data[Xt()];W_(o,s,i,i[de],t,i[a+1]=G_(e,n),r,a)}}function H_(t,e){return e>=t.expandoStartIndex}function z_(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Xt()],a=H_(t,n);Z_(o,r)&&e===null&&!a&&(e=!1),e=B_(i,o,e,r),F_(i,o,e,n,a,r)}}function B_(t,e,n,r){let i=Rg(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yp(null,t,e,n,r),n=qa(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=yp(i,t,e,n,r),o===null){let c=q_(t,e,r);c!==void 0&&Array.isArray(c)&&(c=yp(null,t,e,c[1],r),c=qa(c,e.attrs,r),U_(t,e,r,c))}else o=$_(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function q_(t,e,n){let r=n?e.classBindings:e.styleBindings;if(co(r)!==0)return t[yi(r)]}function U_(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[yi(i)]=r}function $_(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=qa(r,a,n)}return qa(r,e.attrs,n)}function yp(t,e,n,r,i){let o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(o=e[s],r=qa(r,o.hostAttrs,i),o!==t);)s++;return t!==null&&(n.directiveStylingLast=s),r}function qa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ug(t,a,n?!0:e[++o]))}return t===void 0?null:t}function W_(t,e,n,r,i,o,a,s){if(!(e.type&3))return;let c=t.data,d=c[s+1],l=N_(d)?_m(c,e,n,i,co(d),a):void 0;if(!zd(l)){zd(o)||P_(d)&&(o=_m(c,null,n,i,s,a));let u=Ah(Xt(),n);d6(r,a,u,i,o)}}function _m(t,e,n,r,i,o){let a=e===null,s;for(;i>0;){let c=t[i],d=Array.isArray(c),l=d?c[1]:c,u=l===null,h=n[i+1];h===st&&(h=u?gt:void 0);let p=u?Yc(h,r):l===r?h:void 0;if(d&&!zd(p)&&(p=Yc(c,r)),zd(p)&&(s=p,a))return s;let y=t[i+1];i=a?yi(y):co(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(s=Yc(c,r))}return s}function zd(t){return t!==void 0}function G_(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Hn(Xd(t)))),t}function Z_(t,e){return(t.flags&(e?8:16))!==0}function R(t,e=""){let n=V(),r=_e(),i=t+te,o=r.firstCreatePass?gi(r,i,1,e,null):r.data[i],a=r4(r,n,o,e,t);n[i]=a,ud()&&g0(r,n,a,o),ai(o,!1)}var r4=(t,e,n,r,i)=>(qn(!0),Tv(e[de],r));function K_(t,e,n,r,i){let o=!Yd(e,n);if(qn(o),o)return Tv(e[de],r);let a=e[ot];return al(a,t,e,n)}function i4(){r4=K_}function Y_(t,e,n,r=""){return wn(t,si(),n)?e+pn(n)+r:st}function X_(t,e,n,r,i,o=""){let a=Gh(),s=E0(t,a,n,i);return od(2),s?e+pn(n)+r+pn(i)+o:st}function Q_(t,e,n,r,i,o,a,s=""){let c=Gh(),d=yb(t,c,n,i,a);return od(3),d?e+pn(n)+r+pn(i)+o+pn(a)+s:st}function ze(t){return Et("",t),ze}function Et(t,e,n){let r=V(),i=Y_(r,t,e,n);return i!==st&&q0(r,Xt(),i),Et}function br(t,e,n,r,i){let o=V(),a=X_(o,t,e,n,r,i);return a!==st&&q0(o,Xt(),a),br}function wl(t,e,n,r,i,o,a){let s=V(),c=Q_(s,t,e,n,r,i,o,a);return c!==st&&q0(s,Xt(),c),wl}function q0(t,e,n){let r=Ah(e,t);DI(t[de],r,n)}var o4={};function Co(t){_t("NgLet");let e=_e(),n=V(),r=t+te,i=gi(e,r,128,null,null);return ai(i,!1),Da(e,n,r,o4),Co}function ns(t){let e=_e(),n=V(),r=Xt();return Da(e,n,r,t),t}function _r(t){let e=Uh(),n=ed(e,te+t);if(n===o4)throw new S(314,!1);return n}function Sm(t,e,n){let r=_e();r.firstCreatePass&&a4(e,r.data,r.blueprint,vr(t),n)}function a4(t,e,n,r,i){if(t=Ue(t),Array.isArray(t))for(let o=0;o<t.length;o++)a4(t[o],e,n,r,i);else{let o=_e(),a=V(),s=Ye(),c=Zr(t)?t:Ue(t.provide),d=Dh(t),l=s.providerIndexes&1048575,u=s.directiveStart,h=s.providerIndexes>>20;if(Zr(t)||!t.multi){let p=new ui(d,i,je,null),y=mp(c,e,i?l:l+h,u);y===-1?(kp(xd(s,a),o,c),gp(o,t,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(p),a.push(p)):(n[y]=p,a[y]=p)}else{let p=mp(c,e,l+h,u),y=mp(c,e,l,l+h),M=p>=0&&n[p],m=y>=0&&n[y];if(i&&!m||!i&&!M){kp(xd(s,a),o,c);let x=tS(i?eS:J_,n.length,i,r,d,t);!i&&m&&(n[y].providerFactory=x),gp(o,t,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(x),a.push(x)}else{let x=s4(n[i?y:p],d,!i&&r);gp(o,t,p>-1?p:y,x)}!i&&r&&m&&n[y].componentProviders++}}}function gp(t,e,n,r){let i=Zr(e),o=yg(e);if(i||o){let c=(o?Ue(e.useClass):e).prototype.ngOnDestroy;if(c){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=d.indexOf(n);l===-1?d.push(n,[r,c]):d[l+1].push(r,c)}else d.push(n,c)}}}function s4(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function mp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function J_(t,e,n,r,i){return $p(this.multi,[])}function eS(t,e,n,r,i){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Na(r,r[T],this.providerFactory.index,i);a=c.slice(0,s),$p(o,a);for(let d=s;d<c.length;d++)a.push(c[d])}else a=[],$p(o,a);return a}function $p(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function tS(t,e,n,r,i,o){let a=new ui(t,n,je,null);return a.multi=[],a.index=e,a.componentProviders=0,s4(a,i,r&&!n),a}function ki(t,e){return n=>{n.providersResolver=(r,i)=>Sm(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>Sm(r,i?i(e):e,!0))}}function rs(t,e,n){let r=Wh()+t,i=V();return i[r]===st?bk(i,r,n?e.call(n):e()):fb(i,r)}function nS(t,e){let n=t[e];return n===st?void 0:n}function rS(t,e,n,r,i,o,a){let s=e+n;return E0(t,s,i,o)?bk(t,s+2,a?r.call(a,i,o):r(i,o)):nS(t,s+2)}function Cl(t,e){let n=_e(),r,i=t+te;n.firstCreatePass?(r=iS(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=pr(r.type,!0)),a,s=nt(je);try{let c=Sd(!1),d=o();return Sd(c),Da(n,V(),i,d),d}finally{nt(s)}}function iS(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Il(t,e,n,r){let i=t+te,o=V(),a=ed(o,i);return oS(o,i)?rS(o,Wh(),e,a.transform,n,r,a):a.transform(n,r)}function oS(t,e){return t[T].data[e].pure}var Bd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},U0=(()=>{class t{compileModuleSync(n){return new Vd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Mh(n),o=Nv(i.declarations).reduce((a,s)=>{let c=Kt(s);return c&&a.push(new Cr(c)),a},[]);return new Bd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var c4=(()=>{class t{applicationErrorHandler=f(jt);appRef=f(Qe);taskService=f(vn);ngZone=f(we);zonelessEnabled=f(Aa);tracing=f(Gn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ma):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(f(ip,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Jh:Qh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ma+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function d4(){return[{provide:zn,useExisting:c4},{provide:we,useClass:wa},{provide:Aa,useValue:!0}]}function aS(){return typeof $localize<"u"&&$localize.locale||es}var is=new _("",{factory:()=>f(is,{optional:!0,skipSelf:!0})||aS()});var bl=class{destroyed=!1;listeners=null;errorHandler=f(Rt,{optional:!0});destroyRef=f(Xe);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new S(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(Zt(953,!1));return}if(this.listeners===null)return;let n=P(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{P(n)}}};function j(t,e){return la(t,e?.equal)}var K0={JSACTION:"__jsaction",OWNER:"__owner"},p4={};function sS(t){return t[K0.JSACTION]}function l4(t,e){t[K0.JSACTION]=e}function cS(t){return p4[t]}function dS(t,e){p4[t]=e}var O={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},lS=[O.MOUSEENTER,O.MOUSELEAVE,"pointerenter","pointerleave"],Wz=[O.CLICK,O.DBLCLICK,O.FOCUSIN,O.FOCUSOUT,O.KEYDOWN,O.KEYUP,O.KEYPRESS,O.MOUSEOVER,O.MOUSEOUT,O.SUBMIT,O.TOUCHSTART,O.TOUCHEND,O.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],uS=[O.FOCUS,O.BLUR,O.ERROR,O.LOAD,O.TOGGLE],Y0=t=>uS.indexOf(t)>=0;function hS(t){return t===O.MOUSEENTER?O.MOUSEOVER:t===O.MOUSELEAVE?O.MOUSEOUT:t===O.POINTERENTER?O.POINTEROVER:t===O.POINTERLEAVE?O.POINTEROUT:t}function pS(t,e,n,r){let i=!1;Y0(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function fS(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function yS(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var u4=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function gS(t){return t.which===2||t.which==null&&t.button===4}function mS(t){return u4&&t.metaKey||!u4&&t.ctrlKey||gS(t)||t.shiftKey}function vS(t,e,n){let r=t.relatedTarget;return(t.type===O.MOUSEOVER&&e===O.MOUSEENTER||t.type===O.MOUSEOUT&&e===O.MOUSELEAVE||t.type===O.POINTEROVER&&e===O.POINTERENTER||t.type===O.POINTEROUT&&e===O.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function kS(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===O.MOUSEOVER?n.type=O.MOUSEENTER:t.type===O.MOUSEOUT?n.type=O.MOUSELEAVE:t.type===O.POINTEROVER?n.type=O.POINTERENTER:n.type=O.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var MS=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Dl=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){MS&&(this.element.style.cursor="pointer"),this.handlerInfos.push(pS(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)fS(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},wS={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Sr(t){return t.eventType}function X0(t,e){t.eventType=e}function Sl(t){return t.event}function f4(t,e){t.event=e}function y4(t){return t.targetElement}function g4(t,e){t.targetElement=e}function m4(t){return t.eic}function CS(t,e){t.eic=e}function IS(t){return t.timeStamp}function bS(t,e){t.timeStamp=e}function xl(t){return t.eia}function v4(t,e,n){t.eia=[e,n]}function $0(t){t.eia=void 0}function _l(t){return t[1]}function _S(t){return t.eirp}function k4(t,e){t.eirp=e}function M4(t){return t.eir}function w4(t,e){t.eir=e}function C4(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function SS(t,e,n,r,i,o,a,s){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:a,eiack:s}}var W0=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Sr(this.eventInfo)}setEventType(e){X0(this.eventInfo,e)}getEvent(){return Sl(this.eventInfo)}setEvent(e){f4(this.eventInfo,e)}getTargetElement(){return y4(this.eventInfo)}setTargetElement(e){g4(this.eventInfo,e)}getContainer(){return m4(this.eventInfo)}setContainer(e){CS(this.eventInfo,e)}getTimestamp(){return IS(this.eventInfo)}setTimestamp(e){bS(this.eventInfo,e)}getAction(){let e=xl(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){$0(this.eventInfo);return}v4(this.eventInfo,e.name,e.element)}getIsReplay(){return _S(this.eventInfo)}setIsReplay(e){k4(this.eventInfo,e)}getResolved(){return M4(this.eventInfo)}setResolved(e){w4(this.eventInfo,e)}clone(){return new t(C4(this.eventInfo))}},xS={},DS=/\s*;\s*/,ES=O.CLICK,G0=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&Sr(e)===O.CLICK&&mS(Sl(e))?X0(e,O.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){M4(e)||(this.populateAction(e,y4(e)),w4(e,!0))}resolveParentAction(e){let n=xl(e),r=n&&_l(n);$0(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==m4(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!xl(e));)r=this.getParentNode(r);let i=xl(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Sr(e)===O.MOUSEENTER||Sr(e)===O.MOUSELEAVE||Sr(e)===O.POINTERENTER||Sr(e)===O.POINTERLEAVE)))if(vS(Sl(e),Sr(e),_l(i))){let o=kS(Sl(e),_l(i));f4(e,o),g4(e,_l(i))}else $0(e)}getParentNode(e){let n=e[K0.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[Sr(n)];i!==void 0&&v4(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=sS(e);if(!n){let r=e.getAttribute(pd.JSACTION);if(!r)n=xS,l4(e,n);else{if(n=cS(r),!n){n={};let i=r.split(DS);for(let o=0;o<i.length;o++){let a=i[o];if(!a)continue;let s=a.indexOf(wS.EVENT_ACTION_SEPARATOR),c=s!==-1,d=c?a.substr(0,s).trim():ES,l=c?a.substr(s+1).trim():a;n[d]=l}dS(r,n)}l4(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},I4=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(I4||{}),Z0=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new W0(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&TS(r.element,n)&&yS(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function TS(t,e){return t.tagName==="A"&&(e.getEventType()===O.CLICK||e.getEventType()===O.CLICKMOD)}var b4=Symbol.for("propagationStopped"),Q0={REPLAY:101};var LS="`preventDefault` called during event replay.";var AS="`composedPath` called during event replay.",El=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new G0({clickModSupport:n}),this.dispatcher=new Z0(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&OS(e),RS(e);e.getAction();){if(NS(e),Y0(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),PS(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function RS(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[b4]=!0,n()};Mi(e,"stopPropagation",r),Mi(e,"stopImmediatePropagation",r)}function PS(t){return!!t.getEvent()[b4]}function OS(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Mi(e,"target",n),Mi(e,"eventPhase",Q0.REPLAY),Mi(e,"preventDefault",()=>{throw r(),new Error(LS+"")}),Mi(e,"composedPath",()=>{throw new Error(AS+"")})}function NS(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Mi(e,"currentTarget",n,{configurable:!0})}function Mi(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function _4(t,e){t.ecrd(n=>{e.dispatch(n)},I4.I_AM_THE_JSACTION_FRAMEWORK)}function FS(t){return t?.q??[]}function VS(t){t&&(h4(t.c,t.et,t.h),h4(t.c,t.etc,t.h,!0))}function h4(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var jS=!1,S4=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=jS;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=SS(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){k4(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&lS.indexOf(n)>=0)return;let o=(s,c,d)=>{this.handleEvent(s,c,d)};this.eventHandlers[n]=o;let a=hS(r||n);if(a!==n){let s=this.browserEventTypeToExtraEventTypes[a]||[];s.push(n),this.browserEventTypeToExtraEventTypes[a]=s}this.containerManager.addEventListener(a,s=>c=>{o(n,c,s)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),VS(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let a=0;a<o.length;a++){let s=C4(i);X0(s,o[a]),this.handleEventInfo(s)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function x4(t,e=window){return FS(e._ejsas?.[t])}function J0(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var O4=Symbol("InputSignalNode#UNSET"),ux=Z(v({},ac),{transformFn:void 0,applyValueToInputSignal(t,e){ua(t,e)}});function N4(t,e){let n=Object.create(ux);n.value=t,n.transformFn=e?.transform;function r(){if(sa(n),n.value===O4){let i=null;throw new S(-950,i)}return n.value}return r[Ge]=n,r}function Io(t){return new bl}function D4(t,e){return N4(t,e)}function hx(t){return N4(O4,t)}var Bt=(D4.required=hx,D4);function E4(t,e){return Nk(e)}function px(t,e){return Fk(e)}var bo=(E4.required=px,E4);function F4(t,e){return Vk(e)}var e2=new _(""),fx=new _("");function os(t){return!t.moduleRef}function yx(t){let e=os(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{os(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(jt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),os(t)){let o=()=>e.destroy(),a=t.platformInjector.get(e2);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(e2);a.add(o),t.moduleRef.onDestroy(()=>{Oa(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return mx(r,n,()=>{let o=e.get(vn),a=o.add(),s=e.get(V0);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(is,es);if(t4(c||es),!e.get(fx,!0))return os(t)?e.get(Qe):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(os(t)){let l=e.get(Qe);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return gx?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(a))})})}var gx;function mx(t,e,n){try{let r=n();return Mo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ll=null;function vx(t=[],e){return Ie.create({name:e,providers:[{provide:_a,useValue:"platform"},{provide:e2,useValue:new Set([()=>Ll=null])},...t]})}function kx(t=[]){if(Ll)return Ll;let e=vx(t);return Ll=e,Zk(),Mx(e),e}function Mx(t){let e=t.get(Wd,null);Fe(t,()=>{e?.forEach(n=>n())})}var Kn=(()=>{class t{static __NG_ELEMENT_ID__=wx}return t})();function wx(t){return Cx(Ye(),V(),(t&16)===16)}function Cx(t,e,n){if(Bn(t)&&!n){let r=Ft(t.index,e);return new wr(r,r)}else if(t.type&175){let r=e[$e];return new wr(r,e)}return null}function V4(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ae(ne.BootstrapApplicationStart);try{let o=i?.injector??kx(r),a=[d4(),zg,...n||[]],s=new za({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return yx({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ae(ne.BootstrapApplicationEnd)}}var Tl=new WeakSet,T4="",Al=[];function L4(t){return t.get(Qp,dv)}function j4(){let t=[{provide:Qp,useFactory:()=>{let e=!0;{let n=f(Ht);e=!!window._ejsas?.[n]}return e&&_t("NgEventReplay"),e}}];return t.push({provide:fn,useValue:()=>{let e=f(Qe),{injector:n}=e;if(!Tl.has(e)){let r=f(Jp);if(L4(n)){mv();let i=n.get(Ht),o=yv(i,(a,s,c)=>{a.nodeType===Node.ELEMENT_NODE&&(uv(a,s,c),hv(a,r))});e.onDestroy(o)}}},multi:!0},{provide:Ir,useFactory:()=>{let e=f(Qe),{injector:n}=e;return()=>{if(!L4(n)||Tl.has(e))return;Tl.add(e);let r=n.get(Ht);e.onDestroy(()=>{Tl.delete(e),J0(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get(fv);Ix(i,n);let o=n.get(Jp);o.get(T4)?.forEach(pv),o.delete(T4);let a=i.instance;bv(n)?e.onDestroy(()=>a.cleanUp()):a.cleanUp()})}},multi:!0}),t}var Ix=(t,e)=>{let n=e.get(Ht),r=window._ejsas[n],i=t.instance=new S4(new Dl(r.c));for(let s of r.et)i.addEvent(s);for(let s of r.etc)i.addEvent(s);let o=x4(n);i.replayEarlyEventInfos(o),J0(n);let a=new El(s=>{bx(e,s,s.currentTarget)});_4(i,a)};function bx(t,e,n){let r=(n&&n.getAttribute($a))??"";/d\d+/.test(r)?_x(r,t,e,n):e.eventPhase===Q0.REPLAY&&e0(e,n)}function _x(t,e,n,r){Al.push({event:n,currentTarget:r}),Xk(e,t,Sx)}function Sx(t){let e=[...Al],n=new Set(t);Al=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute($a);n.has(o)?e0(r,i):Al.push({event:r,currentTarget:i})}}var A4=!1;function xx(){A4||(A4=!0,wv(),Qk(),i4(),e4(),Uk(),Ak(),mk(),Jv())}function Dx(t){return t.whenStable()}function H4(){let t=[{provide:Ua,useFactory:()=>{let e=!0;return e=!!f(po,{optional:!0})?.get(t0,null),e&&_t("NgHydration"),e}},{provide:fn,useValue:()=>{pk(!1);let e=f(le);f(Ua)&&(xv(e),xx())},multi:!0}];return t.push({provide:Xp,useFactory:()=>f(Ua)},{provide:Ir,useFactory:()=>{if(f(Ua)){let e=f(Qe);return()=>{Dx(e).then(()=>{e.destroyed||S0(e)})}}return()=>{}},multi:!0}),Pt(t)}function Yn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function z4(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function B4(t,e){let n=Kt(t),r=e.elementInjector||Ji();return new Cr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function q4(t){let e=Kt(t);if(!e)return null;let n=new Cr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var U4=null;function Xn(){return U4}function t2(t){U4??=t}var as=class{},_o=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>f($4),providedIn:"platform"})}return t})();var $4=(()=>{class t extends _o{_location;_history;_doc=f(le);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xn().getBaseHref(this._doc)}onPopState(n){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Z4(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function W4(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function xr(t){return t&&t[0]!=="?"?`?${t}`:t}var Rl=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>f(Tx),providedIn:"root"})}return t})(),Ex=new _(""),Tx=(()=>{class t extends Rl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??f(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Z4(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+xr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+xr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(N(_o),N(Ex,8))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),So=(()=>{class t{_subject=new H;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Rx(W4(G4(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+xr(r))}normalize(n){return t.stripTrailingSlash(Ax(this._basePath,G4(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+xr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=xr;static joinWithSlash=Z4;static stripTrailingSlash=W4;static \u0275fac=function(r){return new(r||t)(N(Rl))};static \u0275prov=C({token:t,factory:()=>Lx(),providedIn:"root"})}return t})();function Lx(){return new So(N(Rl))}function Ax(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function G4(t){return t.replace(/\/index.html$/,"")}function Rx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Je=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(Je||{}),fe=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(fe||{}),pt=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(pt||{}),Jn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Y4(t){return Dt(t)[Te.LocaleId]}function X4(t,e,n){let r=Dt(t),i=[r[Te.DayPeriodsFormat],r[Te.DayPeriodsStandalone]],o=qt(i,e);return qt(o,n)}function Q4(t,e,n){let r=Dt(t),i=[r[Te.DaysFormat],r[Te.DaysStandalone]],o=qt(i,e);return qt(o,n)}function J4(t,e,n){let r=Dt(t),i=[r[Te.MonthsFormat],r[Te.MonthsStandalone]],o=qt(i,e);return qt(o,n)}function e5(t,e){let r=Dt(t)[Te.Eras];return qt(r,e)}function ss(t,e){let n=Dt(t);return qt(n[Te.DateFormat],e)}function cs(t,e){let n=Dt(t);return qt(n[Te.TimeFormat],e)}function ds(t,e){let r=Dt(t)[Te.DateTimeFormat];return qt(r,e)}function ls(t,e){let n=Dt(t),r=n[Te.NumberSymbols][e];if(typeof r>"u"){if(e===Jn.CurrencyDecimal)return n[Te.NumberSymbols][Jn.Decimal];if(e===Jn.CurrencyGroup)return n[Te.NumberSymbols][Jn.Group]}return r}function t5(t){if(!t[Te.ExtraData])throw new S(2303,!1)}function n5(t){let e=Dt(t);return t5(e),(e[Te.ExtraData][2]||[]).map(r=>typeof r=="string"?n2(r):[n2(r[0]),n2(r[1])])}function r5(t,e,n){let r=Dt(t);t5(r);let i=[r[Te.ExtraData][0],r[Te.ExtraData][1]],o=qt(i,e)||[];return qt(o,n)||[]}function qt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new S(2304,!1)}function n2(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Ox=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pl={},Nx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function i5(t,e,n,r){let i=$x(t);e=Qn(n,e)||e;let a=[],s;for(;e;)if(s=Nx.exec(e),s){a=a.concat(s.slice(1));let l=a.pop();if(!l)break;e=l}else{a.push(e);break}let c=i.getTimezoneOffset();r&&(c=a5(r,c),i=Ux(i,r));let d="";return a.forEach(l=>{let u=Bx(l);d+=u?u(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function jl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Qn(t,e){let n=Y4(t);if(Pl[n]??={},Pl[n][e])return Pl[n][e];let r="";switch(e){case"shortDate":r=ss(t,pt.Short);break;case"mediumDate":r=ss(t,pt.Medium);break;case"longDate":r=ss(t,pt.Long);break;case"fullDate":r=ss(t,pt.Full);break;case"shortTime":r=cs(t,pt.Short);break;case"mediumTime":r=cs(t,pt.Medium);break;case"longTime":r=cs(t,pt.Long);break;case"fullTime":r=cs(t,pt.Full);break;case"short":let i=Qn(t,"shortTime"),o=Qn(t,"shortDate");r=Ol(ds(t,pt.Short),[i,o]);break;case"medium":let a=Qn(t,"mediumTime"),s=Qn(t,"mediumDate");r=Ol(ds(t,pt.Medium),[a,s]);break;case"long":let c=Qn(t,"longTime"),d=Qn(t,"longDate");r=Ol(ds(t,pt.Long),[c,d]);break;case"full":let l=Qn(t,"fullTime"),u=Qn(t,"fullDate");r=Ol(ds(t,pt.Full),[l,u]);break}return r&&(Pl[n][e]=r),r}function Ol(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function en(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let a=String(t);for(;a.length<e;)a="0"+a;return r&&(a=a.slice(a.length-e)),o+a}function Fx(t,e){return en(t,3).substring(0,e)}function Re(t,e,n=0,r=!1,i=!1){return function(o,a){let s=Vx(t,o);if((n>0||s>-n)&&(s+=n),t===3)s===0&&n===-12&&(s=12);else if(t===6)return Fx(s,e);let c=ls(a,Jn.MinusSign);return en(s,e,c,r,i)}}function Vx(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new S(2301,!1)}}function ke(t,e,n=Je.Format,r=!1){return function(i,o){return jx(i,o,t,e,n,r)}}function jx(t,e,n,r,i,o){switch(n){case 2:return J4(e,i,r)[t.getMonth()];case 1:return Q4(e,i,r)[t.getDay()];case 0:let a=t.getHours(),s=t.getMinutes();if(o){let d=n5(e),l=r5(e,i,r),u=d.findIndex(h=>{if(Array.isArray(h)){let[p,y]=h,M=a>=p.hours&&s>=p.minutes,m=a<y.hours||a===y.hours&&s<y.minutes;if(p.hours<y.hours){if(M&&m)return!0}else if(M||m)return!0}else if(h.hours===a&&h.minutes===s)return!0;return!1});if(u!==-1)return l[u]}return X4(e,i,r)[a<12?0:1];case 3:return e5(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new S(2302,!1)}}function Nl(t){return function(e,n,r){let i=-1*r,o=ls(n,Jn.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+en(a,2,o)+en(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+en(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+en(a,2,o)+":"+en(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+en(a,2,o)+":"+en(Math.abs(i%60),2,o);default:throw new S(2310,!1)}}}var Hx=0,Vl=4;function zx(t){let e=jl(t,Hx,1).getDay();return jl(t,0,1+(e<=Vl?Vl:Vl+7)-e)}function o5(t){let e=t.getDay(),n=e===0?-3:Vl-e;return jl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function r2(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=o5(n),a=zx(o.getFullYear()),s=o.getTime()-a.getTime();i=1+Math.round(s/6048e5)}return en(i,t,ls(r,Jn.MinusSign))}}function Fl(t,e=!1){return function(n,r){let o=o5(n).getFullYear();return en(o,t,ls(r,Jn.MinusSign),e)}}var i2={};function Bx(t){if(i2[t])return i2[t];let e;switch(t){case"G":case"GG":case"GGG":e=ke(3,fe.Abbreviated);break;case"GGGG":e=ke(3,fe.Wide);break;case"GGGGG":e=ke(3,fe.Narrow);break;case"y":e=Re(0,1,0,!1,!0);break;case"yy":e=Re(0,2,0,!0,!0);break;case"yyy":e=Re(0,3,0,!1,!0);break;case"yyyy":e=Re(0,4,0,!1,!0);break;case"Y":e=Fl(1);break;case"YY":e=Fl(2,!0);break;case"YYY":e=Fl(3);break;case"YYYY":e=Fl(4);break;case"M":case"L":e=Re(1,1,1);break;case"MM":case"LL":e=Re(1,2,1);break;case"MMM":e=ke(2,fe.Abbreviated);break;case"MMMM":e=ke(2,fe.Wide);break;case"MMMMM":e=ke(2,fe.Narrow);break;case"LLL":e=ke(2,fe.Abbreviated,Je.Standalone);break;case"LLLL":e=ke(2,fe.Wide,Je.Standalone);break;case"LLLLL":e=ke(2,fe.Narrow,Je.Standalone);break;case"w":e=r2(1);break;case"ww":e=r2(2);break;case"W":e=r2(1,!0);break;case"d":e=Re(2,1);break;case"dd":e=Re(2,2);break;case"c":case"cc":e=Re(7,1);break;case"ccc":e=ke(1,fe.Abbreviated,Je.Standalone);break;case"cccc":e=ke(1,fe.Wide,Je.Standalone);break;case"ccccc":e=ke(1,fe.Narrow,Je.Standalone);break;case"cccccc":e=ke(1,fe.Short,Je.Standalone);break;case"E":case"EE":case"EEE":e=ke(1,fe.Abbreviated);break;case"EEEE":e=ke(1,fe.Wide);break;case"EEEEE":e=ke(1,fe.Narrow);break;case"EEEEEE":e=ke(1,fe.Short);break;case"a":case"aa":case"aaa":e=ke(0,fe.Abbreviated);break;case"aaaa":e=ke(0,fe.Wide);break;case"aaaaa":e=ke(0,fe.Narrow);break;case"b":case"bb":case"bbb":e=ke(0,fe.Abbreviated,Je.Standalone,!0);break;case"bbbb":e=ke(0,fe.Wide,Je.Standalone,!0);break;case"bbbbb":e=ke(0,fe.Narrow,Je.Standalone,!0);break;case"B":case"BB":case"BBB":e=ke(0,fe.Abbreviated,Je.Format,!0);break;case"BBBB":e=ke(0,fe.Wide,Je.Format,!0);break;case"BBBBB":e=ke(0,fe.Narrow,Je.Format,!0);break;case"h":e=Re(3,1,-12);break;case"hh":e=Re(3,2,-12);break;case"H":e=Re(3,1);break;case"HH":e=Re(3,2);break;case"m":e=Re(4,1);break;case"mm":e=Re(4,2);break;case"s":e=Re(5,1);break;case"ss":e=Re(5,2);break;case"S":e=Re(6,1);break;case"SS":e=Re(6,2);break;case"SSS":e=Re(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Nl(0);break;case"ZZZZZ":e=Nl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nl(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nl(2);break;default:return null}return i2[t]=e,e}function a5(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function qx(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Ux(t,e,n){let i=t.getTimezoneOffset(),o=a5(e,i);return qx(t,-1*(o-i))}function $x(t){if(K4(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,a=1]=t.split("-").map(s=>+s);return jl(i,o-1,a)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Ox))return Wx(r)}let e=new Date(t);if(!K4(e))throw new S(2311,!1);return e}function Wx(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,c=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,a,s,c,d),e}function K4(t){return t instanceof Date&&!isNaN(t.valueOf())}function Gx(t,e){return new S(2100,!1)}var Zx="mediumDate",s5=new _(""),c5=new _(""),o2=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??Zx,s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return i5(n,a,o||this.locale,s)}catch(a){throw Gx(t,a.message)}}static \u0275fac=function(r){return new(r||t)(je(is,16),je(s5,24),je(c5,24))};static \u0275pipe=P0({name:"date",type:t,pure:!0})}return t})();var ft=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=zt({type:t});static \u0275inj=mt({})}return t})();function us(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wi=class{};var a2="browser";function Hl(t){return t===a2}var hs=class{_doc;constructor(e){this._doc=e}manager},zl=(()=>{class t extends hs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(N(le))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),Ul=new _(""),l2=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this});let i=n.filter(a=>!(a instanceof zl));this._plugins=i.slice().reverse();let o=n.find(a=>a instanceof zl);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(N(Ul),N(we))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),s2="ng-app-id";function d5(t){for(let e of t)e.remove()}function l5(t,e){let n=e.createElement("style");return n.textContent=t,n}function Xx(t,e,n,r){let i=t.head?.querySelectorAll(`style[${s2}="${e}"],link[${s2}="${e}"]`);if(i)for(let o of i)o.removeAttribute(s2),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function d2(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var u2=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,Xx(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,l5);r?.forEach(i=>this.addUsage(i,this.external,d2))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(d5(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])d5(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,l5(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,d2(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(N(le),N(Ht),N(ho,8),N(Wn))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),c2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},h2=/%COMP%/g;var h5="%COMP%",Qx=`_nghost-${h5}`,Jx=`_ngcontent-${h5}`,eD=!0,tD=new _("",{factory:()=>eD});function nD(t){return Jx.replace(h2,t)}function rD(t){return Qx.replace(h2,t)}function p5(t,e){return e.map(n=>n.replace(h2,t))}var p2=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,a,s,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=c,this.tracingService=d,this.defaultRenderer=new ps(n,a,s,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof ql?i.applyToHost(n):i instanceof fs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,u=this.tracingService;switch(r.encapsulation){case Jt.Emulated:o=new ql(c,d,r,this.appId,l,a,s,u);break;case Jt.ShadowDom:return new Bl(c,n,r,a,s,this.nonce,u,d);case Jt.ExperimentalIsolatedShadowDom:return new Bl(c,n,r,a,s,this.nonce,u);default:o=new fs(c,d,r,l,a,s,u);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(N(l2),N(u2),N(Ht),N(tD),N(le),N(we),N(ho),N(Gn,8))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),ps=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(c2[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(u5(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(u5(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=c2[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=c2[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Mn.DashCase|Mn.Important)?e.style.setProperty(n,r,i&Mn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Mn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Xn().getGlobalEventTarget(this.doc,e),!e))throw new S(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function u5(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Bl=class extends ps{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,a,s,c){super(e,i,o,s),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=p5(r.id,d);for(let u of d){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}let l=r.getExternalStyles?.();if(l)for(let u of l){let h=d2(u,i);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},fs=class extends ps{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,s,c){super(e,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?p5(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&hi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ql=class extends fs{contentAttr;hostAttr;constructor(e,n,r,i,o,a,s,c){let d=i+"-"+r.id;super(e,n,r,o,a,s,c,d),this.contentAttr=nD(d),this.hostAttr=rD(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var $l=class t extends as{supportsDOMEvents=!0;static makeCurrent(){t2(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=iD();return n==null?null:oD(n)}resetBaseElement(){ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return us(document.cookie,e)}},ys=null;function iD(){return ys=ys||document.head.querySelector("base"),ys?ys.getAttribute("href"):null}function oD(t){return new URL(t,document.baseURI).pathname}var aD=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),f5=["alt","control","meta","shift"],sD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cD={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},y5=(()=>{class t extends hs{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xn().onAndCancel(n,a.domEventName,s,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),f5.forEach(d=>{let l=r.indexOf(d);l>-1&&(r.splice(l,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let i=sD[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),f5.forEach(a=>{if(a!==i){let s=cD[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(N(le))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})();function f2(t,e,n){let r=v({rootComponent:t,platformRef:n?.platformRef},dD(e));return V4(r)}function dD(t){return{appProviders:[...fD,...t?.providers??[]],platformProviders:pD}}function lD(){$l.makeCurrent()}function uD(){return new Rt}function hD(){return Zp(document),document}var pD=[{provide:Wn,useValue:a2},{provide:Wd,useValue:lD,multi:!0},{provide:le,useFactory:hD}];var fD=[{provide:_a,useValue:"root"},{provide:Rt,useFactory:uD},{provide:Ul,useClass:zl,multi:!0},{provide:Ul,useClass:y5,multi:!0},p2,u2,l2,{provide:bt,useExisting:p2},{provide:wi,useClass:aD},[]];var tr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Gl=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},Zl=class{encodeKey(e){return g5(e)}encodeValue(e){return g5(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function yD(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,s]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(a)||[];c.push(s),n.set(a,c)}),n}var gD=/%(\d[a-f0-9])/gi,mD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function g5(t){return encodeURIComponent(t).replace(gD,(e,n)=>mD[n]??e)}function Wl(t){return`${t}`}var er=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Zl,e.fromString){if(e.fromObject)throw new S(2805,!1);this.map=yD(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Wl):[Wl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Wl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Wl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function vD(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function m5(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function v5(t){return typeof Blob<"u"&&t instanceof Blob}function k5(t){return typeof FormData<"u"&&t instanceof FormData}function kD(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var M5="Content-Type",w5="Accept",C5="text/plain",I5="application/json",MD=`${I5}, ${C5}, */*`,xo=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(vD(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new S(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new tr,this.context??=new Gl,!this.params)this.params=new er,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let s=n.indexOf("?"),c=s===-1?"?":s<n.length-1?"&":"";this.urlWithParams=n+c+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||m5(this.body)||v5(this.body)||k5(this.body)||kD(this.body)?this.body:this.body instanceof er?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||k5(this.body)?null:v5(this.body)?this.body.type||null:m5(this.body)?null:typeof this.body=="string"?C5:this.body instanceof er?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?I5:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,a=e.priority||this.priority,s=e.cache||this.cache,c=e.mode||this.mode,d=e.redirect||this.redirect,l=e.credentials||this.credentials,u=e.referrer||this.referrer,h=e.integrity||this.integrity,p=e.referrerPolicy||this.referrerPolicy,y=e.transferCache??this.transferCache,M=e.timeout??this.timeout,m=e.body!==void 0?e.body:this.body,x=e.withCredentials??this.withCredentials,ee=e.reportProgress??this.reportProgress,Me=e.headers||this.headers,ye=e.params||this.params,dn=e.context??this.context;return e.setHeaders!==void 0&&(Me=Object.keys(e.setHeaders).reduce((aa,Vr)=>aa.set(Vr,e.setHeaders[Vr]),Me)),e.setParams&&(ye=Object.keys(e.setParams).reduce((aa,Vr)=>aa.set(Vr,e.setParams[Vr]),ye)),new t(n,r,m,{params:ye,headers:Me,context:dn,reportProgress:ee,responseType:i,withCredentials:x,transferCache:y,keepalive:o,cache:s,priority:a,timeout:M,mode:c,redirect:d,credentials:l,referrer:u,integrity:h,referrerPolicy:p})}},Ci=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Ci||{}),Eo=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new tr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},Kl=class t extends Eo{constructor(e={}){super(e)}type=Ci.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},To=class t extends Eo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ci.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},Do=class extends Eo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},wD=200,CD=204;var ID=new _("");var bD=/^\)\]\}',?\n/;var g2=(()=>{class t{xhrFactory;tracingService=f(Gn,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new S(-2800,!1);let r=this.xhrFactory;return L(null).pipe(Ne(()=>new q(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((m,x)=>a.setRequestHeader(m,x.join(","))),n.headers.has(w5)||a.setRequestHeader(w5,MD),!n.headers.has(M5)){let m=n.detectContentTypeHeader();m!==null&&a.setRequestHeader(M5,m)}if(n.timeout&&(a.timeout=n.timeout),n.responseType){let m=n.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let s=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let m=a.statusText||"OK",x=new tr(a.getAllResponseHeaders()),ee=a.responseURL||n.url;return c=new Kl({headers:x,status:a.status,statusText:m,url:ee}),c},l=this.maybePropagateTrace(()=>{let{headers:m,status:x,statusText:ee,url:Me}=d(),ye=null;x!==CD&&(ye=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=ye?wD:0);let dn=x>=200&&x<300;if(n.responseType==="json"&&typeof ye=="string"){let aa=ye;ye=ye.replace(bD,"");try{ye=ye!==""?JSON.parse(ye):null}catch(Vr){ye=aa,dn&&(dn=!1,ye={error:Vr,text:ye})}}dn?(o.next(new To({body:ye,headers:m,status:x,statusText:ee,url:Me||void 0})),o.complete()):o.error(new Do({error:ye,headers:m,status:x,statusText:ee,url:Me||void 0}))}),u=this.maybePropagateTrace(m=>{let{url:x}=d(),ee=new Do({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});o.error(ee)}),h=u;n.timeout&&(h=this.maybePropagateTrace(m=>{let{url:x}=d(),ee=new Do({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:x||void 0});o.error(ee)}));let p=!1,y=this.maybePropagateTrace(m=>{p||(o.next(d()),p=!0);let x={type:Ci.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(x.total=m.total),n.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),o.next(x)}),M=this.maybePropagateTrace(m=>{let x={type:Ci.UploadProgress,loaded:m.loaded};m.lengthComputable&&(x.total=m.total),o.next(x)});return a.addEventListener("load",l),a.addEventListener("error",u),a.addEventListener("timeout",h),a.addEventListener("abort",u),n.reportProgress&&(a.addEventListener("progress",y),s!==null&&a.upload&&a.upload.addEventListener("progress",M)),a.send(s),o.next({type:Ci.Sent}),()=>{a.removeEventListener("error",u),a.removeEventListener("abort",u),a.removeEventListener("load",l),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",y),s!==null&&a.upload&&a.upload.removeEventListener("progress",M)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||t)(N(wi))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _D(t,e){return e(t)}function SD(t,e,n){return(r,i)=>Fe(n,()=>e(r,o=>t(o,i)))}var b5=new _("",{factory:()=>[]}),m2=new _(""),_5=new _("",{factory:()=>!0});var v2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=N(g2),i},providedIn:"root"})}return t})();var Yl=(()=>{class t{backend;injector;chain=null;pendingTasks=f(ci);contributeToStability=f(_5);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(b5),...this.injector.get(m2,[])]));this.chain=r.reduceRight((i,o)=>SD(i,o,this.injector),_D)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Nn(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(N(v2),N(Ce))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),k2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=N(Yl),i},providedIn:"root"})}return t})();function y2(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var Xl=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof xo)o=n;else{let c;i.headers instanceof tr?c=i.headers:c=new tr(i.headers);let d;i.params&&(i.params instanceof er?d=i.params:d=new er({fromObject:i.params})),o=new xo(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let a=L(o).pipe(Ki(c=>this.handler.handle(c)));if(n instanceof xo||i.observe==="events")return a;let s=a.pipe(Ze(c=>c instanceof To));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(U(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new S(2806,!1);return c.body}));case"blob":return s.pipe(U(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new S(2807,!1);return c.body}));case"text":return s.pipe(U(c=>{if(c.body!==null&&typeof c.body!="string")throw new S(2808,!1);return c.body}));case"json":default:return s.pipe(U(c=>c.body))}case"response":return s;default:throw new S(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new er().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,y2(i,r))}post(n,r,i={}){return this.request("POST",n,y2(i,r))}put(n,r,i={}){return this.request("PUT",n,y2(i,r))}static \u0275fac=function(r){return new(r||t)(N(k2))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xD=new _("",{factory:()=>!0}),DD="XSRF-TOKEN",ED=new _("",{factory:()=>DD}),TD="X-XSRF-TOKEN",LD=new _("",{providedIn:"root",factory:()=>TD}),AD=(()=>{class t{cookieName=f(ED);doc=f(le);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=us(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),S5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=N(AD),i},providedIn:"root"})}return t})();function RD(t,e){if(!f(xD)||t.method==="GET"||t.method==="HEAD")return e(t);try{let i=f(_o).href,{origin:o}=new URL(i),{origin:a}=new URL(t.url,o);if(o!==a)return e(t)}catch{return e(t)}let n=f(S5).getToken(),r=f(LD);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function M2(...t){let e=[Xl,Yl,{provide:k2,useExisting:Yl},{provide:v2,useFactory:()=>f(ID,{optional:!0})??f(g2)},{provide:b5,useValue:RD,multi:!0}];for(let n of t)e.push(...n.\u0275providers);return Pt(e)}var PD=new _(""),OD="b",ND="h",FD="s",VD="st",jD="u",HD="rt",w2=new _(""),zD=["GET","HEAD"];function BD(t,e){let p=f(w2),{isCacheActive:n}=p,r=hr(p,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!zD.includes(o)||!r.includeRequestsWithAuthHeaders&&qD(t)||r.filter?.(t)===!1)return e(t);let a=f(po);if(f(PD,{optional:!0}))throw new S(2803,!1);let c=t.url,d=UD(t,c),l=a.get(d,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),l){let{[OD]:y,[HD]:M,[ND]:m,[FD]:x,[VD]:ee,[jD]:Me}=l,ye=y;switch(M){case"arraybuffer":ye=new TextEncoder().encode(y).buffer;break;case"blob":ye=new Blob([y]);break}let dn=new tr(m);return L(new To({body:ye,headers:dn,status:x,statusText:ee,url:Me}))}return e(t)}function qD(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function x5(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function UD(t,e){let{params:n,method:r,responseType:i}=t,o=x5(n),a=t.serializeBody();a instanceof URLSearchParams?a=x5(a):typeof a!="string"&&(a="");let s=[r,i,e,a,o].join("|"),c=$D(s);return c}function $D(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function D5(t){return[{provide:w2,useFactory:()=>(_t("NgHttpTransferCache"),v({isCacheActive:!0},t))},{provide:m2,useValue:BD,multi:!0},{provide:Ir,multi:!0,useFactory:()=>{let e=f(Qe),n=f(w2);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var E5=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(N(le))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ql=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(Ql||{});function GD(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function T5(){return GD(Ql.EventReplay,j4())}function L5(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(Ql.HttpTransferCacheOptions);return Pt([[],H4(),n.has(Ql.NoHttpTransferCache)||r?[]:D5({}),e])}var G="primary",xs=Symbol("RouteTitle"),S2=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Si(t){return new S2(t)}function H5(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=t[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function iu(t){return new Promise((e,n)=>{t.pipe(Fn()).subscribe({next:r=>e(r),error:r=>n(r)})})}function KD(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bn(t[n],e[n]))return!1;return!0}function bn(t,e){let n=t?x2(t):void 0,r=e?x2(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!z5(t[i],e[i]))return!1;return!0}function x2(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function z5(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function B5(t){return t.length>0?t[t.length-1]:null}function Di(t){return pa(t)?t:Mo(t)?Le(Promise.resolve(t)):L(t)}function q5(t){return pa(t)?iu(t):Promise.resolve(t)}var YD={exact:$5,subset:W5},U5={exact:XD,subset:QD,ignored:()=>!0};function A5(t,e,n){return YD[n.paths](t.root,e.root,n.matrixParams)&&U5[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function XD(t,e){return bn(t,e)}function $5(t,e,n){if(!bi(t.segments,e.segments)||!tu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!$5(t.children[r],e.children[r],n))return!1;return!0}function QD(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>z5(t[n],e[n]))}function W5(t,e,n){return G5(t,e,e.segments,n)}function G5(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!bi(i,n)||e.hasChildren()||!tu(i,n,r))}else if(t.segments.length===n.length){if(!bi(t.segments,n)||!tu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!W5(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!bi(t.segments,i)||!tu(t.segments,i,r)||!t.children[G]?!1:G5(t.children[G],e,o,r)}}function tu(t,e,n){return e.every((r,i)=>U5[n](t[i].parameters,r.parameters))}var nn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){return t7.serialize(this)}},se=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nu(this)}},Dr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Si(this.parameters),this._parameterMap}toString(){return K5(this)}};function JD(t,e){return bi(t,e)&&t.every((n,r)=>bn(n.parameters,e[r].parameters))}function bi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function e7(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===G&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==G&&(n=n.concat(e(i,r)))}),n}var Ds=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>new Er,providedIn:"root"})}return t})(),Er=class{parse(e){let n=new E2(e);return new nn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${gs(e.root,!0)}`,r=i7(e.queryParams),i=typeof e.fragment=="string"?`#${n7(e.fragment)}`:"";return`${n}${r}${i}`}},t7=new Er;function nu(t){return t.segments.map(e=>K5(e)).join("/")}function gs(t,e){if(!t.hasChildren())return nu(t);if(e){let n=t.children[G]?gs(t.children[G],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==G&&r.push(`${i}:${gs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=e7(t,(r,i)=>i===G?[gs(t.children[G],!1)]:[`${i}:${gs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[G]!=null?`${nu(t)}/${n[0]}`:`${nu(t)}/(${n.join("//")})`}}function Z5(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jl(t){return Z5(t).replace(/%3B/gi,";")}function n7(t){return encodeURI(t)}function D2(t){return Z5(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ru(t){return decodeURIComponent(t)}function R5(t){return ru(t.replace(/\+/g,"%20"))}function K5(t){return`${D2(t.path)}${r7(t.parameters)}`}function r7(t){return Object.entries(t).map(([e,n])=>`;${D2(e)}=${D2(n)}`).join("")}function i7(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Jl(n)}=${Jl(i)}`).join("&"):`${Jl(n)}=${Jl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var o7=/^[^\/()?;#]+/;function C2(t){let e=t.match(o7);return e?e[0]:""}var a7=/^[^\/()?;=#]+/;function s7(t){let e=t.match(a7);return e?e[0]:""}var c7=/^[^=?&#]+/;function d7(t){let e=t.match(c7);return e?e[0]:""}var l7=/^[^&#]+/;function u7(t){let e=t.match(l7);return e?e[0]:""}var E2=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[G]=new se(e,n)),r}parseSegment(){let e=C2(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Dr(ru(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=s7(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=C2(this.remaining);i&&(r=i,this.capture(r))}e[ru(n)]=ru(r)}parseQueryParam(e){let n=d7(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=u7(this.remaining);a&&(r=a,this.capture(r))}let i=R5(n),o=R5(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=C2(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=G);let a=this.parseChildren();n[o??G]=Object.keys(a).length===1&&a[G]?a[G]:new se([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function Y5(t){return t.segments.length>0?new se([],{[G]:t}):t}function X5(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=X5(i);if(r===G&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new se(t.segments,e);return h7(n)}function h7(t){if(t.numberOfChildren===1&&t.children[G]){let e=t.children[G];return new se(t.segments.concat(e.segments),e.children)}return t}function Po(t){return t instanceof nn}function Q5(t,e,n=null,r=null,i=new Er){let o=J5(t);return eM(o,e,n,r,i)}function J5(t){let e;function n(o){let a={};for(let c of o.children){let d=n(c);a[c.outlet]=d}let s=new se(o.url,a);return o===t&&(e=s),s}let r=n(t.root),i=Y5(r);return e??i}function eM(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return I2(o,o,o,n,r,i);let a=p7(e);if(a.toRoot())return I2(o,o,new se([],{}),n,r,i);let s=f7(a,o,t),c=s.processChildren?vs(s.segmentGroup,s.index,a.commands):nM(s.segmentGroup,s.index,a.commands);return I2(o,s.segmentGroup,c,n,r,i)}function ou(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ws(t){return typeof t=="object"&&t!=null&&t.outlets}function P5(t,e,n){t||="\u0275";let r=new nn;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function I2(t,e,n,r,i,o){let a={};for(let[d,l]of Object.entries(r??{}))a[d]=Array.isArray(l)?l.map(u=>P5(d,u,o)):P5(d,l,o);let s;t===e?s=n:s=tM(t,e,n);let c=Y5(X5(s));return new nn(c,a,i)}function tM(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=tM(o,e,n)}),new se(t.segments,r)}var au=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ou(r[0]))throw new S(4003,!1);let i=r.find(ws);if(i&&i!==B5(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function p7(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new au(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,d])=>{s[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?e++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new au(n,e,r)}var Ao=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function f7(t,e,n){if(t.isAbsolute)return new Ao(e,!0,0);if(!n)return new Ao(e,!1,NaN);if(n.parent===null)return new Ao(n,!0,0);let r=ou(t.commands[0])?0:1,i=n.segments.length-1+r;return y7(n,i,t.numberOfDoubleDots)}function y7(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new Ao(r,!1,i-o)}function g7(t){return ws(t[0])?t[0].outlets:{[G]:t}}function nM(t,e,n){if(t??=new se([],{}),t.segments.length===0&&t.hasChildren())return vs(t,e,n);let r=m7(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new se(t.segments.slice(0,r.pathIndex),{});return o.children[G]=new se(t.segments.slice(r.pathIndex),t.children),vs(o,0,i)}else return r.match&&i.length===0?new se(t.segments,{}):r.match&&!t.hasChildren()?T2(t,e,n):r.match?vs(t,0,i):T2(t,e,n)}function vs(t,e,n){if(n.length===0)return new se(t.segments,{});{let r=g7(n),i={};if(Object.keys(r).some(o=>o!==G)&&t.children[G]&&t.numberOfChildren===1&&t.children[G].segments.length===0){let o=vs(t.children[G],e,n);return new se(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=nM(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new se(t.segments,i)}}function m7(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],s=n[r];if(ws(s))break;let c=`${s}`,d=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!N5(c,d,a))return o;r+=2}else{if(!N5(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function T2(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ws(o)){let c=v7(o.outlets);return new se(r,c)}if(i===0&&ou(n[0])){let c=t.segments[e];r.push(new Dr(c.path,O5(n[0]))),i++;continue}let a=ws(o)?o.outlets[G]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&ou(s)?(r.push(new Dr(a,O5(s))),i+=2):(r.push(new Dr(a,{})),i++)}return new se(r,{})}function v7(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=T2(new se([],{}),0,r))}),e}function O5(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function N5(t,e,n){return t==n.path&&bn(e,n.parameters)}var ks="imperative",Be=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Be||{}),At=class{id;url;constructor(e,n){this.id=e,this.url=n}},nr=class extends At{type=Be.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rr=class extends At{urlAfterRedirects;type=Be.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(dt||{}),Cs=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Cs||{}),_n=class extends At{reason;code;type=Be.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ir=class extends At{reason;code;type=Be.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Oo=class extends At{error;target;type=Be.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xi=class extends At{urlAfterRedirects;state;type=Be.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},su=class extends At{urlAfterRedirects;state;type=Be.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cu=class extends At{urlAfterRedirects;state;shouldActivate;type=Be.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},du=class extends At{urlAfterRedirects;state;type=Be.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lu=class extends At{urlAfterRedirects;state;type=Be.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uu=class{route;type=Be.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},hu=class{route;type=Be.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pu=class{snapshot;type=Be.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fu=class{snapshot;type=Be.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yu=class{snapshot;type=Be.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gu=class{snapshot;type=Be.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Is=class{},No=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function k7(t){return!(t instanceof Is)&&!(t instanceof No)}function M7(t,e){return t.providers&&!t._injector&&(t._injector=vo(t.providers,e,`Route: ${t.path}`)),t._injector??e}function tn(t){return t.outlet||G}function w7(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function jo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var mu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return jo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ho(this.rootInjector)}},Ho=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new mu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(N(Ce))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vu=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=L2(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=L2(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=A2(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return A2(e,this._root).map(n=>n.value)}};function L2(t,e){if(t===e.value)return e;for(let n of e.children){let r=L2(t,n);if(r)return r}return null}function A2(t,e){if(t===e.value)return[e];for(let n of e.children){let r=A2(t,n);if(r.length)return r.unshift(e),r}return[]}var Lt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var bs=class extends vu{snapshot;constructor(e,n){super(e),this.snapshot=n,V2(this,e)}toString(){return this.snapshot.toString()}};function rM(t){let e=C7(t),n=new Pe([new Dr("",{})]),r=new Pe({}),i=new Pe({}),o=new Pe({}),a=new Pe(""),s=new Tr(n,r,o,a,i,G,t,e.root);return s.snapshot=e.root,new bs(new Lt(s,[]),e)}function C7(t){let e={},n={},r={},o=new _i([],e,r,"",n,G,t,null,{});return new _s("",new Lt(o,[]))}var Tr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,s,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(U(d=>d[xs]))??L(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(e=>Si(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(e=>Si(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ku(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),i?.data),t._resolvedData)}:r={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},i&&oM(i)&&(r.resolve[xs]=i.title),r}var _i=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xs]}constructor(e,n,r,i,o,a,s,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_s=class extends vu{url;constructor(e,n){super(n),this.url=e,V2(this,n)}toString(){return iM(this._root)}};function V2(t,e){e.value._routerState=t,e.children.forEach(n=>V2(t,n))}function iM(t){let e=t.children.length>0?` { ${t.children.map(iM).join(", ")} } `:"";return`${t.value}${e}`}function b2(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),bn(e.params,n.params)||t.paramsSubject.next(n.params),KD(e.url,n.url)||t.urlSubject.next(n.url),bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function R2(t,e){let n=bn(t.params,e.params)&&JD(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||R2(t.parent,e.parent))}function oM(t){return typeof t.title=="string"||t.title===null}var aM=new _(""),Es=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=G;activateEvents=new pe;deactivateEvents=new pe;attachEvents=new pe;detachEvents=new pe;routerOutletData=Bt();parentContexts=f(Ho);location=f(Cn);changeDetector=f(Kn);inputBinder=f(Ts,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new P2(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=In({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[$n]})}return t})(),P2=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Tr?this.route:e===Ho?this.childContexts:e===aM?this.outletData:this.parent.get(e,n)}},Ts=new _(""),j2=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Gi([r.queryParams,r.params,r.data]).pipe(Ne(([o,a,s],c)=>(s=v(v(v({},o),a),s),c===0?L(s):Promise.resolve(s)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=q4(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:s}of a.inputs)n.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})(),H2=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ie({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&F(0,"router-outlet")},dependencies:[Es],encapsulation:2})}return t})();function z2(t){let e=t.children&&t.children.map(z2),n=e?Z(v({},t),{children:e}):v({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==G&&(n.component=H2),n}function I7(t,e,n){let r=Ss(t,e._root,n?n._root:void 0);return new bs(r,e)}function Ss(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=b7(t,e,n);return new Lt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Ss(t,s)),a}}let r=_7(e.value),i=e.children.map(o=>Ss(t,o));return new Lt(r,i)}}function b7(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ss(t,r,i);return Ss(t,r)})}function _7(t){return new Tr(new Pe(t.url),new Pe(t.params),new Pe(t.queryParams),new Pe(t.fragment),new Pe(t.data),t.outlet,t.component,t)}var Fo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},sM="ngNavigationCancelingError";function Mu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cM(!1,dt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[sM]=!0,n.cancellationCode=e,n}function S7(t){return dM(t)&&Po(t.url)}function dM(t){return!!t&&t[sM]}var x7=(t,e,n,r)=>U(i=>(new O2(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),O2=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),b2(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lo(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Lo(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Lo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gu(o.value.snapshot))}),e.children.length&&this.forwardEvent(new fu(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(b2(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),b2(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},wu=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ro=class{component;route;constructor(e,n){this.component=e,this.route=n}};function D7(t,e,n){let r=t._root,i=e?e._root:null;return ms(r,i,n,[r.value])}function E7(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function zo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!fh(t)?t:e.get(t):r}function ms(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Lo(e);return t.children.forEach(a=>{T7(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Ms(s,n.getContext(a),i)),i}function T7(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=L7(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new wu(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?ms(t,e,s?s.children:null,r,i):ms(t,e,n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Ro(s.outlet.component,a))}else a&&Ms(e,s,i),i.canActivateChecks.push(new wu(r)),o.component?ms(t,null,s?s.children:null,r,i):ms(t,null,n,r,i);return i}function L7(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!bi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bi(t.url,e.url)||!bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!R2(t,e)||!bn(t.queryParams,e.queryParams);case"paramsChange":default:return!R2(t,e)}}function Ms(t,e,n){let r=Lo(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Ms(a,e.children.getContext(o),n):Ms(a,null,n):Ms(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ro(e.outlet.component,i)):n.canDeactivateChecks.push(new Ro(null,i)):n.canDeactivateChecks.push(new Ro(null,i))}function Ls(t){return typeof t=="function"}function A7(t){return typeof t=="boolean"}function R7(t){return t&&Ls(t.canLoad)}function P7(t){return t&&Ls(t.canActivate)}function O7(t){return t&&Ls(t.canActivateChild)}function N7(t){return t&&Ls(t.canDeactivate)}function F7(t){return t&&Ls(t.canMatch)}function lM(t){return t instanceof $r||t?.name==="EmptyError"}var eu=Symbol("INITIAL_VALUE");function Vo(){return Ne(t=>Gi(t.map(e=>e.pipe(Ke(1),Vn(eu)))).pipe(U(e=>{for(let n of e)if(n!==!0){if(n===eu)return eu;if(n===!1||V7(n))return n}return!0}),Ze(e=>e!==eu),Ke(1)))}function V7(t){return Po(t)||t instanceof Fo}function uM(t){return t.aborted?L(void 0).pipe(Ke(1)):new q(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function hM(t){return yt(uM(t))}function j7(t,e){return qe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?L(Z(v({},n),{guardsResult:!0})):H7(a,r,i,t).pipe(qe(s=>s&&A7(s)?z7(r,o,t,e):L(s)),U(s=>Z(v({},n),{guardsResult:s})))})}function H7(t,e,n,r){return Le(t).pipe(qe(i=>W7(i.component,i.route,n,e,r)),Fn(i=>i!==!0,!0))}function z7(t,e,n,r){return Le(e).pipe(Ki(i=>un(q7(i.route.parent,r),B7(i.route,r),$7(t,i.path,n),U7(t,i.route,n))),Fn(i=>i!==!0,!0))}function B7(t,e){return t!==null&&e&&e(new yu(t)),L(!0)}function q7(t,e){return t!==null&&e&&e(new pu(t)),L(!0)}function U7(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return L(!0);let i=r.map(o=>fa(()=>{let a=jo(e)??n,s=zo(o,a),c=P7(s)?s.canActivate(e,t):Fe(a,()=>s(e,t));return Di(c).pipe(Fn())}));return L(i).pipe(Vo())}function $7(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>E7(a)).filter(a=>a!==null).map(a=>fa(()=>{let s=a.guards.map(c=>{let d=jo(a.node)??n,l=zo(c,d),u=O7(l)?l.canActivateChild(r,t):Fe(d,()=>l(r,t));return Di(u).pipe(Fn())});return L(s).pipe(Vo())}));return L(o).pipe(Vo())}function W7(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let a=o.map(s=>{let c=jo(e)??i,d=zo(s,c),l=N7(d)?d.canDeactivate(t,e,n,r):Fe(c,()=>d(t,e,n,r));return Di(l).pipe(Fn())});return L(a).pipe(Vo())}function G7(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return L(!0);let a=o.map(s=>{let c=zo(s,t),d=R7(c)?c.canLoad(e,n):Fe(t,()=>c(e,n)),l=Di(d);return i?l.pipe(hM(i)):l});return L(a).pipe(Vo(),pM(r))}function pM(t){return B1(Se(e=>{if(typeof e!="boolean")throw Mu(t,e)}),U(e=>e===!0))}function Z7(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return L(!0);let a=o.map(s=>{let c=zo(s,t),d=F7(c)?c.canMatch(e,n):Fe(t,()=>c(e,n)),l=Di(d);return i?l.pipe(hM(i)):l});return L(a).pipe(Vo(),pM(r))}var Ii=class fM extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,fM.prototype)}},N2=class yM extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,yM.prototype)}};function K7(t){throw new S(4e3,!1)}function Y7(t){throw cM(!1,dt.GuardRejected)}var X7=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[G])throw K7(`${e.redirectTo}`);i=i.children[G]}}async applyRedirectCommands(e,n,r,i,o){let a=await Q7(n,i,o);if(a instanceof nn)throw new N2(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new N2(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new nn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,r,i)}),new se(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function Q7(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,params:d,data:l,title:u}=e;return iu(Di(Fe(n,()=>r({params:d,data:l,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,title:u}))))}var F2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function J7(t,e,n,r,i,o){let a=gM(t,e,n);return a.matched?(r=M7(e,r),Z7(r,e,n,i,o).pipe(U(s=>s===!0?a:v({},F2)))):L(a)}function gM(t,e,n){if(e.path==="**")return eE(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?v({},F2):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||H5)(n,t,e);if(!i)return v({},F2);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function eE(t){return{matched:!0,parameters:t.length>0?B5(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function F5(t,e,n,r){return n.length>0&&rE(t,n,r)?{segmentGroup:new se(e,nE(r,new se(n,t.children))),slicedSegments:[]}:n.length===0&&iE(t,n,r)?{segmentGroup:new se(t.segments,tE(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new se(t.segments,t.children),slicedSegments:n}}function tE(t,e,n,r){let i={};for(let o of n)if(Iu(t,e,o)&&!r[tn(o)]){let a=new se([],{});i[tn(o)]=a}return v(v({},r),i)}function nE(t,e){let n={};n[G]=e;for(let r of t)if(r.path===""&&tn(r)!==G){let i=new se([],{});n[tn(r)]=i}return n}function rE(t,e,n){return n.some(r=>Iu(t,e,r)&&tn(r)!==G)}function iE(t,e,n){return n.some(r=>Iu(t,e,r))}function Iu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function oE(t,e,n){return e.length===0&&!t.children[n]}var aE=class{};async function sE(t,e,n,r,i,o,a="emptyOnly",s){return new dE(t,e,n,r,i,a,o,s).recognize()}var cE=31,dE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=c,this.applyRedirects=new X7(this.urlSerializer,this.urlTree)}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}async recognize(){let e=F5(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new Lt(r,n),o=new _s("",i),a=Q5(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(e){let n=new _i([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),G,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,G,n),rootSnapshot:n}}catch(r){if(r instanceof N2)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ii?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let a=await this.processSegment(e,n,r,r.segments,i,!0,o);return a instanceof Lt?[a]:[]}async processChildren(e,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let a=[];for(let c of o){let d=r.children[c],l=w7(n,c),u=await this.processSegmentGroup(e,l,d,c,i);a.push(...u)}let s=mM(a);return lE(s),s}async processSegment(e,n,r,i,o,a,s){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,a,s)}catch(d){if(d instanceof Ii||lM(d))continue;throw d}if(oE(r,i,o))return new aE;throw new Ii(r)}async processSegmentAgainstRoute(e,n,r,i,o,a,s,c){if(tn(r)!==a&&(a===G||!Iu(i,o,r)))throw new Ii(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,a,c);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,c);throw new Ii(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,s){let{matched:c,parameters:d,consumedSegments:l,positionalParamSegments:u,remainingSegments:h}=gM(n,i,o);if(!c)throw new Ii(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cE&&(this.allowRedirects=!1));let p=new _i(o,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,V5(i),tn(i),i.component??i._loadedComponent??null,i,j5(i)),y=ku(p,s,this.paramsInheritanceStrategy);if(p.params=Object.freeze(y.params),p.data=Object.freeze(y.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let M=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u,p,e),m=await this.applyRedirects.lineralizeSegments(i,M);return this.processSegment(e,r,n,m.concat(h),a,!1,s)}async matchSegmentAgainstRoute(e,n,r,i,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await iu(J7(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!s?.matched)throw new Ii(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:l,consumedSegments:u,remainingSegments:h}=s,p=new _i(u,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,V5(r),tn(r),r.component??r._loadedComponent??null,r,j5(r)),y=ku(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let{segmentGroup:M,slicedSegments:m}=F5(n,u,h,c);if(m.length===0&&M.hasChildren()){let Me=await this.processChildren(d,c,M,p);return new Lt(p,Me)}if(c.length===0&&m.length===0)return new Lt(p,[]);let x=tn(r)===o,ee=await this.processSegment(d,c,M,m,x?G:o,!0,p);return new Lt(p,ee instanceof Lt?[ee]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await iu(G7(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw Y7(n)}return{routes:[],injector:e}}};function lE(t){t.sort((e,n)=>e.value.outlet===G?-1:n.value.outlet===G?1:e.value.outlet.localeCompare(n.value.outlet))}function uE(t){let e=t.value.routeConfig;return e&&e.path===""}function mM(t){let e=[],n=new Set;for(let r of t){if(!uE(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=mM(r.children);e.push(new Lt(r.value,i))}return e.filter(r=>!n.has(r))}function V5(t){return t.data||{}}function j5(t){return t.resolve||{}}var hE=new _("",{factory:()=>sE});function pE(t,e,n,r,i,o,a){let s=t.get(hE);return qe(c=>L(c).pipe(Ne(d=>s(t,e,n,r,d.extractedUrl,i,o,a)),U(({state:d,tree:l})=>Z(v({},c),{targetSnapshot:d,urlAfterRedirects:l}))))}function fE(t,e){return qe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return L(n);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let d of vM(c))a.add(d);let s=0;return Le(a).pipe(Ki(c=>o.has(c)?yE(c,r,t,e):(c.data=ku(c,c.parent,t).resolve,L(void 0))),Se(()=>s++),Nc(1),qe(c=>s===a.size?L(n):Oe))})}function vM(t){let e=t.children.map(n=>vM(n)).flat();return[t,...e]}function yE(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!oM(i)&&(o[xs]=i.title),fa(()=>(t.data=ku(t,t.parent,n).resolve,gE(o,t,e,r).pipe(U(a=>(t._resolvedData=a,t.data=v(v({},t.data),a),null)))))}function gE(t,e,n,r){let i=x2(t);if(i.length===0)return L({});let o={};return Le(i).pipe(qe(a=>mE(t[a],e,n,r).pipe(Fn(),Se(s=>{if(s instanceof Fo)throw Mu(new Er,s);o[a]=s}))),Nc(1),U(()=>o),On(a=>lM(a)?Oe:Wi(a)))}function mE(t,e,n,r){let i=jo(e)??r,o=zo(t,i),a=o.resolve?o.resolve(e,n):Fe(i,()=>o(e,n));return Di(a)}function _2(t){return Ne(e=>{let n=t(e);return n?Le(n).pipe(U(()=>e)):L(e)})}var B2=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===G);return r}getResolvedTitleForRoute(n){return n.data[xs]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>f(kM),providedIn:"root"})}return t})(),kM=(()=>{class t extends B2{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(N(E5))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bo=new _("",{factory:()=>({})}),As=new _(""),MM=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(U0);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await q5(Fe(n,()=>r.loadComponent())),a=await IM(CM(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a,a}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await wM(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function wM(t,e,n,r){let i=await q5(Fe(n,()=>t.loadChildren())),o=await IM(CM(i)),a;o instanceof ul||Array.isArray(o)?a=o:a=await e.compileModuleAsync(o),r&&r(t);let s,c,d=!1;return Array.isArray(a)?(c=a,d=!0):(s=a.create(n).injector,c=s.get(As,[],{optional:!0,self:!0}).flat()),{routes:c.map(z2),injector:s}}function vE(t){return t&&typeof t=="object"&&"default"in t}function CM(t){return vE(t)?t.default:t}async function IM(t){return t}var bu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>f(kE),providedIn:"root"})}return t})(),kE=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bM=new _("");var ME=()=>{},_M=new _(""),SM=(()=>{class t{currentNavigation=g(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=g(null);events=new H;transitionAbortWithErrorSubject=new H;configLoader=f(MM);environmentInjector=f(Ce);destroyRef=f(Xe);urlSerializer=f(Ds);rootContexts=f(Ho);location=f(So);inputBindingEnabled=f(Ts,{optional:!0})!==null;titleStrategy=f(B2);options=f(Bo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(bu);createViewTransition=f(bM,{optional:!0});navigationErrorHandler=f(_M,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>L(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new uu(i)),r=i=>this.events.next(new hu(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;at(()=>{this.transitions?.next(Z(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Pe(null),this.transitions.pipe(Ze(r=>r!==null),Ne(r=>{let i=!1,o=new AbortController;return L(r).pipe(Ne(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",dt.SupersededByNewNavigation),Oe;this.currentTransition=r;let s=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:s?Z(v({},s),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new ir(a.id,this.urlSerializer.serialize(a.rawUrl),"",Cs.IgnoredSameUrlNavigation)),a.resolve(!1),Oe;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return L(a).pipe(Ne(l=>(this.events.next(new nr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Oe:Promise.resolve(l))),pE(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Se(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let u=new xi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:p,extras:y}=a,M=new nr(l,this.urlSerializer.serialize(u),h,p);this.events.next(M);let m=rM(this.rootComponentType).snapshot;return this.currentTransition=r=Z(v({},a),{targetSnapshot:m,urlAfterRedirects:u,extras:Z(v({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(x=>(x.finalUrl=u,x)),L(r)}else return this.events.next(new ir(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Cs.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Oe}),Se(a=>{let s=new su(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),U(a=>(this.currentTransition=r=Z(v({},a),{guards:D7(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),j7(this.environmentInjector,a=>this.events.next(a)),Se(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Mu(this.urlSerializer,a.guardsResult);let s=new cu(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),Ze(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",dt.GuardRejected),!1)),_2(a=>{if(a.guards.canActivateChecks.length!==0)return L(a).pipe(Se(s=>{let c=new du(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Ne(s=>{let c=!1;return L(s).pipe(fE(this.paramsInheritanceStrategy,this.environmentInjector),Se({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",dt.NoDataFromResolver)}}))}),Se(s=>{let c=new lu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),_2(a=>{let s=d=>{let l=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let u=jo(d)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,d.routeConfig).then(h=>{d.component=h}))}for(let u of d.children)l.push(...s(u));return l},c=s(a.targetSnapshot.root);return c.length===0?L(a):Le(Promise.all(c).then(()=>a))}),_2(()=>this.afterPreactivation()),Ne(()=>{let{currentSnapshot:a,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return c?Le(c).pipe(U(()=>r)):L(r)}),U(a=>{let s=I7(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=Z(v({},a),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),Se(()=>{this.events.next(new Is)}),x7(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ke(1),yt(uM(o.signal).pipe(Ze(()=>!i&&!r.targetRouterState),Se(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",dt.Aborted)}))),Se({next:a=>{i=!0,this.currentNavigation.update(s=>(s.abort=ME,s)),this.lastSuccessfulNavigation.set(at(this.currentNavigation)),this.events.next(new rr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),yt(this.transitionAbortWithErrorSubject.pipe(Se(a=>{throw a}))),Nn(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",dt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),On(a=>{if(this.destroyed)return r.resolve(!1),Oe;if(i=!0,dM(a))this.events.next(new _n(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),S7(a)?this.events.next(new No(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Oo(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let c=Fe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof Fo){let{message:d,cancellationCode:l}=Mu(this.urlSerializer,c);this.events.next(new _n(r.id,this.urlSerializer.serialize(r.extractedUrl),d,l)),this.events.next(new No(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Oe}))}))}cancelNavigationTransition(n,r,i){let o=new _n(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=at(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wE(t){return t!==ks}var xM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>f(CE),providedIn:"root"})}return t})(),Cu=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CE=(()=>{class t extends Cu{static \u0275fac=(()=>{let n;return function(i){return(n||(n=$d(t)))(i||t)}})();static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),q2=(()=>{class t{urlSerializer=f(Ds);options=f(Bo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f(So);urlHandlingStrategy=f(bu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new nn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof nn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=rM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:()=>f(DM),providedIn:"root"})}return t})(),DM=(()=>{class t extends q2{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof nr?this.updateStateMemento():n instanceof ir?this.commitTransition(r):n instanceof xi?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Is?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof _n&&n.code!==dt.SupersededByNewNavigation&&n.code!==dt.Redirect?this.restoreHistory(r):n instanceof Oo?this.restoreHistory(r,!0):n instanceof rr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let s=this.browserPageId,c=v(v({},a),this.generateNgRouterState(i,s));this.location.replaceState(n,"",c)}else{let s=v(v({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=$d(t)))(i||t)}})();static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function U2(t,e){t.events.pipe(Ze(n=>n instanceof rr||n instanceof _n||n instanceof Oo||n instanceof ir),U(n=>n instanceof rr||n instanceof ir?0:(n instanceof _n?n.code===dt.Redirect||n.code===dt.SupersededByNewNavigation:!1)?2:1),Ze(n=>n!==2),Ke(1)).subscribe(()=>{e()})}var IE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(hl);stateManager=f(q2);options=f(Bo,{optional:!0})||{};pendingTasks=f(vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(SM);urlSerializer=f(Ds);location=f(So);urlHandlingStrategy=f(bu);injector=f(Ce);_events=new H;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(xM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(As,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(Ts,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new he;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=at(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof _n&&r.code!==dt.Redirect&&r.code!==dt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rr)this.navigated=!0;else if(r instanceof No){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wE(i.source)},a);this.scheduleNavigation(s,ks,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}k7(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ks,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o).catch(c=>{this.disposed||this.injector.get(jt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return at(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(z2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,l=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":l=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let u;try{let h=i?i.snapshot:this.routerState.snapshot.root;u=J5(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return eM(u,n,l,d??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Po(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ks,null,r)}navigate(n,r={skipLocationChange:!1}){return _E(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Zt(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=v({},IE):r===!1?i=v({},bE):i=r,Po(n))return A5(this.currentUrlTree,n,i);let o=this.parseUrl(n);return A5(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,d;a?(s=a.resolve,c=a.reject,d=a.promise):d=new Promise((u,h)=>{s=u,c=h});let l=this.pendingTasks.add();return U2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _E(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}var xE=new _("");function $2(t,...e){return Pt([{provide:As,multi:!0,useValue:t},[],{provide:Tr,useFactory:DE},{provide:Ir,multi:!0,useFactory:EE},e.map(n=>n.\u0275providers)])}function DE(){return f(Sn).routerState.root}function EM(t,e){return{\u0275kind:t,\u0275providers:e}}function EE(){let t=f(Ie);return e=>{let n=t.get(Qe);if(e!==n.components[0])return;let r=t.get(Sn),i=t.get(TE);t.get(LE)===1&&r.initialNavigation(),t.get(AE,null,{optional:!0})?.setUpPreloading(),t.get(xE,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TE=new _("",{factory:()=>new H}),LE=new _("",{factory:()=>1});var AE=new _("");function W2(t){return EM(5,[{provide:Bo,useValue:t}])}function G2(){return EM(8,[j2,{provide:Ts,useExisting:j2}])}var PE=["*"];var TM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]];var LM=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]];var AM=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]];var RM=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]];var PM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]];var OM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]];var NM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]];var FM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]];var VM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var HM=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]];var zM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]];var BM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]];var qM=[["path",{d:"M19.43 12.935c.357-.967.57-1.955.57-2.935a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32.197 32.197 0 0 0 .813-.728",key:"1dq61d"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m16 18 2 2 4-4",key:"1mkfmb"}]];var UM=[["path",{d:"M18.977 14C19.6 12.701 20 11.343 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"11uxia"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}]],$M=[["path",{d:"M12.75 7.09a3 3 0 0 1 2.16 2.16",key:"1d4wjd"}],["path",{d:"M17.072 17.072c-1.634 2.17-3.527 3.912-4.471 4.727a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 1.432-4.568",key:"12yil7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.475 2.818A8 8 0 0 1 20 10c0 1.183-.31 2.377-.81 3.533",key:"lhrkcz"}],["path",{d:"M9.13 9.13a3 3 0 0 0 3.74 3.74",key:"13wojd"}]];var WM=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]];var GM=[["path",{d:"M19.752 11.901A7.78 7.78 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 19 19 0 0 0 .09-.077",key:"y0ewhp"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"m21.5 15.5-5 5",key:"11iqnx"}],["path",{d:"m21.5 20.5-5-5",key:"1bylgx"}]],ZM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]];var KM=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}],["path",{d:"M4 6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h13a2 2 0 0 0 1.152-.365l3.424-2.317a1 1 0 0 0 0-1.635l-3.424-2.318A2 2 0 0 0 17 6z",key:"1btarq"}]];var YM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]];var XM=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]];var QM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]];var JM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var e3=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]];var t3=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]];var n3=[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]];var r3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var i3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];var Rs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Z2=new _("LucideIcons",{factory:()=>new Ps({})}),Ps=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},OE=(()=>{class t{constructor(){this.color=Rs.stroke,this.size=Rs.width,this.strokeWidth=Rs["stroke-width"],this.absoluteStrokeWidth=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function NE(t,e=3){return parseFloat(t.toFixed(e)).toString(10)}var Lr=(()=>{class t{constructor(n,r,i,o,a){this.elem=n,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=Rs.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=Z(v({},Rs),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?NE(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,n]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let o=this.elem.nativeElement.childNodes;for(let a of o)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,i=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(o,a,s)}),i.length&&i.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(o,s)}),o}}return t.\u0275fac=function(n){return new(n||t)(je(ue),je(Ka),je(Kn),je(Z2),je(OE))},t.\u0275cmp=ie({type:t,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[$n],ngContentSelectors:PE,decls:1,vars:0,template:function(n,r){n&1&&(gl(),ml(0))},encapsulation:2}),t})(),K2=class{constructor(e){this.icons=e}},FE=t=>new Ps(t??{}),xn=(()=>{class t{static pick(n){return{ngModule:t,providers:[{provide:Z2,multi:!0,useValue:new Ps(n)},{provide:Z2,multi:!0,useFactory:FE,deps:[[new qd,K2]]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=zt({type:t}),t.\u0275inj=mt({imports:[[]]}),t})();var o3=()=>{};var c3=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VE=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],s=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},d3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,l=o>>2,u=(o&3)<<4|s>>4,h=(s&15)<<2|d>>6,p=d&63;c||(p=64,a||(h=64)),r.push(n[l],n[u],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let u=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||d==null||u==null)throw new X2;let h=o<<2|s>>4;if(r.push(h),d!==64){let p=s<<4&240|d>>2;if(r.push(p),u!==64){let y=d<<6&192|u;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},X2=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jE=function(t){let e=c3(t);return d3.encodeByteArray(e,!0)},J2=function(t){return jE(t).replace(/\./g,"")},xu=function(t){try{return d3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zE=()=>HE().__FIREBASE_DEFAULTS__,BE=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xu(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return o3()||zE()||BE()||qE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l3=t=>ef()?.emulatorHosts?.[t];var tf=()=>ef()?.config,nf=t=>ef()?.[`_${t}`];var Su=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ns(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u3(t){return(await fetch(t,{credentials:"include"})).ok}var Os={};function UE(){let t={prod:[],emulator:[]};for(let e of Object.keys(Os))Os[e]?t.emulator.push(e):t.prod.push(e);return t}function $E(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var a3=!1;function h3(t,e){if(typeof window>"u"||typeof document>"u"||!Ns(window.location.host)||Os[t]===e||Os[t]||a3)return;Os[t]=e;function n(h){return`__firebase__banner__${h}`}let r="__firebase__banner",o=UE().prod.length>0;function a(){let h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function d(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{a3=!0,a()},h}function l(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function u(){let h=$E(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),M=n("learnmore"),m=document.getElementById(M)||document.createElement("a"),x=n("preprendIcon"),ee=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let Me=h.element;s(Me),l(m,M);let ye=d();c(ee,x),Me.append(ee,y,m,ye),document.body.appendChild(Me)}o?(y.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}function et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function f3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y3(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function m3(){let t=et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v3(){try{return typeof indexedDB=="object"}catch{return!1}}function k3(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var WE="FirebaseError",rn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WE,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,or.prototype.create)}},or=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?GE(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new rn(i,s,r)}};function GE(t,e){return t.replace(ZE,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZE=/\{\$([^}]+)}/g;function M3(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ar(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],a=e[i];if(s3(o)&&s3(a)){if(!Ar(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function s3(t){return t!==null&&typeof t=="object"}function qo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function w3(t,e){let n=new Q2(t,e);return n.subscribe.bind(n)}var Q2=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KE(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Y2),i.error===void 0&&(i.error=Y2),i.complete===void 0&&(i.complete=Y2);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function KE(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Y2(){}var AY=14400*1e3;function ar(t){return t&&t._delegate?t._delegate:t}var Dn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ei="[DEFAULT]";var rf=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Su;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XE(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,a]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YE(t){return t===Ei?void 0:t}function XE(t){return t.instantiationMode==="EAGER"}var Du=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new rf(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var QE=[],me=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(me||{}),JE={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},eT=me.INFO,tT={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},nT=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=tT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Uo=class{constructor(e){this.name=e,this._logLevel=eT,this._logHandler=nT,this._userLogHandler=null,QE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var rT=(t,e)=>e.some(n=>t instanceof n),C3,I3;function iT(){return C3||(C3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oT(){return I3||(I3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var b3=new WeakMap,af=new WeakMap,_3=new WeakMap,of=new WeakMap,cf=new WeakMap;function aT(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(En(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&b3.set(n,t)}).catch(()=>{}),cf.set(e,t),e}function sT(t){if(af.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});af.set(t,e)}var sf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return af.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S3(t){sf=t(sf)}function cT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Eu(this),e,...n);return _3.set(r,e.sort?e.sort():[e]),En(r)}:oT().includes(t)?function(...e){return t.apply(Eu(this),e),En(b3.get(this))}:function(...e){return En(t.apply(Eu(this),e))}}function dT(t){return typeof t=="function"?cT(t):(t instanceof IDBTransaction&&sT(t),rT(t,iT())?new Proxy(t,sf):t)}function En(t){if(t instanceof IDBRequest)return aT(t);if(of.has(t))return of.get(t);let e=dT(t);return e!==t&&(of.set(t,e),cf.set(e,t)),e}var Eu=t=>cf.get(t);function D3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),s=En(a);return r&&a.addEventListener("upgradeneeded",c=>{r(En(a.result),c.oldVersion,c.newVersion,En(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),s}var lT=["get","getKey","getAll","getAllKeys","count"],uT=["put","add","delete","clear"],df=new Map;function x3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(df.get(e))return df.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=uT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lT.includes(n)))return;let o=async function(a,...s){let c=this.transaction(a,i?"readwrite":"readonly"),d=c.store;return r&&(d=d.index(s.shift())),(await Promise.all([d[n](...s),i&&c.done]))[0]};return df.set(e,o),o}S3(t=>Z(v({},t),{get:(e,n,r)=>x3(e,n)||t.get(e,n,r),has:(e,n)=>!!x3(e,n)||t.has(e,n)}));var uf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hT(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hT(t){return t.getComponent()?.type==="VERSION"}var hf="@firebase/app",E3="0.14.6";var sr=new Uo("@firebase/app"),pT="@firebase/app-compat",fT="@firebase/analytics-compat",yT="@firebase/analytics",gT="@firebase/app-check-compat",mT="@firebase/app-check",vT="@firebase/auth",kT="@firebase/auth-compat",MT="@firebase/database",wT="@firebase/data-connect",CT="@firebase/database-compat",IT="@firebase/functions",bT="@firebase/functions-compat",_T="@firebase/installations",ST="@firebase/installations-compat",xT="@firebase/messaging",DT="@firebase/messaging-compat",ET="@firebase/performance",TT="@firebase/performance-compat",LT="@firebase/remote-config",AT="@firebase/remote-config-compat",RT="@firebase/storage",PT="@firebase/storage-compat",OT="@firebase/firestore",NT="@firebase/ai",FT="@firebase/firestore-compat",VT="firebase",jT="12.6.0";var pf="[DEFAULT]",HT={[hf]:"fire-core",[pT]:"fire-core-compat",[yT]:"fire-analytics",[fT]:"fire-analytics-compat",[mT]:"fire-app-check",[gT]:"fire-app-check-compat",[vT]:"fire-auth",[kT]:"fire-auth-compat",[MT]:"fire-rtdb",[wT]:"fire-data-connect",[CT]:"fire-rtdb-compat",[IT]:"fire-fn",[bT]:"fire-fn-compat",[_T]:"fire-iid",[ST]:"fire-iid-compat",[xT]:"fire-fcm",[DT]:"fire-fcm-compat",[ET]:"fire-perf",[TT]:"fire-perf-compat",[LT]:"fire-rc",[AT]:"fire-rc-compat",[RT]:"fire-gcs",[PT]:"fire-gcs-compat",[OT]:"fire-fst",[FT]:"fire-fst-compat",[NT]:"fire-vertex","fire-js":"fire-js",[VT]:"fire-js-all"};var Tu=new Map,zT=new Map,ff=new Map;function T3(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){let e=t.name;if(ff.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,t);for(let n of Tu.values())T3(n,t);for(let n of zT.values())T3(n,t);return!0}function vf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t==null?!1:t.settings!==void 0}var BT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new or("app","Firebase",BT);var yf=class{constructor(e,n,r){this._isDeleted=!1,this._options=v({},e),this._config=v({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}};var Wo=jT;function kf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=v({name:pf,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Rr.create("bad-app-name",{appName:String(i)});if(n||(n=tf()),!n)throw Rr.create("no-options");let o=Tu.get(i);if(o){if(Ar(n,o.options)&&Ar(r,o.config))return o;throw Rr.create("duplicate-app",{appName:i})}let a=new Du(i);for(let c of ff.values())a.addComponent(c);let s=new yf(n,r,a);return Tu.set(i,s),s}function P3(t=pf){let e=Tu.get(t);if(!e&&t===pf&&tf())return kf();if(!e)throw Rr.create("no-app",{appName:t});return e}function Pr(t,e,n){let r=HT[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}$o(new Dn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var qT="firebase-heartbeat-database",UT=1,Fs="firebase-heartbeat-store",lf=null;function O3(){return lf||(lf=D3(qT,UT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fs)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rr.create("idb-open",{originalErrorMessage:t.message})})),lf}async function $T(t){try{let n=(await O3()).transaction(Fs),r=await n.objectStore(Fs).get(N3(t));return await n.done,r}catch(e){if(e instanceof rn)sr.warn(e.message);else{let n=Rr.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function L3(t,e){try{let r=(await O3()).transaction(Fs,"readwrite");await r.objectStore(Fs).put(e,N3(t)),await r.done}catch(n){if(n instanceof rn)sr.warn(n.message);else{let r=Rr.create("idb-set",{originalErrorMessage:n?.message});sr.warn(r.message)}}}function N3(t){return`${t.name}!${t.options.appId}`}var WT=1024,GT=30,gf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new mf(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=A3();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>GT){let i=KT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=A3(),{heartbeatsToSend:n,unsentEntries:r}=ZT(this._heartbeatsCache.heartbeats),i=J2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return sr.warn(e),""}}};function A3(){return new Date().toISOString().substring(0,10)}function ZT(t,e=WT){let n=[],r=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),R3(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var mf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v3()?k3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await $T(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return L3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return L3(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function R3(t){return J2(JSON.stringify({version:2,heartbeats:t})).length}function KT(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function YT(t){$o(new Dn("platform-logger",e=>new uf(e),"PRIVATE")),$o(new Dn("heartbeat",e=>new gf(e),"PRIVATE")),Pr(hf,E3,t),Pr(hf,E3,"esm2020"),Pr("fire-js","")}YT("");var XT="firebase",QT="12.7.0";Pr(XT,QT,"app");function X3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Q3=X3,J3=new or("auth","Firebase",X3());var Nu=new Uo("@firebase/auth");function JT(t,...e){Nu.logLevel<=me.WARN&&Nu.warn(`Auth (${Wo}): ${t}`,...e)}function Au(t,...e){Nu.logLevel<=me.ERROR&&Nu.error(`Auth (${Wo}): ${t}`,...e)}function Ln(t,...e){throw Ff(t,...e)}function an(t,...e){return Ff(t,...e)}function Nf(t,e,n){let r=Z(v({},Q3()),{[e]:n});return new or("auth","Firebase",r).create(e,{appName:t.name})}function Ti(t){return Nf(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e9(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ln(t,"argument-error"),Nf(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ff(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return J3.create(t,...e)}function B(t,e,...n){if(!t)throw Ff(e,...n)}function cr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Au(e),new Error(e)}function lr(t,e){t||cr(e)}function Cf(){return typeof self<"u"&&self.location?.href||""}function t9(){return F3()==="http:"||F3()==="https:"}function F3(){return typeof self<"u"&&self.location?.protocol||null}function n9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t9()||y3()||"connection"in navigator)?navigator.onLine:!0}function r9(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Li=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=p3()||g3()}get(){return n9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Vf(t,e){lr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var i9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var o9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a9=new Li(3e4,6e4);function jf(t,e){return t.tenantId&&!e.tenantId?Z(v({},e),{tenantId:t.tenantId}):e}async function Zo(t,e,n,r,i={}){return ew(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});let s=qo(v({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let d=v({method:e,headers:c},o);return f3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ns(t.emulatorConfig.host)&&(d.credentials="include"),Fu.fetch()(await tw(t,t.config.apiHost,n,s),d)})}async function ew(t,e,n){t._canInitEmulator=!1;let r=v(v({},i9),e);try{let i=new If(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=await o.json();if("needConfirmation"in a)throw Lu(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let s=o.ok?a.errorMessage:a.error.message,[c,d]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Lu(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Lu(t,"user-disabled",a);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Nf(t,l,d);Ln(t,l)}}catch(i){if(i instanceof rn)throw i;Ln(t,"network-request-failed",{message:String(i)})}}async function s9(t,e,n,r,i={}){let o=await Zo(t,e,n,r,i);return"mfaPendingCredential"in o&&Ln(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function tw(t,e,n,r){let i=`${e}${n}?${r}`,o=t,a=o.config.emulator?Vf(t.config,i):`${t.config.apiScheme}://${i}`;return o9.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}var If=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),a9.get())})}};function Lu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=an(t,e,r);return i.customData._tokenResponse=n,i}async function c9(t,e){return Zo(t,"POST","/v1/accounts:delete",e)}async function Vu(t,e){return Zo(t,"POST","/v1/accounts:lookup",e)}function Vs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nw(t,e=!1){let n=ar(t),r=await n.getIdToken(e),i=Hf(r);B(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Vs(Mf(i.auth_time)),issuedAtTime:Vs(Mf(i.iat)),expirationTime:Vs(Mf(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Mf(t){return Number(t)*1e3}function Hf(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Au("JWT malformed, contained fewer than 3 sections"),null;try{let i=xu(n);return i?JSON.parse(i):(Au("Failed to decode base64 JWT payload"),null)}catch(i){return Au("Caught error parsing JWT payload as JSON",i?.toString()),null}}function V3(t){let e=Hf(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Hs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rn&&d9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function d9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var bf=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var zs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vs(this.lastLoginAt),this.creationTime=Vs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function ju(t){let e=t.auth,n=await t.getIdToken(),r=await Hs(t,Vu(e,{idToken:n}));B(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?iw(i.providerUserInfo):[],a=l9(t.providerData,o),s=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=s?c:!1,l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zs(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,l)}async function rw(t){let e=ar(t);await ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iw(t){return t.map(r=>{var i=r,{providerId:e}=i,n=hr(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function u9(t,e){let n=await ew(t,{},async()=>{let r=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await tw(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:s,body:r};return t.emulatorConfig&&Ns(t.emulatorConfig.host)&&(c.credentials="include"),Fu.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h9(t,e){return Zo(t,"POST","/v2/accounts:revokeToken",jf(t,e))}var js=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){B(e.length!==0,"internal-error");let n=V3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(B(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await u9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new t;return r&&(B(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(B(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(B(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return cr("not implemented")}};function Or(t,e){B(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Nr=class t{constructor(o){var a=o,{uid:e,auth:n,stsTokenManager:r}=a,i=hr(a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zs(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await Hs(this,this.stsTokenManager.getToken(this.auth,e));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nw(this,e)}reload(){return rw(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>v({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Z(v({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ju(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(Ti(this.auth));let e=await this.getIdToken();return await Hs(this,c9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Z(v({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>v({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,l=n.lastLoginAt??void 0,{uid:u,emailVerified:h,isAnonymous:p,providerData:y,stsTokenManager:M}=n;B(u&&M,e,"internal-error");let m=js.fromJSON(this.name,M);B(typeof u=="string",e,"internal-error"),Or(r,e.name),Or(i,e.name),B(typeof h=="boolean",e,"internal-error"),B(typeof p=="boolean",e,"internal-error"),Or(o,e.name),Or(a,e.name),Or(s,e.name),Or(c,e.name),Or(d,e.name),Or(l,e.name);let x=new t({uid:u,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:m,createdAt:d,lastLoginAt:l});return y&&Array.isArray(y)&&(x.providerData=y.map(ee=>v({},ee))),c&&(x._redirectEventId=c),x}static async _fromIdTokenResponse(e,n,r=!1){let i=new js;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ju(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];B(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?iw(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,s=new js;s.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,d),c}};var j3=new Map;function dr(t){lr(t instanceof Function,"Expected a class definition");let e=j3.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,j3.set(t,e),e)}var p9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),_f=p9;function Ru(t,e,n){return`firebase:${t}:${e}:${n}`}var Hu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ru(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ru("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Vu(this.auth,{idToken:e}).catch(()=>{});return n?Nr._fromGetAccountInfoResponse(this.auth,n,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(dr(_f),e,r);let i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=i[0]||dr(_f),a=Ru(r,e.config.apiKey,e.name),s=null;for(let d of n)try{let l=await d._get(a);if(l){let u;if(typeof l=="string"){let h=await Vu(e,{idToken:l}).catch(()=>{});if(!h)break;u=await Nr._fromGetAccountInfoResponse(e,h,l)}else u=Nr._fromJSON(e,l);d!==o&&(s=u),o=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new t(o,e,r))}};function H3(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ow(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lw(e))return"Blackberry";if(uw(e))return"Webos";if(aw(e))return"Safari";if((e.includes("chrome/")||sw(e))&&!e.includes("edge/"))return"Chrome";if(dw(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ow(t=et()){return/firefox\//i.test(t)}function aw(t=et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sw(t=et()){return/crios\//i.test(t)}function cw(t=et()){return/iemobile/i.test(t)}function dw(t=et()){return/android/i.test(t)}function lw(t=et()){return/blackberry/i.test(t)}function uw(t=et()){return/webos/i.test(t)}function zf(t=et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function f9(t=et()){return zf(t)&&!!window.navigator?.standalone}function y9(){return m3()&&document.documentMode===10}function hw(t=et()){return zf(t)||dw(t)||uw(t)||lw(t)||/windows phone/i.test(t)||cw(t)}function pw(t,e=[]){let n;switch(t){case"Browser":n=H3(et());break;case"Worker":n=`${H3(et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${r}`}var Sf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((a,s)=>{try{let c=e(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function g9(t,e={}){return Zo(t,"GET","/v2/passwordPolicy",jf(t,e))}var m9=6,xf=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??m9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Df=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zu(this),this.idTokenSubscription=new zu(this),this.beforeStateQueue=new Sf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Hu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Vu(this,{idToken:e}),r=await Nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(on(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,a=r?._redirectEventId,s=await this.tryRedirectSignIn(e);(!o||o===a)&&s?.user&&(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ju(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(Ti(this));let n=e?ar(e):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&B(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await g9(this),n=new xf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new or("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await h9(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&dr(e)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=await Hu.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{let c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JT(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Ku(t){return ar(t)}var zu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=w3(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v9(t){Bf=t}function k9(t){return Bf.loadJS(t)}function M9(){return Bf.gapiScript}function fw(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function yw(t,e){let n=vf(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ar(o,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function w9(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function gw(t,e,n){let r=Ku(t);B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=mw(e),{host:a,port:s}=C9(e),c=s===null?"":`:${s}`,d={url:`${o}//${a}${c}/`},l=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){B(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),B(Ar(d,r.config.emulator)&&Ar(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,Ns(a)?(u3(`${o}//${a}${c}`),h3("Auth",!0)):i||I9()}function mw(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function C9(t){let e=mw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:z3(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:z3(a)}}}function z3(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function I9(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Bs=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}};async function Go(t,e){return s9(t,"POST","/v1/accounts:signInWithIdp",jf(t,e))}var b9="http://localhost",Bu=class t extends Bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=s,o=hr(s,["providerId","signInMethod"]);if(!r||!i)return null;let a=new t(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Go(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){let e={requestUri:b9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qo(n)}return e}};var qs=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var qu=class extends qs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var qf=(()=>{class t extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Bu._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Us=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Nr._fromIdTokenResponse(e,r,i),a=B3(r);return new t({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=B3(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function B3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ef=class t extends rn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function vw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ef._fromErrorAndOperation(t,o,e,r):o})}async function _9(t,e,n=!1){let r=await Hs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}async function S9(t,e,n=!1){let{auth:r}=t;if(on(r.app))return Promise.reject(Ti(r));let i="reauthenticate";try{let o=await Hs(t,vw(r,i,e,t),n);B(o.idToken,r,"internal-error");let a=Hf(o.idToken);B(a,r,"internal-error");let{sub:s}=a;return B(t.uid===s,r,"user-mismatch"),Us._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ln(r,"user-mismatch"),o}}async function x9(t,e,n=!1){if(on(t.app))return Promise.reject(Ti(t));let r="signIn",i=await vw(t,r,e),o=await Us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function kw(t,e,n,r){return ar(t).onIdTokenChanged(e,n,r)}function Mw(t,e,n){return ar(t).beforeAuthStateChanged(e,n)}function Uf(t,e,n,r){return ar(t).onAuthStateChanged(e,n,r)}function $f(t){return ar(t).signOut()}var Uu="__sak";var $u=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uu,"1"),this.storage.removeItem(Uu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var D9=1e3,E9=10,T9=(()=>{class t extends $u{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hw(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((s,c,d)=>{this.notifyListeners(s,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let s=this.storage.getItem(i);!r&&this.localCache[i]===s||this.notifyListeners(i,s)},a=this.storage.getItem(i);y9()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,E9):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},D9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),ww=T9;var L9=(()=>{class t extends $u{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Wf=L9;function A9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var R9=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:a}=r.data,s=this.handlersMap[o];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(s).map(async l=>l(r.origin,a)),d=await A9(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Gf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Tf=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{let d=Gf("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(u){let h=u;if(h.data.eventId===d)switch(h.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function Tn(){return window}function P9(t){Tn().location.href=t}function Cw(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function O9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N9(){return navigator?.serviceWorker?.controller||null}function F9(){return Cw()?self:null}var Iw="firebaseLocalStorageDb",V9=1,Wu="firebaseLocalStorage",bw="fbase_key",Ai=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Yu(t,e){return t.transaction([Wu],e?"readwrite":"readonly").objectStore(Wu)}function j9(){let t=indexedDB.deleteDatabase(Iw);return new Ai(t).toPromise()}function Lf(){let t=indexedDB.open(Iw,V9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Wu,{keyPath:bw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Wu)?e(r):(r.close(),await j9(),e(await Lf()))})})}async function q3(t,e,n){let r=Yu(t,!0).put({[bw]:e,value:n});return new Ai(r).toPromise()}async function H9(t,e){let n=Yu(t,!1).get(e),r=await new Ai(n).toPromise();return r===void 0?null:r.value}function U3(t,e){let n=Yu(t,!0).delete(e);return new Ai(n).toPromise()}var z9=800,B9=3,q9=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lf(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>B9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=R9._getInstance(F9()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await O9(),!this.activeServiceWorker)return;this.sender=new Tf(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||N9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await Lf();return await q3(n,Uu,"1"),await U3(n,Uu),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>q3(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>H9(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U3(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let a=Yu(o,!1).getAll();return new Ai(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_w=q9;var dX=fw("rcb"),lX=new Li(3e4,6e4);function Sw(t,e){return e?dr(e):(B(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var $s=class extends Bs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function U9(t){return x9(t.auth,new $s(t),t.bypassAuthState)}function $9(t){let{auth:e,user:n}=t;return B(n,e,"internal-error"),S9(n,new $s(t),t.bypassAuthState)}async function W9(t){let{auth:e,user:n}=t;return B(n,e,"internal-error"),_9(n,new $s(t),t.bypassAuthState)}var Gu=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U9;case"linkViaPopup":case"linkViaRedirect":return W9;case"reauthViaPopup":case"reauthViaRedirect":return $9;default:Ln(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var G9=new Li(2e3,1e4);async function Zf(t,e,n){if(on(t.app))return Promise.reject(an(t,"operation-not-supported-in-this-environment"));let r=Ku(t);e9(t,e,qs);let i=Sw(r,n);return new Z9(r,"signInViaPopup",e,i).executeNotNull()}var Z9=(()=>{class t extends Gu{constructor(n,r,i,o,a){super(n,r,o,a),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let n=await this.execute();return B(n,this.auth,"internal-error"),n}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");let n=Gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,G9.get())};n()}}t.currentPopupAction=null;return t})(),K9="pendingRedirect",Pu=new Map,Af=class extends Gu{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{let r=await Y9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function Y9(t,e){let n=J9(e),r=Q9(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function X9(t,e){Pu.set(t._key(),e)}function Q9(t){return dr(t._redirectPersistence)}function J9(t){return Ru(K9,t.config.apiKey,t.name)}async function eL(t,e,n=!1){if(on(t.app))return Promise.reject(Ti(t));let r=Ku(t),i=Sw(r,e),a=await new Af(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}var tL=600*1e3,Rf=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xw(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(an(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tL&&this.cachedEventUids.clear(),this.cachedEventUids.has($3(e))}saveEventToCache(e){this.cachedEventUids.add($3(e)),this.lastProcessedEventTime=Date.now()}};function $3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xw(t);default:return!1}}async function rL(t,e={}){return Zo(t,"GET","/v1/projects",e)}var iL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oL=/^https?/;async function aL(t){if(t.config.emulator)return;let{authorizedDomains:e}=await rL(t);for(let n of e)try{if(sL(n))return}catch{}Ln(t,"unauthorized-domain")}function sL(t){let e=Cf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!oL.test(n))return!1;if(iL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var cL=new Li(3e4,6e4);function W3(){let t=Tn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dL(t){return new Promise((e,n)=>{function r(){W3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W3(),n(an(t,"network-request-failed"))},timeout:cL.get()})}if(Tn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tn().gapi?.load)r();else{let i=fw("iframefcb");return Tn()[i]=()=>{gapi.load?r():n(an(t,"network-request-failed"))},k9(`${M9()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Ou=null,e})}var Ou=null;function lL(t){return Ou=Ou||dL(t),Ou}var uL=new Li(5e3,15e3),hL="__/auth/iframe",pL="emulator/auth/iframe",fL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gL(t){let e=t.config;B(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Vf(e,pL):`https://${t.config.authDomain}/${hL}`,r={apiKey:e.apiKey,appName:t.name,v:Wo},i=yL.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qo(r).slice(1)}`}async function mL(t){let e=await lL(t),n=Tn().gapi;return B(n,t,"internal-error"),e.open({where:document.body,url:gL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let a=an(t,"network-request-failed"),s=Tn().setTimeout(()=>{o(a)},uL.get());function c(){Tn().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}var vL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kL=500,ML=600,wL="_blank",CL="http://localhost",Zu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function IL(t,e,n,r=kL,i=ML){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Z(v({},vL),{width:r.toString(),height:i.toString(),top:o,left:a}),d=et().toLowerCase();n&&(s=sw(d)?wL:n),ow(d)&&(e=e||CL,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(f9(d)&&s!=="_self")return bL(e||"",s),new Zu(null);let u=window.open(e||"",s,l);B(u,t,"popup-blocked");try{u.focus()}catch{}return new Zu(u)}function bL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var _L="__/auth/handler",SL="emulator/auth/handler",xL=encodeURIComponent("fac");async function G3(t,e,n,r,i,o){B(t.config.authDomain,t,"auth-domain-config-required"),B(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wo,eventId:i};if(e instanceof qs){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",M3(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,u]of Object.entries(o||{}))a[l]=u}if(e instanceof qu){let l=e.getScopes().filter(u=>u!=="");l.length>0&&(a.scopes=l.join(","))}t.tenantId&&(a.tid=t.tenantId);let s=a;for(let l of Object.keys(s))s[l]===void 0&&delete s[l];let c=await t._getAppCheckToken(),d=c?`#${xL}=${encodeURIComponent(c)}`:"";return`${DL(t)}?${qo(s).slice(1)}${d}`}function DL({config:t}){return t.emulator?Vf(t,SL):`https://${t.authDomain}/${_L}`}var wf="webStorageSupport",Pf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wf,this._completeRedirectFn=eL,this._overrideRedirectResult=X9}async _openPopup(e,n,r,i){lr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await G3(e,n,r,Cf(),i);return IL(e,o,Gf())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await G3(e,n,r,Cf(),i);return P9(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(lr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await mL(e),r=new Rf(e);return n.register("authEvent",i=>(B(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wf,{type:wf},i=>{let o=i?.[0]?.[wf];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hw()||aw()||zf()}},Dw=Pf;var Z3="@firebase/auth",K3="1.12.0";var Of=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function EL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TL(t){$o(new Dn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;B(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pw(t)},d=new Df(r,i,o,c);return w9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new Dn("auth-internal",e=>{let n=Ku(e.getProvider("auth").getImmediate());return(r=>new Of(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(Z3,K3,EL(t)),Pr(Z3,K3,"esm2020")}var LL=300,AL=nf("authIdTokenMaxAge")||LL,Y3=null,RL=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AL)return;let i=n?.token;Y3!==i&&(Y3=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Kf(t=P3()){let e=vf(t,"auth");if(e.isInitialized())return e.getImmediate();let n=yw(t,{popupRedirectResolver:Dw,persistence:[_w,ww,Wf]}),r=nf("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=RL(o.toString());Mw(n,a,()=>a(n.currentUser)),kw(n,s=>a(s))}}let i=l3("auth");return i&&gw(n,`http://${i}`),n}function PL(){return document.getElementsByTagName("head")?.[0]??document}v9({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=an("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",PL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TL("Browser");var An={production:!1,useOfflineMode:!0,mapboxToken:"pk.eyJ1IjoiZG9taW5pcXVlc29tbWVycyIsImEiOiJjbWNoeHNnZG4wMHk1MmtzOGtodnluZHJzIn0.j0bybMxwa2BK4UgPIhxpQw",firebase:{apiKey:"AIzaSyBKjHTxlaa6D7icnxhp1Unz9uTCcuJLWSc",authDomain:"travelmap-b4be9.firebaseapp.com",projectId:"travelmap-b4be9",storageBucket:"travelmap-b4be9.firebasestorage.app",messagingSenderId:"211285565341",appId:"1:211285565341:web:beb194890d6cf76ba95974"}};var OL={uid:"offline-dev-id",displayName:"Dev user",photoURL:null,email:"dev@dev.local"},Rn=class t{auth;_user=g(null);user=j(()=>this.isOfflineMode()?OL:this._user());firebaseListenerStarted=!1;isOfflineMode=g(An.useOfflineMode||!navigator.onLine);constructor(){let e=kf(An.firebase);this.auth=Kf(e),console.log("useOfflineMode",An.useOfflineMode),An.useOfflineMode||this.initFirebaseAuthListener(),this.setupDevToggles()}initFirebaseAuthListener(){this.firebaseListenerStarted||(this.firebaseListenerStarted=!0,Uf(this.auth,e=>{if(e&&e.photoURL){let n=e.photoURL.replace("=s96-c","=s128-c");Object.defineProperty(e,"photoURL",{value:n,writable:!0})}this._user.set(e)}))}setupDevToggles(){An.production||(window.toggleOffline=()=>{let e=!this.isOfflineMode();e||this.initFirebaseAuthListener(),this.isOfflineMode.set(e),console.log(`%c Offline Mode: ${e?"ON":"OFF"} `,"background: #222; color: #bada55")})}async login(){if(this.isOfflineMode()){console.warn("Currently in offline mode. Login bypassed.");return}return Zf(this.auth,new qf)}async logout(){return $f(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var Xu=class t{constructor(e,n){this.http=e;this.authService=n}baseUrl="https://travelmap-307804410649.europe-west1.run.app/";d=800;createPlace(e){return L({id:"loc1",trip_id:"wereldreis",name:"Paris",country_id:"fr",season_id:"s1",lat:48.85,lng:2.35,country:{id:"fr",name:"France"}}).pipe(ht(this.d))}deletePlace(e){return L(void 0).pipe(ht(this.d))}getUserTrips(){let e=this.authService.user()?.uid;return L([{id:"wereldreis",name:"Wereldreis",plans:[{id:"v1",name:"v1",priority:1},{id:"v2",name:"v2",priority:2}]},{id:"test",name:"Test",plans:[{id:"v1",name:"v1t",priority:1}]}]).pipe(ht(this.d))}getTrip(e){return L({id:e,name:e==="wereldreis"?"Wereldreis":"Test"}).pipe(ht(this.d))}getPlaces(e){return L([{id:"loc1",trip_id:e,name:"Paris",country_id:"fr",season_id:"s1",lat:48.85,lng:2.35},{id:"loc2",trip_id:e,name:"Berlin",country_id:"de",season_id:"s2",lat:52.52,lng:13.4},{id:"loc3",trip_id:e,name:"Rome",country_id:"it",season_id:"s3",lat:41.9,lng:12.49}]).pipe(ht(this.d))}getRoutes(e){return L([{id:"1",trip_id:e,source:"loc1",target:"loc2",type:"driving",distance:10,duration:1,route:"",actual_cost:0,estimated_cost:0,nights:0,paid:!1},{id:"2",trip_id:e,source:"loc2",target:"loc1",type:"driving",distance:10,duration:1,route:"",actual_cost:0,estimated_cost:0,nights:1,paid:!1},{id:"3",trip_id:e,source:"loc1",target:"loc3",type:"flying",distance:10,duration:1,route:"",actual_cost:0,estimated_cost:0,nights:0,paid:!1},{id:"4",trip_id:e,source:"loc2",target:"loc3",type:"boat",distance:10,duration:1,route:"",actual_cost:0,estimated_cost:0,nights:0,paid:!1}]).pipe(ht(this.d))}getPlan(e){return L({id:e,name:e,lat:48,lng:10,zoom:4,start_date:"2026-04-23",note:"",priority:1,trip_id:"wereldreis"}).pipe(ht(this.d))}getVisits(e){return L([{id:"v1",plan_id:e,place_id:"loc1",nights:3,included:!0},{id:"v2",plan_id:e,place_id:"loc2",nights:2,included:!0},{id:"v3",plan_id:e,place_id:"loc1",nights:2,included:!1},{id:"v4",plan_id:e,place_id:"loc3",nights:10,included:!0},{id:"v5",plan_id:e,place_id:"loc3",nights:1,included:!0},{id:"v6",plan_id:e,place_id:"loc3",nights:2,included:!0}]).pipe(ht(this.d))}getTraverses(e){return L([{source_visit_id:"v1",target_visit_id:"v2",route_id:"1",priority:0,plan_id:"v1"},{source_visit_id:"v2",target_visit_id:"v3",route_id:"2",priority:0,plan_id:"v1"},{source_visit_id:"v2",target_visit_id:"v4",route_id:"4",priority:1,plan_id:"v1"},{source_visit_id:"v2",target_visit_id:"v5",route_id:"4",priority:2,plan_id:"v1"},{source_visit_id:"v2",target_visit_id:"v6",route_id:"4",priority:3,plan_id:"v1"}]).pipe(ht(this.d))}getCountries(){return L([{id:"fr",name:"France",code:"FR"},{id:"de",name:"Germany",code:"DE"},{id:"it",name:"Italy",code:"IT"}]).pipe(ht(this.d))}getSeasons(){return L([{id:"s1",country_id:"fr",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"},{id:"s2",country_id:"de",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"},{id:"s3",country_id:"it",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"}]).pipe(ht(this.d))}getSyncData(e,n,r){let i=[{id:"wereldreis",name:"Wereldreis"},{id:"test",name:"Testreis"}],o=[{id:"v1",name:"v1",priority:1},{id:"v2",name:"v2 (copy 2) (copy 2) (copy 2) (copy 2)",priority:2}],a={userTrips:[{id:"wereldreis",name:"Wereldreis"},{id:"test",name:"Testreis"}],activeTrip:n?{id:n,name:n==="wereldreis"?"Wereldreis":"Testreis",plans:o,pins:[{lat:48.8566,lng:2.3522,title:"Paris"}]}:null,activePlan:r?o.find(s=>s.id===r):null};return L(a).pipe(ht(2e3))}static \u0275fac=function(n){return new(n||t)(N(Xl),N(Rn))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var Qu=class{constructor(e,n,r,i,o,a){this.tripService=a;this.id=e.id,this.update(e),this.countries.set(new Map(n.map(s=>[s.id,s]))),this.seasons.set(new Map(r.map(s=>[s.id,s]))),this.places.set(new Map(i.map(s=>[s.id,s]))),this.routes.set(new Map(o.map(s=>[s.id,s])))}id;name=g("");countries=g(new Map);seasons=g(new Map);places=g(new Map);placesArray=j(()=>Array.from(this.places().values()));sourcePlace=j(()=>this.places()?.get("loc1"));routes=g(new Map);routesGeoJson=j(()=>{let e=this.routes()??new Map;return{type:"FeatureCollection",features:Array.from(e.values()).map(n=>({type:"Feature",id:Number(n.id),properties:{type:n.type(),routeId:n.id},geometry:{type:"MultiLineString",coordinates:n.routeSpline()}}))}});update(e){"name"in e&&this.name.set(e.name??"")}addCountry(e){this.countries.update(n=>(n.set(e.id,e),n))}removeCountry(e){this.countries.update(n=>(n.delete(e.id),n))}addSeason(e){this.seasons.update(n=>(n.set(e.id,e),n))}removeSeason(e){this.seasons.update(n=>(n.delete(e.id),n))}addPlace(e){this.places.update(n=>(n.set(e.id,e),n))}removePlace(e){this.places.update(n=>(n.delete(e.id),n)),this.tripService.plan()?.removeVisitsByPlace(e),e.country&&!Array.from(this.places().values()).some(n=>n.country_id===e.country_id)&&this.removeCountry(e.country),Array.from(this.routes().values()).forEach(n=>{(n.sourceId===e.id||n.targetId===e.id)&&this.removeRoute(n)})}addRoute(e){this.routes.update(n=>(n.set(e.id,e),n))}removeRoute(e){this.routes.update(n=>(n.delete(e.id),n))}toJSON(){return{id:this.id,name:this.name()}}};var Ws=class{id;trip_id;name=g("");start_date=g(null);note=g("");priority=g(0);lat=g(0);lng=g(0);zoom=g(0);visits=g(new Map);visitsArray=j(()=>Array.from(this.visits().values()));sourceVisit=j(()=>this.visits()?.get("v1"));traverses=g(new Map);traversesArray=j(()=>Array.from(this.traverses().values()));startDateString=j(()=>{let e=this.start_date();return e?e.toLocaleDateString("nl-NL"):""});itinerary=j(()=>{let e=this.sourceVisit();if(!e)return[];let n=[],r=new Set,i=e;for(;i&&!r.has(i.id);)r.add(i.id),n.push(i),i=i.outgoingTraverses().filter(o=>o.target?.included()&&!r.has(o.target?.id))[0]?.target??null;return n});itineraryTraverses=j(()=>(this.itinerary()??[]).map(n=>n.nextTraverse()).filter(n=>!!n));constructor(e,n,r){this.id=e.id,this.trip_id=e.trip_id,this.update(e),this.visits.set(new Map(n.map(i=>[i.id,i]))),this.traverses.set(new Map(r.map(i=>[[i.source_visit_id,i.target_visit_id],i])))}update(e){"name"in e&&this.name.set(e.name??""),"start_date"in e&&this.start_date.set(e.start_date?new Date(e.start_date):null),"note"in e&&this.note.set(e.note??""),"priority"in e&&this.priority.set(e.priority??0),"lat"in e&&this.lat.set(e.lat??0),"lng"in e&&this.lng.set(e.lng??0),"zoom"in e&&this.zoom.set(e.zoom??0)}addVisit(e){this.visits.update(n=>{let r=new Map(n);return r.set(e.id,e),r})}removeVisit(e){this.visits.update(n=>(n.delete(e.id),n))}removeVisitsByPlace(e){this.visitsArray().filter(r=>r.place_id===e.id).forEach(r=>this.removeVisit(r))}get totalPlanCost(){return this.visitsArray().reduce((e,n)=>e+(n.place?.totalDailyCost??0),0)}toJSON(){return{id:this.id,trip_id:this.trip_id,name:this.name(),start_date:this.start_date()?.toISOString().split("T")[0]??null,note:this.note(),priority:this.priority(),lat:this.lat(),lng:this.lng(),zoom:this.zoom()}}};var Gs=class{id;name;constructor(e){this.id=e.id,this.name=e.name}};var Ju=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Yf=Ju.map(t=>`${t}_reason`),e1=class{id;country_id;description=g("");description_abbreviation=g("");jan=g(0);feb=g(0);mar=g(0);apr=g(0);may=g(0);jun=g(0);jul=g(0);aug=g(0);sep=g(0);oct=g(0);nov=g(0);dec=g(0);jan_reason=g("");feb_reason=g("");mar_reason=g("");apr_reason=g("");may_reason=g("");jun_reason=g("");jul_reason=g("");aug_reason=g("");sep_reason=g("");oct_reason=g("");nov_reason=g("");dec_reason=g("");months=j(()=>Ju.map(e=>this[e]()));reasons=j(()=>Yf.map(e=>this[e]()));constructor(e){this.id=e.id,this.country_id=e.country_id,this.update(e)}update(e){[...Ju,...Yf].forEach(n=>{n in e&&this[n].set(e[n]??(n.endsWith("_reason")?"":0))}),"description"in e&&this.description.set(e.description??""),"description_abbreviation"in e&&this.description_abbreviation.set(e.description_abbreviation??"")}toJSON(){let e={id:this.id,country_id:this.country_id,description:this.description(),description_abbreviation:this.description_abbreviation()};return Ju.forEach(n=>{e[n]=this[n]()}),Yf.forEach(n=>{e[n]=this[n]()}),e}};var Zs=class{constructor(e,n){this.tripService=n;let c=e,{name:r,accommodation_cost:i,food_cost:o,miscellaneous_cost:a}=c,s=hr(c,["name","accommodation_cost","food_cost","miscellaneous_cost"]);Object.assign(this,s),this.update(e)}id;lat;lng;country_id;season_id;trip_id;name=g("");accommodation_cost=g(0);food_cost=g(0);miscellaneous_cost=g(0);coordinates=[this.lng,this.lat];visits=j(()=>this.tripService.plan()?.visitsArray().filter(e=>e.place_id===this.id)??[]);get country(){return this.tripService.trip()?.countries().get(this.country_id)}get season(){return this.season_id?this.tripService.trip()?.seasons().get(this.season_id):void 0}update(e){"name"in e&&this.name.set(e.name??""),"accommodation_cost"in e&&this.accommodation_cost.set(e.accommodation_cost??0),"food_cost"in e&&this.food_cost.set(e.food_cost??0),"miscellaneous_cost"in e&&this.miscellaneous_cost.set(e.miscellaneous_cost??0)}get totalDailyCost(){return this.accommodation_cost()+this.food_cost()+this.miscellaneous_cost()}getGoogleMapsLink(){return`https://www.google.com/maps?q=${this.lat},${this.lng}`}toJSON(){return{id:this.id,name:this.name(),lat:this.lat,lng:this.lng,country_id:this.country_id,season_id:this.season_id,trip_id:this.trip_id,accommodation_cost:this.accommodation_cost(),food_cost:this.food_cost(),miscellaneous_cost:this.miscellaneous_cost()}}};var Ko=class{constructor(e,n){this.tripService=n;this.id=e.id,this.place_id=e.place_id,this.plan_id=e.plan_id,this.update(e)}id;place_id;plan_id;nights=g(0);included=g(!0);outgoingTraverses=j(()=>this.tripService.plan()?.traversesArray().filter(e=>e.source_visit_id===this.id).sort((e,n)=>e.priority()-n.priority())??[]);nextTraverse=j(()=>{let e=this.tripService.plan();if(!e)return null;let n=e.itinerary(),r=n.findIndex(i=>i.id===this.id);return r===-1||r>=n.length-1?null:this.outgoingTraverses().find(i=>i.source===this&&i.target===n[r+1])??null});nextVisit=j(()=>this.nextTraverse()?.target??null);ingoingTraverses=j(()=>this.tripService.plan()?.traversesArray().filter(e=>e.target_visit_id===this.id)??[]);previousTraverse=j(()=>{let e=this.tripService.plan();if(!e)return null;let n=e.itinerary(),r=n.findIndex(i=>i.id===this.id);return r<=0?null:n[r-1].nextTraverse()});previousVisit=j(()=>this.previousTraverse()?.source??null);entryDate=j(()=>{let e=this.tripService.plan();if(!e)return null;let n=e.start_date();if(!n)return null;let r=e.itinerary(),i=0;for(let o of r){if(o.id===this.id){let s=new Date(n);return s.setDate(s.getDate()+i),s}i+=o.nights();let a=o.nextTraverse();i+=a?.route?.nights()??0}return null});entryDateString=j(()=>{let e=this.entryDate();return e?e.toLocaleDateString("nl-NL"):""});exitDate=j(()=>{let e=this.entryDate();if(!e)return null;let n=new Date(e);return n.setDate(n.getDate()+this.nights()),n});exitDateString=j(()=>{let e=this.exitDate();return e?e.toLocaleDateString("nl-NL"):""});get place(){return this.tripService.trip()?.places().get(this.place_id)}update(e){"nights"in e&&this.nights.set(e.nights??0),"included"in e&&this.included.set(e.included??!0)}toJSON(){return{id:this.id,place_id:this.place_id,plan_id:this.plan_id,nights:this.nights(),included:this.included()}}};var t1=class{constructor(e,n){this.tripService=n;this.source_visit_id=e.source_visit_id,this.target_visit_id=e.target_visit_id,this.route_id=e.route_id,this.plan_id=e.plan_id,this.update(e)}source_visit_id;target_visit_id;route_id;plan_id;priority=g(0);rent_until=g(null);includes_accommodation=g(!1);cost=g(0);booked_days=g(0);rentUntilVisit;get source(){return this.tripService.plan()?.visits().get(this.source_visit_id)}get target(){return this.tripService.plan()?.visits().get(this.target_visit_id)}get route(){return this.tripService.trip()?.routes().get(this.route_id)}update(e){"priority"in e&&this.priority.set(e.priority??0),"rent_until"in e&&this.rent_until.set(e.rent_until??""),"includes_accommodation"in e&&this.includes_accommodation.set(e.includes_accommodation??!1),"cost"in e&&this.cost.set(e.cost??0),"booked_days"in e&&this.booked_days.set(e.booked_days??0)}toJSON(){return{source_visit_id:this.source_visit_id,target_visit_id:this.target_visit_id,route_id:this.route_id,plan_id:this.plan_id,priority:this.priority(),rent_until:this.rent_until(),includes_accommodation:this.includes_accommodation(),cost:this.cost(),booked_days:this.booked_days()}}};function Aw(t,e,n,r,i){let o=[...t],a=Math.sqrt(Math.pow(o[0][0]-e[0],2)+Math.pow(o[0][1]-e[1],2)),s=Math.sqrt(Math.pow(o[o.length-1][0]-n[0],2)+Math.pow(o[o.length-1][1]-n[1],2));if(a>.05&&a<100&&(o=[e,...o]),s>.05&&s<100&&(o=[...o,n]),o.length>2){let d={boat:1,flying:1,bus:7,train:10,driving:5}[i]||1,l=[o[0],...o.slice(1,-1).filter((u,h)=>h%d===0),o[o.length-1]];return Tw(l,5)}else{let c=o[0][0]-o[1][0];if(Math.abs(c)>180)return[o[0],o[1]];let l={Schiphol:-40,"Buenos Aires":-20}[r]??10,u=VL(o[0],o[o.length-1],l);return Tw([o[0],[u[1],u[0]],o[o.length-1]],50)}}function NL(t,e,n,r,i=null){let o=n.length,a=n[0].length;if(t<0||t>1)throw new Error("t out of bounds [0,1]: "+t);if(e<1)throw new Error("degree must be at least 1 (linear)");if(e>o-1)throw new Error("degree must be less than or equal to point count - 1");if(!i){i=[];for(let y=0;y<o;y++)i[y]=1}if(r){if(r.length!==o+e+1)throw new Error("bad knot vector length")}else{r=[];for(let y=0;y<o+e+1;y++)r[y]=y}let s=[e,r.length-1-e],c=r[s[0]],d=r[s[1]];t=t*(d-c)+c,t=Math.max(t,c),t=Math.min(t,d);let l;for(l=s[0];l<s[1]&&!(t>=r[l]&&t<=r[l+1]);l++);let u=[];for(let y=0;y<o;y++){u[y]=[];for(let M=0;M<a;M++)u[y][M]=n[y][M]*i[y];u[y][a]=i[y]}let h;for(let y=1;y<=e+1;y++)for(let M=l;M>l-e-1+y;M--){h=(t-r[M])/(r[M+e+1-y]-r[M]);for(let m=0;m<a+1;m++)u[M][m]=(1-h)*u[M-1][m]+h*u[M][m]}let p=[0,0];for(let y=0;y<a;y++)p[y]=u[l][y]/u[l][a];return p}function Tw(t,e){let r=[],i=t.map(function(d){return[d[0],d[1]]}),o=t.length,a=[0,0];for(let d=0;d<=o-2;d++)a.push(d);a.push(a[a.length-1]),a.push(a[a.length-1]);let s=[a[2]],c=[a[2],a[a.length-1-2]];for(let d=3;d<a.length-2;++d)s[s.length-1]!==a[d]&&s.push(a[d]);e=e||25;for(let d=1;d<s.length;++d){let l=s[d-1],u=s[d];for(let h=0;h<=e;++h){let y=(h/e*(u-l)+l-c[0])/(c[1]-c[0]),M=NL(y,2,i,a);r.push(M)}}return r}function Fr(t){return t*Math.PI/180}function Lw(t){return t*180/Math.PI}function FL(t,e,n,r){let o=r/6371,a=Fr(t),s=Fr(e),c=Math.asin(Math.sin(a)*Math.cos(o)+Math.cos(a)*Math.sin(o)*Math.cos(n)),d=s+Math.atan2(Math.sin(n)*Math.sin(o)*Math.cos(a),Math.cos(o)-Math.sin(a)*Math.sin(c));return[Lw(c),Lw(d)]}function VL(t,e,n=10){let i=Fr(t[1]),o=Fr(t[0]),a=Fr(e[1]),s=Fr(e[0]),c=a-i,d=s-o,l=Math.sin(c/2)*Math.sin(c/2)+Math.cos(i)*Math.cos(a)*Math.sin(d/2)*Math.sin(d/2),h=6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))),p=Math.atan2(Math.sin(s-o)*Math.cos(a),Math.cos(i)*Math.sin(a)-Math.sin(i)*Math.cos(a)*Math.cos(s-o)),y=p+Fr(-n),M=p-Fr(-n),m=h*.5,x=h*.5;return FL(t[1],t[0],y,m)}var n1=class{constructor(e,n){this.tripService=n;this.id=e.id,this.sourceId=e.source,this.targetId=e.target,this.trip_id=e.trip_id,this.update(e)}id;sourceId;targetId;trip_id;type=g(void 0);distance=g(0);duration=g(0);estimated_cost=g(0);nights=g(0);route=g("");actual_cost=g(0);paid=g(!1);traverses=j(()=>this.tripService.plan()?.traversesArray().filter(e=>e.route_id===this.id)??[]);lineCoordinates=j(()=>{let e=this.source,n=this.target;return!e||!n?[]:[[e.lng,e.lat],[n.lng,n.lat]]});routeSpline=j(()=>{let e=this.source,n=this.target;return!e||!n?[[]]:[Aw([[e.lng,e.lat],[n.lng,n.lat]],[e.lng,e.lat],[n.lng,n.lat],this.source?.name()??"",this.type()??"")]});get source(){return this.tripService.trip()?.places().get(this.sourceId)}get target(){return this.tripService.trip()?.places().get(this.targetId)}update(e){"type"in e&&this.type.set(e.type),"distance"in e&&this.distance.set(e.distance??0),"duration"in e&&this.duration.set(e.duration??0),"estimated_cost"in e&&this.estimated_cost.set(e.estimated_cost??0),"nights"in e&&this.nights.set(e.nights??0),"route"in e&&this.route.set(e.route??""),"actual_cost"in e&&this.actual_cost.set(e.actual_cost??0),"paid"in e&&this.paid.set(e.paid??!1)}toJSON(){return{id:this.id,source:this.sourceId,target:this.targetId,type:this.type(),distance:this.distance(),duration:this.duration(),estimated_cost:this.estimated_cost(),nights:this.nights(),route:this.route(),actual_cost:this.actual_cost(),paid:this.paid()}}};var tt=class t{apiService=f(Xu);authService=f(Rn);trips=g(null);trip=g(null);loadingTripId=g(null);plan=g(null);loadingPlanId=g(null);plans=j(()=>this.trips()?.find(n=>n.id===this.trip()?.id)?.plans??[]);selectedVisit=g(null);hoveredPlace=g(null);selectedRoute=g(null);hoveredRoute=g(null);drawingState=g({active:!1,sourceVisit:null});constructor(){Ee(()=>{let e=this.authService.user()?.uid;this.clearTrips(),e&&this.loadTrips()})}clearTrips(){this.trips.set(null),this.clearTrip()}clearTrip(){this.trip.set(null),this.clearPlan()}clearPlan(){this.plan.set(null)}loadTrips(){this.apiService.getUserTrips().pipe(U(e=>e.map(n=>this.createUserTrip(n)))).subscribe(e=>{this.trips.set(e)})}createUserTrip(e){return{id:e.id,name:e.name,plans:(e.plans||[]).map(n=>({id:n.id,name:n.name,priority:n.priority})).sort((n,r)=>n.priority-r.priority)}}loadTrip(e){return this.loadingTripId()===e?Oe:(console.log("load trip",e),this.loadingPlanId.set(e),this.clearTrip(),Pc({t:this.apiService.getTrip(e),p:this.apiService.getPlaces(e),r:this.apiService.getRoutes(e),c:this.apiService.getCountries(),s:this.apiService.getSeasons()}).pipe(U(n=>{let r=n.c.map(s=>new Gs(s)),i=n.s.map(s=>new e1(s)),o=n.p.map(s=>new Zs(s,this)),a=n.r.map(s=>new n1(s,this));return new Qu(n.t,r,i,o,a,this)}),Se(n=>this.trip.set(n)),On(n=>(console.error("Failed to load trip:",n),Wi(()=>n))),Nn(()=>this.loadingTripId.set(null))))}loadPlan(e){return this.loadingPlanId()===e?Oe:(console.log("load plan",e),this.loadingPlanId.set(e),this.clearPlan(),Pc({p:this.apiService.getPlan(e),v:this.apiService.getVisits(e),t:this.apiService.getTraverses(e)}).pipe(U(n=>{let r=n.v.map(o=>new Ko(o,this)),i=n.t.map(o=>new t1(o,this));return new Ws(n.p,r,i)}),Se(n=>{this.plan.set(n)}),On(n=>(console.error("Failed to load plan:",n),Wi(()=>n))),Nn(()=>this.loadingPlanId.set(null))))}test(e){this.apiService.getPlan(e).pipe(Ne(n=>this.apiService.getVisits(e).pipe(U(r=>{let i=r.map(a=>new Ko(a,this)),o=[];return new Ws(n,i,o)})))).subscribe({next:n=>{this.plan.set(n),this.loadingPlanId.set(null)},error:()=>this.loadingPlanId.set(null)})}addPlace(e){return this.persist(this.apiService.createPlace(e),n=>{let r=this.trip();if(!r)return;let i=new Zs(n,this);n.country&&r.addCountry(new Gs(n.country)),r.addPlace(i)})}removePlace(e){return this.persist(this.apiService.deletePlace(e.id),()=>this.trip()?.removePlace(e))}linkSeasonToPlace(e,n){e.season_id=n.id,this.trip()?.addSeason(n)}async addVisit(e){let n=this.plan();if(!n)return;let r=new Ko(v({id:"new"},e),this);return n.addVisit(r),r}async createTraverse(e,n,r){console.log(`TODO: create traverse from ${n} to ${r} by ${e}`)}persist(e,n){return e.pipe(Se(n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var Xf;try{Xf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Xf=!1}var Ks=(()=>{class t{_platformId=f(Wn);isBrowser=this._platformId?Hl(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Xf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ys(t){return Array.isArray(t)?t:[t]}var Rw=new Set,Ri,Ow=(()=>{class t{_platform=f(Ks);_nonce=f(ho,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):HL}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&jL(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jL(t,e){if(!Rw.has(t))try{Ri||(Ri=document.createElement("style"),e&&Ri.setAttribute("nonce",e),Ri.setAttribute("type","text/css"),document.head.appendChild(Ri)),Ri.sheet&&(Ri.sheet.insertRule(`@media ${t} {body{ }}`,0),Rw.add(t))}catch(n){console.error(n)}}function HL(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Qf=(()=>{class t{_mediaMatcher=f(Ow);_zone=f(we);_queries=new Map;_destroySubject=new H;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Pw(Ys(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=Pw(Ys(n)).map(a=>this._registerQuery(a).observable),o=Gi(i);return o=un(o.pipe(Ke(1)),o.pipe(X1(1),Z1(0))),o.pipe(U(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{s.matches=s.matches||c,s.breakpoints[d]=c}),s}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new q(a=>{let s=c=>this._zone.run(()=>a.next(c));return r.addListener(s),()=>{r.removeListener(s)}}).pipe(Vn(r),U(({matches:a})=>({query:n,matches:a})),yt(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pw(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Nw={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function Fw(t,e){let r=!e?.manualCleanup?e?.injector?.get(Xe)??f(Xe):null,i=zL(e?.equal),o;e?.requireSync?o=g({kind:0},{equal:i}):o=g({kind:1,value:e?.initialValue},{equal:i});let a,s=t.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{o.set({kind:2,error:c}),a?.()},complete:()=>{a?.()}});if(e?.requireSync&&o().kind===0)throw new S(601,!1);return a=r?.onDestroy(s.unsubscribe.bind(s)),j(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new S(601,!1)}},{equal:e?.equal})}function zL(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var Ut=class t{breakpointObserver=f(Qf);tripService=f(tt);fallbackSignal=g("");isSidebarOpen=g(!0);isLoading=g(!1);isSearchExpanded=g(!1);sidePanelWidth=j(()=>this.isMobile()||!this.tripService.plan()||!this.isSidebarOpen()?0:445);isMobile=Fw(this.breakpointObserver.observe([Nw.Handset]).pipe(U(e=>e.matches)),{initialValue:!1});toggleSidebar(){this.isSidebarOpen.update(e=>!e)}toggleSearch(){this.isSearchExpanded.update(e=>!e)}closeSearch(){this.isSearchExpanded.set(!1)}setLoading(e){this.isLoading.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};var Jf;function BL(){if(Jf==null){let t=typeof document<"u"?document.head:null;Jf=!!(t&&(t.createShadowRoot||t.attachShadow))}return Jf}function r1(t){if(BL()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Xs(t){return t.composedPath?t.composedPath()[0]:t.target}function Vw(t){return t.buttons===0||t.detail===0}function jw(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function i1(t,e=0){return qL(t)?Number(t):arguments.length===2?e:0}function qL(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function sn(t){return t instanceof ue?t.nativeElement:t}var o1=new WeakMap,Hw=(()=>{class t{_appRef;_injector=f(Ie);_environmentInjector=f(Ce);load(n){let r=this._appRef=this._appRef||this._injector.get(Qe),i=o1.get(r);i||(i={loaders:new Set,refs:[]},o1.set(r,i),r.onDestroy(()=>{o1.get(r)?.refs.forEach(o=>o.destroy()),o1.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(B4(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var UL=new _("cdk-dir-doc",{providedIn:"root",factory:()=>f(le)}),$L=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function WL(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?$L.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ey=(()=>{class t{get value(){return this.valueSignal()}valueSignal=g("ltr");change=new pe;constructor(){let n=f(UL,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(WL(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var GL=20,zw=(()=>{class t{_ngZone=f(we);_platform=f(Ks);_renderer=f(bt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new H;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=GL){return this._platform.isBrowser?new q(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=n>0?this._scrolled.pipe(Oc(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):L()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Ze(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=sn(r),o=n.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ZL=20,Bw=(()=>{class t{_platform=f(Ks);_listeners;_viewportSize;_change=new H;_document=f(le);constructor(){let n=f(we),r=f(bt).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect(),a=-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,s=-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:a,left:s}}change(n=ZL){return n>0?this._change.pipe(Oc(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qw=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=zt({type:t});static \u0275inj=mt({})}return t})();var ty={},a1=class t{_appId=f(Ht);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,n=!1){return this._appId!=="ng"&&(e+=this._appId),ty.hasOwnProperty(e)||(ty[e]=0),`${e}${n?t._infix+"-":""}${ty[e]++}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})};function iy(t){let e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return r==="canvas"?Ww(t,e):(r==="input"||r==="select"||r==="textarea")&&$w(t,e),Uw("canvas",t,e,Ww),Uw("input, textarea, select",t,e,$w),e}function Uw(t,e,n,r){let i=e.querySelectorAll(t);if(i.length){let o=n.querySelectorAll(t);for(let a=0;a<i.length;a++)r(i[a],o[a])}}var KL=0;function $w(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${KL++}`)}function Ww(t,e){let n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch{}}function ly(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function oy(t,e,n){let{top:r,bottom:i,left:o,right:a}=t;return n>=r&&n<=i&&e>=o&&e<=a}function YL(t,e){let n=e.left<t.left,r=e.left+e.width>t.right,i=e.top<t.top,o=e.top+e.height>t.bottom;return n||r||i||o}function ec(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Gw(t,e,n,r){let{top:i,right:o,bottom:a,left:s,width:c,height:d}=t,l=c*e,u=d*e;return r>i-u&&r<a+u&&n>s-l&&n<o+l}var s1=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:ly(n)})})}handleScroll(e){let n=Xs(e),r=this.positions.get(n);if(!r)return null;let i=r.scrollPosition,o,a;if(n===this._document){let d=this.getViewportScrollPosition();o=d.top,a=d.left}else o=n.scrollTop,a=n.scrollLeft;let s=i.top-o,c=i.left-a;return this.positions.forEach((d,l)=>{d.clientRect&&n!==l&&n.contains(l)&&ec(d.clientRect,s,c)}),i.top=o,i.left=a,{top:s,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function o8(t,e){let n=t.rootNodes;if(n.length===1&&n[0].nodeType===e.ELEMENT_NODE)return n[0];let r=e.createElement("div");return n.forEach(i=>r.appendChild(i)),r}function uy(t,e,n){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?t.setProperty(r,i,n?.has(r)?"important":""):t.removeProperty(r)}return t}function Yo(t,e){let n=e?"":"none";uy(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function Zw(t,e,n){uy(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},n)}function c1(t,e){return e&&e!="none"?t+" "+e:t}function Kw(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=tc(e.left,e.top)}function tc(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Yw(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function XL(t){let e=getComputedStyle(t),n=ny(e,"transition-property"),r=n.find(s=>s==="transform"||s==="all");if(!r)return 0;let i=n.indexOf(r),o=ny(e,"transition-duration"),a=ny(e,"transition-delay");return Yw(o[i])+Yw(a[i])}function ny(t,e){return t.getPropertyValue(e).split(",").map(r=>r.trim())}var QL=new Set(["position"]),ay=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,n,r,i,o,a,s,c,d,l){this._document=e,this._rootElement=n,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=c,this._zIndex=d,this._renderer=l}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),Xw(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return XL(this._preview)}addEventListener(e,n){return this._renderer.listen(this._preview,e,n)}_createPreview(){let e=this._previewTemplate,n=this._previewClass,r=e?e.template:null,i;if(r&&e){let o=e.matchSize?this._initialDomRect:null,a=e.viewContainer.createEmbeddedView(r,e.context);a.detectChanges(),i=o8(a,this._document),this._previewEmbeddedView=a,e.matchSize?Kw(i,o):i.style.transform=tc(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=iy(this._rootElement),Kw(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return uy(i.style,{"pointer-events":"none",margin:Xw(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},QL),Yo(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(o=>i.classList.add(o)):i.classList.add(n)),i}};function Xw(t){return"showPopover"in t}var JL={passive:!0},Qw={passive:!1},eA={passive:!1,capture:!0},tA=800,Jw="cdk-drag-placeholder",e8=new Set(["position"]),sy=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=g(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new H;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=he.EMPTY;_pointerUpSubscription=he.EMPTY;_scrollSubscription=he.EMPTY;_resizeSubscription=he.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Yo(n,e)))}_disabled=!1;beforeStarted=new H;started=new H;released=new H;ended=new H;entered=new H;exited=new H;dropped=new H;moved=this._moveEvents;data;constrainPosition;constructor(e,n,r,i,o,a,s){this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(e).withParent(n.parentDragRef||null),this._parentPositions=new s1(r),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>sn(r)),this._handles.forEach(r=>Yo(r,this.disabled)),this._toggleNativeDragInteractions();let n=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&n.add(r)}),this._disabledHandles=n,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let n=sn(e);if(n!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(n,"mousedown",this._pointerDown,Qw),r.listen(n,"touchstart",this._pointerDown,JL),r.listen(n,"dragstart",this._nativeDragStart,Qw)]),this._initialTransform=void 0,this._rootElement=n}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?sn(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&YL(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect(),r=0,i=0;n.left<e.left?r=e.left-n.left:n.right>e.right&&(r=e.right-n.right),n.top<e.top?i=e.top-n.top:n.bottom>e.bottom&&(i=e.bottom-n.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+r,c=a+i;this._rootElement.style.transform=tc(s,c),this._activeTransform={x:s,y:c},this._passiveTransform={x:s,y:c}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Yo(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Yo(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&this._initializeDragSequence(n,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let n=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(n.x-this._pickupPositionOnPage.x),o=Math.abs(n.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),c=this._dropContainer;if(!s){this._endDragSequence(e);return}(!c||!c.isDragging()&&!c.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(n);if(this._hasMoved=!0,this._lastKnownPointerPosition=n,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,n);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Qs(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._getShadowRoot(),r=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(n,"selectstart",nA,eA)}),r){let i=this._rootElement,o=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=new ay(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,n)),Zw(i,!1,e8),this._document.body.appendChild(o.replaceChild(a,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,n){this._parentDragRef&&n.stopPropagation();let r=this.isDragging(),i=Qs(n),o=!i&&n.button!==0,a=this._rootElement,s=Xs(n),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+tA>Date.now(),d=i?jw(n):Vw(n);if(s&&s.draggable&&n.type==="mousedown"&&n.preventDefault(),r||o||c||d)return;if(this._handles.length){let h=a.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=ly(this._boundaryElement));let l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,n);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(e){Zw(this._rootElement,!0,e8),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,r=n.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),a=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:i,event:e}),n.drop(this,r,this._initialIndex,this._initialContainer,a,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:n},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,e,n,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,n):this._applyPreviewTransform(e-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let n=this._preview.getTransitionDuration();return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=s=>{(!s||this._preview&&Xs(s)===this._preview.element&&s.propertyName==="transform")&&(a(),r(),clearTimeout(o))},o=setTimeout(i,n*1.5),a=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,n=e?e.template:null,r;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),r=o8(this._placeholderRef,this._document)):r=iy(this._rootElement),r.style.pointerEvents="none",r.classList.add(Jw),r}_getPointerPositionInElement(e,n,r){let i=n===this._rootElement?null:n,o=i?i.getBoundingClientRect():e,a=Qs(r)?r.targetTouches[0]:r,s=this._getViewportScrollPosition(),c=a.pageX-o.left-s.left,d=a.pageY-o.top-s.top;return{x:o.left-e.left+c,y:o.top-e.top+d}}_getPointerPositionOnPage(e){let n=this._getViewportScrollPosition(),r=Qs(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-n.left,o=r.pageY-n.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=i,s.y=o,s.matrixTransform(a.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||n==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),l=s.top+a,u=s.bottom-(d-a),h=s.left+o,p=s.right-(c-o);r=t8(r,h,p),i=t8(i,l,u)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:n,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(n-o.x),s=Math.abs(r-o.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=n>o.x?1:-1,o.x=n),s>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Yo(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,n){let r=1/this.scale,i=tc(e*r,n*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=c1(i,this._initialTransform)}_applyPreviewTransform(e,n){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=tc(e,n);this._preview.setTransform(c1(i,r))}_getDragDistance(e){let n=this._pickupPositionOnPage;return n?{x:e.x-n.x,y:e.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:n}=this._passiveTransform;if(e===0&&n===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,a=r.right-i.right,s=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,i.height>r.height?(s>0&&(n+=s),c>0&&(n-=c)):n=0,(e!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:e})}_getDragStartDelay(e){let n=this.dragStartDelay;return typeof n=="number"?n:Qs(e)?n.touch:n?n.mouse:0}_updateOnScroll(e){let n=this._parentPositions.handleScroll(e);if(n){let r=Xs(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&ec(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=r1(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,n){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return sn(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(n=>e.target&&(e.target===n||n.contains(e.target)))}_conditionallyInsertAnchor(e,n,r){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(n===this._initialContainer&&n.hasAnchor){let i=this._anchor??=iy(this._placeholder);i.classList.remove(Jw),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):sn(n.element).appendChild(i)}}};function t8(t,e,n){return Math.max(e,Math.min(n,t))}function Qs(t){return t.type[0]==="t"}function nA(t){t.preventDefault()}function a8(t,e,n){let r=n8(e,t.length-1),i=n8(n,t.length-1);if(r===i)return;let o=t[r],a=i<r?-1:1;for(let s=r;s!==i;s+=a)t[s]=t[s+a];t[i]=o}function n8(t,e){return Math.max(0,Math.min(e,t))}var d1=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,n,r,i){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,n,r,i);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",c=o.findIndex(m=>m.drag===e),d=o[a],l=o[c].clientRect,u=d.clientRect,h=c>a?1:-1,p=this._getItemOffsetPx(l,u,h),y=this._getSiblingOffsetPx(c,o,h),M=o.slice();return a8(o,c,a),o.forEach((m,x)=>{if(M[x]===m)return;let ee=m.drag===e,Me=ee?p:y,ye=ee?e.getPlaceholderElement():m.drag.getRootElement();m.offset+=Me;let dn=Math.round(m.offset*(1/m.drag.scale));s?(ye.style.transform=c1(`translate3d(${dn}px, 0, 0)`,m.initialTransform),ec(m.clientRect,0,Me)):(ye.style.transform=c1(`translate3d(0, ${dn}px, 0)`,m.initialTransform),ec(m.clientRect,Me,0))}),this._previousSwap.overlaps=oy(u,n,r),this._previousSwap.drag=d.drag,this._previousSwap.delta=s?i.x:i.y,{previousIndex:c,currentIndex:a}}enter(e,n,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,n,r):i,a=this._activeDraggables,s=a.indexOf(e),c=e.getPlaceholderElement(),d=a[o];if(d===e&&(d=a[o+1]),!d&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(n,r)&&(d=a[0]),s>-1&&a.splice(s,1),d&&!this._dragDropRegistry.isDragging(d)){let l=d.getRootElement();l.parentElement.insertBefore(c,l),a.splice(o,0,e)}else this._element.appendChild(c),a.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let n=e.getRootElement();if(n){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;n.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(n=>n.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,n){this._itemPositions.forEach(({clientRect:r})=>{ec(r,e,n)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let r=n.getVisibleElement();return{drag:n,offset:0,initialTransform:r.style.transform||"",clientRect:ly(r)}}).sort((n,r)=>e?n.clientRect.left-r.clientRect.left:n.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,n,r){let i=this.orientation==="horizontal",o=i?n.left-e.left:n.top-e.top;return r===-1&&(o+=i?n.width-e.width:n.height-e.height),o}_getSiblingOffsetPx(e,n,r){let i=this.orientation==="horizontal",o=n[e].clientRect,a=n[e+r*-1],s=o[i?"width":"height"]*r;if(a){let c=i?"left":"top",d=i?"right":"bottom";r===-1?s-=a.clientRect[c]-o[d]:s+=o[c]-a.clientRect[d]}return s}_shouldEnterAsFirstChild(e,n){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let a=r[r.length-1].clientRect;return i?e>=a.right:n>=a.bottom}else{let a=r[0].clientRect;return i?e<=a.left:n<=a.top}}_getItemIndexFromPointerPosition(e,n,r,i){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:c})=>{if(s===e)return!1;if(i){let d=o?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return o?n>=Math.floor(c.left)&&n<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return a===-1||!this._sortPredicate(a,e)?-1:a}},cy=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,n){this._document=e,this._dragDropRegistry=n}start(e){let n=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<n.length;r++){let i=n[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,n,r,i){let o=this._getItemIndexFromPointerPosition(e,n,r),a=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===i.x&&a.deltaY===i.y)return null;let c=this.getItemIndex(e),d=e.getPlaceholderElement(),l=s.getRootElement();o>c?l.after(d):l.before(d),a8(this._activeItems,c,o);let u=this._getRootNode().elementFromPoint(n,r);return a.deltaX=i.x,a.deltaY=i.y,a.drag=s,a.overlaps=l===u||l.contains(u),{previousIndex:c,currentIndex:o}}enter(e,n,r,i){let o=this._activeItems.indexOf(e);o>-1&&this._activeItems.splice(o,1);let a=i==null||i<0?this._getItemIndexFromPointerPosition(e,n,r):i;a===-1&&(a=this._getClosestItemIndexToPointer(e,n,r));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,n=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==o&&(o===null?e.appendChild(i):o.parentNode===e&&e.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],n.drag=null,n.deltaX=n.deltaY=0,n.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,n,r){let i=this._getRootNode().elementFromPoint(Math.floor(n),Math.floor(r)),o=i?this._activeItems.findIndex(a=>{let s=a.getRootElement();return i===s||s.contains(i)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=r1(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,n,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==e){let{x:c,y:d}=s.getRootElement().getBoundingClientRect(),l=Math.hypot(n-c,r-d);l<i&&(i=l,o=a)}}return o}},r8=.05,s8=.05,$t=(function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t})($t||{}),lt=(function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t})(lt||{}),dy=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new H;entered=new H;exited=new H;dropped=new H;sorted=new H;receivingStarted=new H;receivingStopped=new H;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=he.EMPTY;_verticalScrollDirection=$t.NONE;_horizontalScrollDirection=lt.NONE;_scrollNode;_stopScrollTimers=new H;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,n,r,i,o){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o;let a=this.element=sn(e);this._document=r,this.withOrientation("vertical").withElementContainer(a),n.registerDropContainer(this),this._parentPositions=new s1(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,n,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,n,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,n,r,i,o,a,s,c={}){this._reset(),this.dropped.next({item:e,currentIndex:n,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:a,dropPoint:s,event:c})}withItems(e){let n=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof d1&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new cy(this._document,this._dragDropRegistry);else{let n=new d1(this._dragDropRegistry);n.direction=this._direction,n.orientation=e,this._sortStrategy=n}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((n,r)=>this.sortPredicate(n,r,this)),this}withScrollableParents(e){let n=this._container;return this._scrollableElements=e.indexOf(n)===-1?[n,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let n=sn(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,n,r,i){if(this.sortingDisabled||!this._domRect||!Gw(this._domRect,r8,n,r))return;let o=this._sortStrategy.sort(e,n,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,n){if(this.autoScrollDisabled)return;let r,i=$t.NONE,o=lt.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||r||Gw(a.clientRect,r8,e,n)&&([i,o]=rA(s,a.clientRect,this._direction,e,n),(i||o)&&(r=s))}),!i&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),c={width:a,height:s,top:0,right:a,bottom:s,left:0};i=c8(c,n),o=d8(c,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),G1(0,yc).pipe(yt(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,n=this.autoScrollStep;this._verticalScrollDirection===$t.UP?e.scrollBy(0,-n):this._verticalScrollDirection===$t.DOWN&&e.scrollBy(0,n),this._horizontalScrollDirection===lt.LEFT?e.scrollBy(-n,0):this._horizontalScrollDirection===lt.RIGHT&&e.scrollBy(n,0)})};_isOverContainer(e,n){return this._domRect!=null&&oy(this._domRect,e,n)}_getSiblingContainerFromPosition(e,n,r){return this._siblings.find(i=>i._canReceive(e,n,r))}_canReceive(e,n,r){if(!this._domRect||!oy(this._domRect,n,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(n,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,n){let r=this._activeSiblings;!r.has(e)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:n}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(e);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=r1(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,e))}};function c8(t,e){let{top:n,bottom:r,height:i}=t,o=i*s8;return e>=n-o&&e<=n+o?$t.UP:e>=r-o&&e<=r+o?$t.DOWN:$t.NONE}function d8(t,e){let{left:n,right:r,width:i}=t,o=i*s8;return e>=n-o&&e<=n+o?lt.LEFT:e>=r-o&&e<=r+o?lt.RIGHT:lt.NONE}function rA(t,e,n,r,i){let o=c8(e,i),a=d8(e,r),s=$t.NONE,c=lt.NONE;if(o){let d=t.scrollTop;o===$t.UP?d>0&&(s=$t.UP):t.scrollHeight-d>t.clientHeight&&(s=$t.DOWN)}if(a){let d=t.scrollLeft;n==="rtl"?a===lt.RIGHT?d<0&&(c=lt.RIGHT):t.scrollWidth+d>t.clientWidth&&(c=lt.LEFT):a===lt.LEFT?d>0&&(c=lt.LEFT):t.scrollWidth-d>t.clientWidth&&(c=lt.RIGHT)}return[s,c]}var Js={capture:!0},ry={passive:!1,capture:!0},iA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ie({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return t})(),hy=(()=>{class t{_ngZone=f(we);_document=f(le);_styleLoader=f(Hw);_renderer=f(bt).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new H;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=g([]);_globalListeners;_draggingPredicate=n=>n.isDragging();_domNodesToDirectives=null;pointerMove=new H;pointerUp=new H;constructor(){}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,ry)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(n,r){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._styleLoader.load(iA),this._activeDragInstances.update(i=>[...i,n]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),Js],["selectstart",this._preventDefaultWhileDragging,ry]];i?a.push(["touchend",o,Js],["touchcancel",o,Js]):a.push(["mouseup",o,Js]),i||a.push(["mousemove",s=>this.pointerMove.next(s),ry]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,c,d])=>this._renderer.listen(this._document,s,c,d))})}}stopDragging(n){this._activeDragInstances.update(r=>{let i=r.indexOf(n);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){let r=[this._scroll];return n&&n!==this._document&&r.push(new q(i=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(n,"scroll",a=>{this._activeDragInstances().length&&i.next(a)},Js);return()=>{o()}}))),ya(...r)}registerDirectiveNode(n,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(n,r)}removeDirectiveNode(n){this._domNodesToDirectives?.delete(n)}getDragDirectiveForNode(n){return this._domNodesToDirectives?.get(n)||null}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=n=>{this._activeDragInstances().length>0&&n.preventDefault()};_persistentTouchmoveListener=n=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))};_clearGlobalListeners(){this._globalListeners?.forEach(n=>n()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),oA={dragStartThreshold:5,pointerDirectionChangeThreshold:5},py=(()=>{class t{_document=f(le);_ngZone=f(we);_viewportRuler=f(Bw);_dragDropRegistry=f(hy);_renderer=f(bt).createRenderer(null,null);constructor(){}createDrag(n,r=oA){return new sy(n,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(n){return new dy(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l1=new _("CDK_DRAG_PARENT");var l8=new _("CdkDragHandle"),u1=(()=>{class t{element=f(ue);_parentDrag=f(l1,{optional:!0,skipSelf:!0});_dragDropRegistry=f(hy);_stateChanges=new H;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let n=this.element.nativeElement.parentElement;for(;n;){let r=this._dragDropRegistry.getDragDirectiveForNode(n);if(r){this._parentDrag=r,r._addHandle(this);break}n=n.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=In({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Yn]},features:[ki([{provide:l8,useExisting:t}])]})}return t})(),u8=new _("CDK_DRAG_CONFIG"),h8=new _("CdkDropList"),Xo=(()=>{class t{element=f(ue);dropContainer=f(h8,{optional:!0,skipSelf:!0});_ngZone=f(we);_viewContainerRef=f(Cn);_dir=f(ey,{optional:!0});_changeDetectorRef=f(Kn);_selfHandle=f(l8,{optional:!0,self:!0});_parentDrag=f(l1,{optional:!0,skipSelf:!0});_dragDropRegistry=f(hy);_destroyed=new H;_handles=new Pe([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new pe;released=new pe;ended=new pe;entered=new pe;exited=new pe;dropped=new pe;moved=new q(n=>{let r=this._dragRef.moved.pipe(U(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(n);return()=>{r.unsubscribe()}});_injector=f(Ie);constructor(){let n=this.dropContainer,r=f(u8,{optional:!0}),i=f(py);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),n&&(n.addItem(this),n._dropListRef.beforeStarted.pipe(yt(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){yo(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){let r=n.rootElementSelector,i=n.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let r=this._handles.getValue();r.push(n),this._handles.next(r)}_removeHandle(n){let r=this._handles.getValue(),i=r.indexOf(n);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,r=n;this.rootElementSelector&&(r=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):sn(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay=typeof i=="object"&&i?i:i1(i),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),r&&n.withDirection(r.value)}}),n.beforeStarted.pipe(Ke(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){n.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(n){n.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),n.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(n){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:c,rootElementSelector:d,previewContainer:l}=n;this.disabled=c??!1,this.dragStartDelay=i||0,this.lockAxis=r||null,o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),d&&(this.rootElementSelector=d),l&&(this.previewContainer=l)}_setupHandlesListener(){this._handles.pipe(Se(n=>{let r=n.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Ne(n=>ya(...n.map(r=>r._stateChanges.pipe(Vn(r))))),yt(this._destroyed)).subscribe(n=>{let r=this._dragRef,i=n.element.nativeElement;n.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=In({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&ge("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Yn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",z4]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ki([{provide:l1,useExisting:t}]),$n]})}return t})(),i8=new _("CdkDropListGroup");var h1=(()=>{class t{element=f(ue);_changeDetectorRef=f(Kn);_scrollDispatcher=f(zw);_dir=f(ey,{optional:!0});_group=f(i8,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new H;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=f(a1).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new pe;entered=new pe;exited=new pe;sorted=new pe;_unsortedItems=new Set;constructor(){let n=f(py),r=f(u8,{optional:!0});this._dropListRef=n.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,a)=>this.sortPredicate(i,o.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(n){this._unsortedItems.add(n),n._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef))}removeItem(n){if(this._unsortedItems.delete(n),this._latestSortedRefs){let r=this._latestSortedRefs.indexOf(n._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((n,r)=>n._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let n=t._dropLists.indexOf(this);n>-1&&t._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(Vn(this._dir.value),yt(this._destroyed)).subscribe(r=>n.withDirection(r)),n.beforeStarted.subscribe(()=>{let r=Ys(this.connectedTo).map(i=>{if(typeof i=="string"){let o=t._dropLists.find(a=>a.id===i);return o}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(i)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=i1(this.autoScrollStep,2),n.hasAnchor=this.hasAnchor,n.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef)),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),ya(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){let{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:s}=n;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=s||"vertical",this.lockAxis=r||null}_syncItemsWithRef(n){this._latestSortedRefs=n,this._dropListRef.withItems(n)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=In({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(wo("id",i.id),ge("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Yn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Yn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Yn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",Yn]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ki([{provide:i8,useValue:void 0},{provide:h8,useExisting:t}])]})}return t})();var aA=new _("CdkDragPlaceholder"),p8=(()=>{class t{templateRef=f(Un);_drag=f(l1,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=In({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[ki([{provide:aA,useExisting:t}])]})}return t})();var Qo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=zt({type:t});static \u0275inj=mt({providers:[py],imports:[qw]})}return t})();function sA(t,e){if(t&1){let n=re();w(0,"div",26),A("click",function(){let i=D(n),o=b(2);return E(o.onFlyTo(i.traverse.source==null?null:i.traverse.source.place))})("mouseenter",function(){let i=D(n),o=b(2);return E(o.highlightTraverse(i==null?null:i.traverse))})("mouseleave",function(){D(n);let i=b(2);return E(i.clearHighlight())}),w(1,"div",29),A("click",function(i){let o=D(n),a=b(2);return E(a.onRouteClick(i,o==null||o.traverse==null?null:o.traverse.route))}),F(2,"lucide-icon",30),w(3,"div",31)(4,"span"),R(5),I()()(),w(6,"div",32),R(7),I()()}if(t&2){let n=e,r=b(2);ge("planned",n.planned),k(2),Y("name",r.getRouteIcon(n.traverse.route==null?null:n.traverse.route.type()))("size",18),k(3),Et("",n.traverse.route==null?null:n.traverse.route.duration()," h"),k(2),ze(n.traverse.source==null||n.traverse.source.place==null?null:n.traverse.source.place.name())}}function cA(t,e){t&1&&F(0,"lucide-icon",11),t&2&&Y("size",24)}function dA(t,e){t&1&&F(0,"lucide-icon",12),t&2&&Y("size",24)}function lA(t,e){t&1&&F(0,"lucide-icon",13),t&2&&Y("size",24)}function uA(t,e){if(t&1&&R(0),t&2){let n=b(2);br(" ",n.visit().entryDateString()," \u2013 ",n.visit().exitDateString()," ")}}function hA(t,e){t&1&&(w(0,"span",24),R(1,"Not in itinerary"),I())}function pA(t,e){if(t&1){let n=re();w(0,"div",29),A("click",function(i){D(n),b();let o=_r(24),a=b();return E(a.onRouteClick(i,o==null||o.traverse==null?null:o.traverse.route))}),F(1,"lucide-icon",30),w(2,"div",31)(3,"span"),R(4),I()()(),w(5,"div",32),R(6),I()}if(t&2){b();let n=_r(24),r=b();k(),Y("name",r.getRouteIcon(n.traverse.route==null?null:n.traverse.route.type()))("size",18),k(3),Et("",n.traverse.route==null?null:n.traverse.route.duration(),"h"),k(2),ze(n.traverse.target==null||n.traverse.target.place==null?null:n.traverse.target.place.name())}}function fA(t,e){if(t&1){let n=re();w(0,"div",4)(1,"div",6),$(2,sA,8,6,"div",7),I(),w(3,"div",8)(4,"div",9)(5,"button",10),A("click",function(){D(n);let i=b();return E(i.toggleIncluded())}),$(6,cA,1,1,"lucide-icon",11)(7,dA,1,1,"lucide-icon",12)(8,lA,1,1,"lucide-icon",13),I()(),w(9,"div",14)(10,"div",15)(11,"div",16)(12,"input",17,0),A("input",function(){return D(n),E(0)})("blur",function(){D(n);let i=ct(13),o=b();return E(o.onSave.emit({id:o.visit().id,name:i.value}))}),I()(),w(14,"div",18)(15,"input",19,1),A("change",function(){D(n);let i=ct(16),o=b();return E(o.saveNights(i.value))}),I(),F(17,"lucide-icon",20),I(),w(18,"button",21),A("click",function(){D(n);let i=b();return E(i.onDelete.emit(i.visit().id))}),F(19,"lucide-icon",22),I()(),w(20,"div",23),$(21,uA,1,2)(22,hA,2,0,"span",24),I()()(),w(23,"div",25),Co(24),w(25,"div",26),A("click",function(){D(n);let i=_r(24),o=b();return E(o.onFlyTo(i==null||i.traverse==null||i.traverse.target==null?null:i.traverse.target.place))})("mouseenter",function(){D(n);let i=_r(24),o=b();return E(o.highlightTraverse(i==null?null:i.traverse))})("mouseleave",function(){D(n);let i=b();return E(i.clearHighlight())}),$(26,pA,7,4),w(27,"button",27),A("click",function(i){D(n);let o=b();return E(o.toggleManager(i))}),F(28,"lucide-icon",28),I()()()()}if(t&2){let n,r,i=ct(13),o=b();k(2),W((n=o.previousLeg())?2:-1,n),k(),ge("planned",o.visit().included()&&o.visit().entryDate())("draft",o.visit().included()&&!o.visit().entryDate())("excluded",!o.visit().included()),k(3),W(o.visit().included()?o.visit().entryDate()?8:7:6),k(6),Y("value",(r=o.visit().place)==null?null:r.name()),wo("size",i.value.length||1),k(3),Y("value",o.visit().nights()),k(2),Y("size",18),k(2),Y("size",18),k(2),W(o.visit().included()&&o.visit().entryDate()?21:22),k(3);let a=ns(o.nextLeg());k(),ge("planned",a==null?null:a.planned),k(),W(a?26:-1),k(2),Y("size",16)}}function yA(t,e){t&1&&F(0,"lucide-icon",48),t&2&&Y("size",18)}function gA(t,e){if(t&1){let n=re();w(0,"lucide-icon",53),A("click",function(i){D(n);let o=b().$implicit,a=b(2);return E(a.includeNextVisit(i,o.target==null?null:o.target.id))}),I()}t&2&&Y("size",16)}function mA(t,e){if(t&1){let n=re();w(0,"lucide-icon",54),A("click",function(i){D(n);let o=b().$implicit,a=b(2);return E(a.excludeNextVisit(i,o.target==null?null:o.target.id))}),I()}t&2&&Y("size",16)}function vA(t,e){if(t&1){let n=re();w(0,"div",41),A("click",function(){let i=D(n).$implicit,o=b(2);return E(o.moveToTop(i))})("mouseenter",function(){let i=D(n).$implicit,o=b(2);return E(o.highlightTraverse(i))})("mouseleave",function(){D(n);let i=b(2);return E(i.clearHighlight())}),w(1,"div",42),A("click",function(i){return D(n),E(i.stopPropagation())}),F(2,"lucide-icon",43),I(),w(3,"div",44),F(4,"lucide-icon",30),w(5,"div",45)(6,"span"),R(7),I(),w(8,"span"),R(9),I()()(),w(10,"span",46),R(11),I(),w(12,"div",47),$(13,yA,1,1,"lucide-icon",48)(14,gA,1,1,"lucide-icon",49),$(15,mA,1,1,"lucide-icon",50),w(16,"button",51),A("click",function(i){let o=D(n).$implicit,a=b(2);return E(a.onDeleteTraverse(i,o.source==null?null:o.source.id,o.target==null?null:o.target.id))}),F(17,"lucide-icon",52),I()()()}if(t&2){let n,r,i=e.$implicit,o=b(2);ge("active",i===((n=o.nextLeg())==null?null:n.traverse))("excluded",!(i.target!=null&&i.target.included())),k(2),Y("size",18),k(2),Y("name",o.getRouteIcon(i.route==null?null:i.route.type()))("size",22),k(3),Et("\u20AC",i.route==null?null:i.route.estimated_cost()),k(2),Et("",i.route==null?null:i.route.duration(),"h"),k(2),wl("",i.target==null||i.target.place==null?null:i.target.place.name()," (",i.target==null?null:i.target.nights(),") (",i.target==null?null:i.target.id,")"),k(2),W(i===((r=o.nextLeg())==null?null:r.traverse)?13:i.target!=null&&i.target.included()?-1:14),k(2),W(i.target!=null&&i.target.included()?15:-1),k(2),Y("size",18)}}function kA(t,e){if(t&1){let n=re();w(0,"div",5)(1,"div",33)(2,"button",34),A("click",function(){D(n);let i=b();return E(i.isManagingTraverses.set(!1))}),F(3,"lucide-icon",35),I(),w(4,"span",36),R(5,"Next Connections"),I(),w(6,"button",37),A("click",function(){D(n);let i=b();return E(i.addNewTraverse())}),F(7,"lucide-icon",38),I()(),w(8,"div",39),A("cdkDropListDropped",function(i){D(n);let o=b();return E(o.handleDrop(i))}),St(9,vA,18,15,"div",40,Ja),I()()}if(t&2){let n=b();k(3),Y("size",18),k(4),Y("size",18),k(2),xt(n.visit().outgoingTraverses())}}var Jo=class t{tripService=f(tt);visit=Bt.required();onSave=Io();onDelete=Io();isMenuOpen=g(!1);isManagingTraverses=g(!1);routeIconMap={flying:"plane",bus:"bus",train:"train-front",driving:"car",boat:"ship"};toggleManager(e){e.stopPropagation(),this.isManagingTraverses.update(n=>!n)}onFlyTo(e){e&&console.log("Fly to place",e)}highlightTraverse(e){this.tripService.hoveredRoute.set(e?.route)}clearHighlight(){this.tripService.hoveredRoute.set(null)}getRouteIcon(e){return e&&this.routeIconMap[e.toLowerCase()]||"milestone"}previousLeg=j(()=>{let e=this.visit().previousTraverse();if(!e){let n=this.visit().ingoingTraverses()[0];return n?{traverse:n,planned:!1}:null}return{traverse:e,planned:!0}});nextLeg=j(()=>{let e=this.visit().nextTraverse();if(!e){let n=this.visit().outgoingTraverses()[0];return n?{traverse:n,planned:!1}:null}return{traverse:e,planned:!0}});saveName(e){console.log("save place name")}saveNights(e){console.log("save nights")}handleDrop(e){if(e.previousIndex!==e.currentIndex){let r=this.visit().outgoingTraverses()[e.previousIndex]}}onNextLegRightClick(e,n){console.log("next leg right click")}save(e){let n=this.visit().place;n&&this.onSave.emit({id:n.id,name:e})}delete(){console.log("delete visit"),this.onDelete.emit(this.visit().id)}moveToTop(e){console.log("TODO: move to top",e.source_visit_id,e.source_target_id)}onDeleteTraverse(e,n,r){e.stopPropagation(),console.log("TODO: delete traverse",n,r)}includeNextVisit(e,n){e.stopPropagation(),console.log("TODO: set included to true for visit",n),n&&this.tripService.plan()?.visits().get(n)?.included.set(!0)}excludeNextVisit(e,n){e.stopPropagation(),console.log("TODO: set excluded to true for visit",n),n&&this.tripService.plan()?.visits().get(n)?.included.set(!1)}toggleIncluded(){console.log("TODO: toggle included for this visit.");let e=this.visit().included();this.visit().included.set(!e)}onRouteClick(e,n){e.stopPropagation(),console.log("TODO: route clicked.",n)}addNewTraverse(){console.log("TODO: Logic to add a new traverse to the visit2"),this.tripService.drawingState.set({active:!0,sourceVisit:this.visit(),preselectedRoute:void 0}),this.tripService.selectedVisit.set(null)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-visit-popup"]],inputs:{visit:[1,"visit"]},outputs:{onSave:"onSave",onDelete:"onDelete"},decls:4,vars:3,consts:[["nameInput",""],["nightsInput",""],[1,"visit-card"],["tabindex","0",1,"sr-only"],[1,"view-stack"],[1,"view-stack","manager-view"],[1,"row-slot","top"],[1,"leg-row","secondary","nav-row",3,"planned"],[1,"leg-row","primary"],[1,"route-info"],[1,"icon-btn","pin-toggle",3,"click"],["name","map-pin-off",1,"main-icon","gray",3,"size"],["name","map-pin-minus",1,"main-icon","yellow",3,"size"],["name","map-pin-check",1,"main-icon","blue",3,"size"],[1,"visit-content-wrapper"],[1,"top-controls"],[1,"name-wrapper"],[1,"name-input",3,"input","blur","value"],[1,"nights-badge"],["type","number",1,"nights-val",3,"change","value"],["name","moon",1,"moon-icon",3,"size"],[1,"icon-btn","delete",3,"click"],["name","trash-2",3,"size"],[1,"date-row"],[1,"unscheduled-label"],[1,"row-slot","bottom"],[1,"leg-row","secondary","nav-row",3,"click","mouseenter","mouseleave"],[1,"icon-btn","manage-trigger",3,"click"],["name","settings-2",3,"size"],[1,"route-info","prevnext",3,"click"],[3,"name","size"],[1,"details"],[1,"place-name"],[1,"manager-header"],[1,"icon-btn","back",3,"click"],["name","arrow-left",3,"size"],[1,"header-title"],["title","Add Connection",1,"icon-btn","add",3,"click"],["name","plus",3,"size"],["cdkDropList","",1,"scroll-container",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".scroll-container",1,"manage-item",3,"active","excluded"],["cdkDrag","","cdkDragLockAxis","y","cdkDragBoundary",".scroll-container",1,"manage-item",3,"click","mouseenter","mouseleave"],["cdkDragHandle","",1,"drag-handle",3,"click"],["name","grip-vertical",3,"size"],[1,"compact-route-meta"],[1,"meta-details"],[1,"destination"],[1,"item-actions"],["name","check",1,"active-indicator",3,"size"],["name","eye-off","title","Click to include Visit",1,"icon-btn","excluded-indicator",3,"size"],["name","eye","title","Click to exclude Visit",1,"icon-btn","included-indicator","onhover",3,"size"],["title","Remove Connection",1,"icon-btn","delete-item",3,"click"],["name","x",3,"size"],["name","eye-off","title","Click to include Visit",1,"icon-btn","excluded-indicator",3,"click","size"],["name","eye","title","Click to exclude Visit",1,"icon-btn","included-indicator","onhover",3,"click","size"]],template:function(n,r){n&1&&(w(0,"div",2),F(1,"span",3),$(2,fA,29,19,"div",4)(3,kA,11,2,"div",5),I()),n&2&&(ge("managing",r.isManagingTraverses()),k(2),W(r.isManagingTraverses()?3:2))},dependencies:[xn,Lr,Qo,h1,Xo,u1,ft],styles:["[_nghost-%COMP%]{display:block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.visit-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-sizing:border-box;background:#3c4043;color:#fff;min-width:320px;height:174px;overflow:hidden;border-radius:12px;padding:6px;box-shadow:0 8px 32px #0000004d}.row-slot[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;width:100%}.view-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}.leg-row[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:12px;padding:6px 8px;border-radius:8px}.leg-row.secondary[_ngcontent-%COMP%]{opacity:.6;font-size:.85rem;cursor:pointer}.leg-row.primary[_ngcontent-%COMP%]{padding:10px 8px;background:#ffffff08;margin:4px 0}.nav-row[_ngcontent-%COMP%]:hover{background:#ffffff14;opacity:1}nav-row[_ngcontent-%COMP%]{transition:all .2s;border-left:3px solid transparent}.nav-row.planned[_ngcontent-%COMP%]{opacity:1;border-left:3px solid rgba(0,122,255,1);color:#fff}.nav-row[_ngcontent-%COMP%]:not(.planned){opacity:.6;font-style:italic;border-left:3px dashed rgba(255,255,255,.3)}.nav-row[_ngcontent-%COMP%]:not(.planned):hover{opacity:.8;background:#ffffff0d}.leg-row.primary[_ngcontent-%COMP%]{transition:all .3s ease;border-left:3px solid transparent}.leg-row.primary.planned[_ngcontent-%COMP%]{border-left-color:#007aff;background:#007aff0d;opacity:1}.leg-row.primary.draft[_ngcontent-%COMP%]{border-left:3px dashed rgba(0,122,255,.4);background:#ffffff05;opacity:.8}.leg-row.primary.excluded[_ngcontent-%COMP%]{border-left:3px dashed rgba(255,255,255,.3);opacity:.6;filter:grayscale(.5)}.manage-trigger[_ngcontent-%COMP%]{margin-left:auto;opacity:0;transform:translate(10px);transition:all .2s ease;padding:4px}.nav-row[_ngcontent-%COMP%]:hover   .manage-trigger[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.route-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:60px;flex-shrink:0;gap:6px}.route-info.prevnext[_ngcontent-%COMP%]{cursor:pointer}.details[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.7rem;line-height:1.1;opacity:.8}.visit-content-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.top-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.name-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:baseline}.name-input[_ngcontent-%COMP%]{border:none;background:transparent;color:#fff;font-size:1.2rem;font-weight:600;outline:none;padding:0;border-radius:4px}.name-input[_ngcontent-%COMP%]:focus{background:#ffffff1a}.date-row[_ngcontent-%COMP%]{font-size:.75rem;opacity:.5;margin-top:2px}.nights-badge[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff1a;padding:4px 10px;border-radius:20px;gap:4px;height:32px;border:1px solid transparent;transition:all .2s ease}.nights-badge[_ngcontent-%COMP%]:hover{background:#ffffff26}.nights-badge[_ngcontent-%COMP%]:focus-within{background:#fff3;border-color:#f1c40f}.nights-val[_ngcontent-%COMP%]{border:none;background:transparent;color:#fff;width:22px;font-size:1.1rem;font-weight:600;text-align:center;outline:none;-webkit-appearance:none;margin:0}.nights-val[_ngcontent-%COMP%]::-webkit-inner-spin-button, .nights-val[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.manager-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;border-bottom:1px solid rgba(255,255,255,.1)}.header-title[_ngcontent-%COMP%]{font-size:.85rem;font-weight:600;letter-spacing:.3px}.scroll-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;margin:8px 0}.manage-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px;background:#ffffff0d;margin-bottom:4px;border-radius:6px;font-size:.85rem}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:6px;box-shadow:0 5px 15px #00000080;background:#4a4e51;display:flex;align-items:center;padding:8px;color:#fff}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-handle[_ngcontent-%COMP%]{cursor:grab;color:#ffffff4d}.add-traverse-btn[_ngcontent-%COMP%]{height:26px;width:26px;padding:8px;background:transparent;border:1px dashed rgba(255,255,255,.2);color:#fff;border-radius:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;font-size:.8rem}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff9;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:4px;border-radius:4px;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff}.icon-btn.delete[_ngcontent-%COMP%]:hover{color:#ff4d4d}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.scroll-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:10px}.moon-icon[_ngcontent-%COMP%]{color:#f1c40f}.manager-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:28px;border-bottom:1px solid rgba(255,255,255,.1)}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.header-title[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.03rem;opacity:.8}.scroll-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding-right:4px;margin:0}.manage-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px;padding:6px 4px;background:#ffffff08;margin-bottom:2px;border-radius:10px;font-size:.8rem;border:1px solid transparent}.manage-item.active[_ngcontent-%COMP%], .manage-item.active[_ngcontent-%COMP%]:hover{background:#007aff26;border-color:#007aff4d}.manage-item.excluded[_ngcontent-%COMP%]{color:#b6b6b6;background:#1515154d}.route-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;line-height:1.2}.destination[_ngcontent-%COMP%]{font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.meta[_ngcontent-%COMP%]{font-size:.7rem;opacity:.6}.active-indicator[_ngcontent-%COMP%]{color:#007aff;display:flex;align-items:center}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .manage-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.manager-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:4px}.header-title[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.05rem;opacity:.7;pointer-events:none}.manager-header[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px}.cdk-drag-boundary[_ngcontent-%COMP%]{position:relative}.cdk-drag-preview[_ngcontent-%COMP%]{width:296px!important;box-sizing:border-box}.compact-route-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;min-width:55px}.meta-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:.65rem;line-height:1.1;opacity:.7}.destination[_ngcontent-%COMP%]{flex:1;font-size:.85rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:4px}.item-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;min-width:24px;justify-content:flex-end}.delete-item[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s ease;color:#fff6;margin:0 0 0 -6px}.manage-item[_ngcontent-%COMP%]:hover   .delete-item[_ngcontent-%COMP%]{opacity:1}.delete-item[_ngcontent-%COMP%]:hover{color:#ff4d4d!important}.active-indicator[_ngcontent-%COMP%]{color:#007aff;padding:4px}.manage-item[_ngcontent-%COMP%]:hover   .active-indicator[_ngcontent-%COMP%]{display:none}.included-indicator[_ngcontent-%COMP%]{display:none;color:#fbf9f9;padding:5px}.included-indicator[_ngcontent-%COMP%]:hover{color:#007aff!important}.manage-item[_ngcontent-%COMP%]:hover   .included-indicator[_ngcontent-%COMP%]{display:block}.excluded-indicator[_ngcontent-%COMP%]{color:#fbf9f9;padding:5px}.excluded-indicator[_ngcontent-%COMP%]:hover{color:#007aff!important}.manage-item[_ngcontent-%COMP%]{cursor:pointer;transition:background .2s}.manage-item[_ngcontent-%COMP%]:hover{background:#ffffff14}.main-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 0 8px rgba(0,0,0,.2));transition:all .3s ease}.main-icon.blue[_ngcontent-%COMP%]{color:#007aff;filter:drop-shadow(0 0 12px rgba(0,122,255,.4))}.main-icon.yellow[_ngcontent-%COMP%]{color:#ff9f0a;filter:drop-shadow(0 0 12px rgba(255,159,10,.3))}.main-icon.gray[_ngcontent-%COMP%]{color:#ffffff4d;filter:none}.pin-toggle[_ngcontent-%COMP%]{padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:transform .2s cubic-bezier(.175,.885,.32,1.275)}.pin-toggle[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:transparent}.pin-toggle[_ngcontent-%COMP%]:active{transform:scale(.95)}.unscheduled-label[_ngcontent-%COMP%]{color:#ff9f0a;font-weight:600;letter-spacing:.03rem;opacity:.8}.date-row[_ngcontent-%COMP%]{min-height:14px}.place-name[_ngcontent-%COMP%]{cursor:pointer}"]})};function MA(t,e){}function wA(t,e){t&1&&mi(0,"div",3)}function CA(t,e){if(t&1){let n=re();Ve(0,"span",2),Zn("click",function(i){let o=D(n).$implicit,a=b(2);return E(a.handleVisitClick(i,o))}),R(1),He(),$(2,wA,1,0,"div",3)}if(t&2){let n=e.$implicit,r=e.$index,i=e.$count,o=b(2);k(),ze(n.nights()),k(),W(r!==i-1||o.isHovered()||o.isSelected()?2:-1)}}function IA(t,e){if(t&1){let n=re();Ve(0,"span",2),Zn("click",function(i){D(n);let o=b(2);return E(o.handleAddClick(i))}),R(1,"+"),He()}}function bA(t,e){if(t&1&&(St(0,CA,3,2,null,null,H0),$(2,IA,2,0,"span",1)),t&2){let n=b(),r=_r(2);xt(r),k(2),W(n.isHovered()||n.isSelected()?2:-1)}}var ea=class t{elementRef=f(ue);place=Bt.required();hoveredPlace;isHovered=j(()=>this.place()===this.hoveredPlace());selectedVisit;isSelected=j(()=>this.place()===this.selectedVisit()?.place);zoom=Bt.required();isZoomLow=j(()=>this.zoom()()<3);interactionManager;_marker=g(null);marker=this._marker.asReadonly();setResources(e,n){this.interactionManager=e,this._marker.set(n)}uiService=f(Ut);tripService=f(tt);async handleVisitClick(e,n){e.stopPropagation();let r=this.tripService.drawingState();if(console.log("clicked visit, drawing state:",r.active),!r.active){let o=this.marker();o&&(this.interactionManager.handleOpenVisitPopup(n,o),this.uiService.isSearchExpanded()&&this.uiService.closeSearch());return}let i={x:e.clientX,y:e.clientY};n.id!==r.sourceVisit?.id&&(r.preselectedRoute&&r.preselectedRoute?.target===n.place?(await this.tripService.createTraverse(r.preselectedRoute.type(),r.sourceVisit?.id,n.id),this.interactionManager.cancelDrawing()):(this.tripService.drawingState.update(o=>Z(v({},o),{targetVisit:n})),await this.interactionManager.showRouteTypeSelector(i)))}async handleAddClick(e){e.stopPropagation(),console.log("Add new visit.");try{let n=this.tripService.plan();if(!n)return;let r={place_id:this.place().id,plan_id:n.id,nights:0,included:!0},i=await this.tripService.addVisit(r),o=this.marker();o&&i&&this.interactionManager.handleOpenVisitPopup(i,o)}catch(n){console.error("Failed to add visit:",n)}}onHover(e){e.stopPropagation(),this.interactionManager.handleMarkerHover(this.place(),this.marker())}onUnhover(){this.interactionManager.handleMarkerUnhover()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-place-marker"]],hostBindings:function(n,r){n&1&&A("mouseenter",function(o){return r.onHover(o)})("mouseleave",function(){return r.onUnhover()})},inputs:{place:[1,"place"],hoveredPlace:"hoveredPlace",selectedVisit:"selectedVisit",zoom:[1,"zoom"]},decls:5,vars:2,consts:[[1,"marker-pill"],[1,"night-count"],[1,"night-count",3,"click"],[1,"marker-divider"]],template:function(n,r){if(n&1&&(Ve(0,"div")(1,"div",0),Co(2),$(3,MA,0,0)(4,bA,3,1),He()()),n&2){k(2);let i=ns(r.place().visits());k(),W(!r.isHovered()&&(!i||i.length===0||r.isZoomLow())?3:4)}},styles:["[_nghost-%COMP%]{display:block;transform:translateY(-50%)}.marker-pill[_ngcontent-%COMP%]{min-height:20px;min-width:20px;display:flex;align-items:center;background:#2d2d32d9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:20px;padding:1px 4px;color:#fff;font-size:12px;font-weight:500;box-shadow:0 4px 12px #0000004d;white-space:nowrap;cursor:pointer;width:max-content;transition:all .2s ease-in-out}.marker-divider[_ngcontent-%COMP%]{width:1px;height:12px;background:#ffffff4d;margin:0 2px}.night-count[_ngcontent-%COMP%]{padding:3px;border-radius:50%;min-width:14px;text-align:center;cursor:pointer}.night-count[_ngcontent-%COMP%]:hover{background:#ffffff1a}.marker-pill[_ngcontent-%COMP%]{transition:transform .2s cubic-bezier(.175,.885,.32,1.275),background .2s}.marker-pill[_ngcontent-%COMP%]:hover{background:#3c3c41f2;border-color:#007aff80}"]})};var ta=class t{place;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-place-tooltip"]],inputs:{place:"place"},decls:2,vars:1,consts:[[1,"tooltip-text"]],template:function(n,r){if(n&1&&(Ve(0,"span",0),R(1),He()),n&2){let i;k(),ze((i=r.place())==null?null:i.name())}},styles:["[_nghost-%COMP%]{display:block}  .hover-tooltip .mapboxgl-popup-content{background:#141414cc!important;color:#fff;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:.5px solid rgba(255,255,255,.1);padding:4px 10px;font-size:12px;font-weight:500;box-shadow:0 4px 12px #0000004d;white-space:nowrap;border-radius:20px!important;margin-bottom:3px;pointer-events:none}  .hover-tooltip .mapboxgl-popup-tip{display:none}.tooltip-text[_ngcontent-%COMP%]{color:#fff!important;font-size:12px;font-weight:500;padding:20px;white-space:nowrap}"]})};function _A(t,e){if(t&1&&(Ve(0,"span",0),R(1),He()),t&2){let n=e;k(),br(" ",n.source==null?null:n.source.name()," \u2192 ",n.target==null?null:n.target.name()," ")}}var na=class t{route;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-route-tooltip"]],inputs:{route:"route"},decls:1,vars:1,consts:[[1,"tooltip-text"]],template:function(n,r){if(n&1&&$(0,_A,2,2,"span",0),n&2){let i;W((i=r.route())?0:-1,i)}},styles:["[_nghost-%COMP%]{display:block}  .hover-tooltip .mapboxgl-popup-content{background:#141414cc!important;color:#fff;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:.5px solid rgba(255,255,255,.1);padding:4px 10px;font-size:12px;font-weight:500;box-shadow:0 4px 12px #0000004d;white-space:nowrap;border-radius:20px!important;margin-bottom:3px;pointer-events:none}  .hover-tooltip .mapboxgl-popup-tip{display:none}.tooltip-text[_ngcontent-%COMP%]{color:#fff!important;font-size:12px;font-weight:500;padding:20px;white-space:nowrap}"]})};var f8=[2.35,48.85],y8=3.2,cn={LOGGED_OUT:"dark-v11",LOGGED_IN:"light-v11",ACTIVE_TRIP:"streets-v12",OFFLINE:"OFFLINE_STYLE"},ra={driving:"#3887be",boat:"#ff8c42",flying:"#fcba03",bus:"#e55e5e",train:"#ae8a41",undefined:"#707070"},ur={driving:"icon_driving",flying:"icon_flying",boat:"icon_boat",bus:"icon_bus",train:"icon_train",undefined:"icon_marker",icon_marker:"icon_marker"},g8=["match",["get","type"],"driving",ra.driving,"flying",ra.flying,"boat",ra.boat,"bus",ra.bus,"train",ra.train,ra.undefined],m8={version:8,sources:{},layers:[{id:"background",type:"background",paint:{"background-color":"#405e75"}}]};var p1=class{constructor(e,n){this.map=e;this.authService=n}currentStyle=g("");routesLayerReady=g(!1);getStyle(e,n){return e?n?cn.ACTIVE_TRIP:cn.LOGGED_IN:cn.LOGGED_OUT}updateStyle(e,n){let i=this.authService.isOfflineMode()?cn.OFFLINE:this.getStyle(e,n);this.currentStyle()!==i&&(i===cn.OFFLINE?this.map.setStyle(m8):this.map.setStyle(`mapbox://styles/mapbox/${i}?optimize=true`),this.currentStyle.set(i))}updateRouteData(e){let n=this.map.getSource("all-routes");this.routesLayerReady()&&n&&n.setData(e)}setLayerVisibility(e,n){let r=n?"visible":"none";this.map.setLayoutProperty(`route-layer-${e}`,"visibility",r)}initializeRouteLayers(e){this.routesLayerReady.set(!1),this.map.getSource("all-routes")||this.map.addSource("all-routes",{type:"geojson",data:e||{type:"FeatureCollection",features:[]}}),this.map.getLayer("route-lines")||this.map.addLayer({id:"route-lines",type:"line",source:"all-routes",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["case",["boolean",["feature-state","hover"],!1],6,["boolean",["feature-state","disabled"],!1],1.5,2.4],"line-color":g8,"line-opacity":["case",["boolean",["feature-state","hover"],!1],.8,["boolean",["feature-state","disabled"],!1],.2,.8]}}),this.map.getLayer("route-icons-bg")||this.map.addLayer({id:"route-icons-bg",type:"symbol",source:"all-routes",layout:{"symbol-placement":"line","symbol-spacing":150,"icon-image":"icon_marker","icon-size":1.3,"icon-allow-overlap":!0,"icon-rotate":-90,"icon-rotation-alignment":"map","icon-offset":[0,3],"icon-keep-upright":!1},paint:{"icon-color":"rgba(45, 45, 50, 0.85)","icon-opacity":["case",["boolean",["feature-state","hover"],!1],1,["boolean",["feature-state","disabled"],!1],.1,.8]}}),this.map.getLayer("route-icons")||(this.map.addLayer({id:"route-icons",type:"symbol",source:"all-routes",layout:{"symbol-placement":"line","symbol-spacing":150,"icon-image":["match",["get","type"],"driving",ur.driving,"boat",ur.boat,"flying",ur.flying,"bus",ur.bus,"train",ur.train,ur.undefined],"icon-size":.5,"icon-allow-overlap":!0,"icon-keep-upright":!0,"icon-rotation-alignment":"viewport"},paint:{"icon-color":["case",["boolean",["feature-state","hover"],!1],"#ffffff",["boolean",["feature-state","disabled"],!1],"#323232","#ffffff"],"icon-opacity":["case",["boolean",["feature-state","hover"],!1],1,["boolean",["feature-state","disabled"],!1],.2,.8]}}),this.map.getSource("drawing-line")||this.map.addSource("drawing-line",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.map.getLayer("drawing-line")||this.map.addLayer({id:"drawing-line-layer",type:"line",source:"drawing-line",layout:{"line-cap":"round","line-join":"round",visibility:"none"},paint:{"line-color":"#252525","line-width":3,"line-dasharray":[2,2],"line-opacity":.6}})),this.routesLayerReady.set(!0)}highlightRoute(e){this.map.setFilter("route-highlight-layer",["==",["get","id"],e??""]),e?this.map.setPaintProperty("all-routes-layer","line-opacity",.2):this.map.setPaintProperty("all-routes-layer","line-opacity",1)}setSourceData(e){this.map.getSource("all-routes")?.setData(e)}};var f1=class{constructor(e){this.map=e}async loadRouteIcons(){let e=Object.entries(ur);for(let[n,r]of e){if(this.map.hasImage(r))continue;let i=`/icons/${r}.png`,o=await new Promise(a=>{this.map.loadImage(i,(s,c)=>{s?(console.error(`Failed to load icon: ${i}`,s),a(void 0)):a(c)})});o&&!this.map.hasImage(r)&&this.map.addImage(r,o,{sdf:!0,pixelRatio:4})}}};var nc=class{constructor(e,n,r,i,o,a,s,c,d,l,u){this.map=e;this.mapbox=n;this.tripService=r;this.uiService=i;this.activeVisitPopupEL=o;this.activeRoutePopupEL=a;this.placeTooltipEl=s;this.routeTooltipEl=c;this.selectorVisible=d;this.selectorPos=l;this.injector=u;Fe(this.injector,()=>{Ee(()=>{let p=this.tripService.plan()?.itineraryTraverses()??[],y=new Set(p.map(m=>m.route?.id)),M=this.map;M&&setTimeout(()=>{if(!M.getSource("all-routes"))return;(this.tripService.trip()?.routes()??new Map).forEach((x,ee)=>{let Me=y.has(ee);console.log("route",ee,Me),M.setFeatureState({source:"all-routes",id:ee},{disabled:!Me})})},200)}),Ee(h=>{let p=this.tripService.selectedVisit(),y=this.activeVisitPopupEL();p&&y?(this.syncVisitPopup(p,y),h(()=>{this.closeActiveVisitPopup()})):y&&this.closeActiveVisitPopup()}),Ee(()=>{let h=this.tripService.selectedRoute(),p=this.activeRoutePopupEL();this.syncRoutePopup(h,p)}),Ee(h=>{let p=this.tripService.hoveredRoute(),y=p;p&&(this.handleRouteHover(p),h(()=>{this.handleRouteUnhover(y)}))})})}activeVisitPopup;currentVisitPopupCoords;activeRoutePopup;currentRoutePopupCoords;hoverTimer;placeTooltip;hoveredMarker;routeTooltip;currentRouteTooltipCoords;selectionResolver=null;attachGlobalListeners(e,n){this.map.on("click",r=>{this.tripService.drawingState().active?this.map.queryRenderedFeatures(r.point,{layers:["route-icons"]}).length===0&&(console.log("cancel drawing mode from map click not on a route icon."),this.cancelDrawing()):(this.tripService.selectedVisit.set(null),this.tripService.selectedRoute.set(null),this.uiService.isSearchExpanded()&&this.uiService.closeSearch())}),this.map.on("move",()=>{let r=this.map.getCenter();e.set([r.lng,r.lat]),n.set(this.map.getZoom())})}toggleMapInteractions(e){[this.map.scrollZoom,this.map.boxZoom,this.map.dragPan,this.map.dragRotate,this.map.keyboard,this.map.doubleClickZoom,this.map.touchZoomRotate].forEach(r=>{e?r.enable():r.disable()})}handleOpenVisitPopup(e,n){this.tripService.selectedVisit.set(e),this.currentVisitPopupCoords=n.getLngLat(),this.handleMarkerUnhover()}syncVisitPopup(e,n){if(this.currentVisitPopupCoords){if(this.activeVisitPopup){this.activeVisitPopup.setLngLat(this.currentVisitPopupCoords);return}this.activeVisitPopup=new this.mapbox.Popup({offset:25,closeButton:!1,className:"apple-glass-popup"}).setDOMContent(n.nativeElement).setLngLat(this.currentVisitPopupCoords).addTo(this.map),this.activeVisitPopup?.on("close",()=>{this.tripService.selectedVisit()===e&&(this.tripService.selectedVisit.set(null),this.handleMarkerUnhover()),this.activeVisitPopup=void 0})}}syncRoutePopup(e,n){if(e&&n&&this.currentRoutePopupCoords){if(this.activeVisitPopup){this.activeVisitPopup.setLngLat(this.currentRoutePopupCoords);return}this.activeRoutePopup=new this.mapbox.Popup({offset:25,closeButton:!1,className:"apple-glass-popup"}).setDOMContent(n.nativeElement).setLngLat(this.currentRoutePopupCoords).addTo(this.map),this.activeRoutePopup?.on("close",()=>{this.tripService.selectedRoute()===e&&this.tripService.selectedRoute.set(null),this.activeRoutePopup=void 0})}}closeActiveVisitPopup(){this.activeVisitPopup&&(console.log("close visit popup."),this.activeVisitPopup.remove(),this.activeVisitPopup=void 0,this.handleMarkerUnhover())}closeActiveRoutePopup(){this.activeRoutePopup&&(this.activeRoutePopup.remove(),this.activeRoutePopup=void 0,this.tripService.selectedRoute.set(null))}handleMarkerHover(e,n){this.clearTimers(),!(this.tripService.selectedVisit()||this.tripService.selectedRoute())&&(this.tripService.hoveredPlace.set(e),this.hoveredMarker=n,e.visits()?.length>0&&this.hoveredMarker?.setOffset([10,0]),this.hoverTimer=setTimeout(()=>{let r=this.placeTooltipEl();r&&(this.placeTooltip||(this.placeTooltip=new this.mapbox.Popup({closeButton:!1,closeOnClick:!1,offset:15,className:"hover-tooltip"})),this.placeTooltip.setLngLat([e.lng,e.lat]).setDOMContent(r.nativeElement).addTo(this.map))},120))}handleMarkerUnhover(e=!1){this.clearTimers(),this.tripService.hoveredPlace.set(null),this.placeTooltip?.remove(),this.tripService.selectedVisit()||this.hoveredMarker?.setOffset([0,0])}handleRouteHover(e){this.hoverTimer=setTimeout(()=>{this.map.setFeatureState({source:"all-routes",id:e.id},{hover:!0});let n=this.routeTooltipEl();!n||this.tripService.selectedVisit()||this.tripService.selectedRoute()||(this.routeTooltip||(this.routeTooltip=new this.mapbox.Popup({closeButton:!1,closeOnClick:!1,offset:15,className:"hover-tooltip"})),this.currentRouteTooltipCoords&&this.routeTooltip.setLngLat(this.currentRouteTooltipCoords).setDOMContent(n.nativeElement).addTo(this.map))},120)}handleRouteUnhover(e){let n=e?.id;n&&this.map.setFeatureState({source:"all-routes",id:n},{hover:!1}),this.routeTooltip?.remove(),this.map.getCanvas().style.cursor=this.tripService.drawingState().active?"crosshair":"",this.clearTimers()}attachLayerListeners(){this.map.on("click",["route-icons"],e=>{let n=e.features?.[0],r=n?.properties?.routeId,i=n?.id;if(!r||i===void 0)return;let o=this.tripService.trip()?.routes()?.get(r);if(!this.tripService.drawingState())this.tripService.selectedRoute.set(o??null),this.currentRoutePopupCoords=e.lngLat;else if(o){let a=o?.target;if(a&&this.tripService.drawingState().sourceVisit?.place===o?.source){this.tripService.drawingState.update(c=>Z(v({},c),{preselectedRoute:o}));let s=this.map.getSource("drawing-line");s&&s.setData({type:"FeatureCollection",features:[]}),this.map.getCanvas().style.cursor="pointer",console.log("flying to target, drawing state:",this.tripService.drawingState().active),this.map.flyTo({center:[a.lng,a.lat],zoom:Math.max(this.map.getZoom(),7),essential:!0}),this.toggleMapInteractions(!1)}}}),this.map.on("mouseenter",["route-icons"],e=>{if(this.tripService.hoveredPlace())return;let n=e.features?.[0],r=n?.properties?.routeId,i=n?.id;if(!r||i===void 0)return;this.map.getCanvas().style.cursor="pointer",this.clearTimers();let o=this.tripService.trip()?.routes()?.get(r);this.tripService.hoveredRoute.set(o??null),this.currentRouteTooltipCoords=e.lngLat}),this.map.on("mouseleave",["route-icons"],()=>{this.tripService.hoveredRoute.set(null),this.currentRouteTooltipCoords=null}),this.map.on("mousemove",e=>{let n=this.tripService.drawingState(),r=n.sourceVisit?.place;if(!n.active||!r||n.preselectedRoute||this.selectorVisible())return;let i=[e.lngLat.lng,e.lngLat.lat],o=this.map.getSource("drawing-line");o&&o.setData({type:"Feature",geometry:{type:"LineString",coordinates:[[r.lng,r.lat],i]},properties:{}})})}async showRouteTypeSelector(e){let n=this.map.getSource("drawing-line"),r=this.tripService.drawingState().sourceVisit?.place,i=this.tripService.drawingState().targetVisit?.place;n&&r&&i&&n.setData({type:"Feature",geometry:{type:"LineString",coordinates:[[r.lng,r.lat],[i.lng,i.lat]]},properties:{}}),this.selectorPos.set(e),this.selectorVisible.set(!0),this.toggleMapInteractions(!1)}handleTypeSelection(e){let n=this.tripService.drawingState();n.sourceVisit&&n.targetVisit&&(this.tripService.createTraverse(e,n.sourceVisit.id,n.targetVisit.id),this.cancelDrawing())}cancelDrawing(){console.log("CLEARING RESOLVER (CANCEL)"),this.selectionResolver&&(this.selectionResolver(null),this.selectionResolver=null),this.tripService.drawingState.set({active:!1,sourceVisit:null}),this.selectorVisible.set(!1),this.toggleMapInteractions(!0)}clearTimers(){this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=void 0)}destroy(){this.clearTimers(),this.placeTooltip?.remove(),this.routeTooltip?.remove()}};var SA=["searchWrapper"],y1=class t{uiService=f(Ut);map;searchWrapper;SearchIcon=JM;searchBoxElement;async ngOnInit(){let{MapboxSearchBox:e}=await import("./chunk-LW6QE4FR.js");this.searchBoxElement=new e,this.searchBoxElement.accessToken=An.mapboxToken,this.searchBoxElement.bindMap(this.map),this.searchBoxElement.theme={variables:{colorBackground:"rgba(30, 30, 35, 0.7)",backdropFilter:"blur(30px) saturate(180%)",colorText:"#fff",borderRadius:"20px",width:"100%",boxShadow:"none"},cssText:`
        .SearchIcon {
          display: none !important;
        }
        .Input {
          width: 100% !important;
          padding-left: 12px !important;
          color: #fff !important;
        }
        ::placeholder {
          color: #fff !important;
        }
        .Results {
          bottom: 53px !important;
          top: auto !important;
          margin-bottom: 6px !important;
          margin-top: 0 !important;
          transform: translateX(-37px) !important;
        }
        .Suggestion {
          color: #fff !important;          /* suggestion text white */
          background-color: rgba(0, 0, 0, 0.25) !important; /* hover background */
        }
        .Suggestion:hover,
        .Suggestion[aria-selected="true"] {
          background-color: rgba(0, 0, 0, 0.5) !important; /* selected item */
        }
      `},this.searchWrapper.nativeElement.appendChild(this.searchBoxElement),this.searchBoxElement.addEventListener("retrieve",n=>{this.handleSearchResult(n)})}toggleSearch(){this.uiService.toggleSearch(),this.uiService.isSearchExpanded()&&setTimeout(()=>this.searchBoxElement.focus(),100)}handleSearchResult(e){console.log(e);let n=e.detail.features[0];this.uiService.closeSearch(),this.searchBoxElement.blur(),console.log("searched for",n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-map-search"]],viewQuery:function(n,r){if(n&1&&ts(SA,7),n&2){let i;vl(i=kl())&&(r.searchWrapper=i.first)}},inputs:{map:"map"},decls:6,vars:8,consts:[["searchWrapper",""],[1,"search-container"],[1,"search-toggle-btn",3,"click"],["color","white",3,"name","size"],[1,"search-input-wrapper"],[1,"search-wrapper"]],template:function(n,r){if(n&1){let i=re();w(0,"div",1)(1,"button",2),A("click",function(a){return D(i),a.stopPropagation(),E(r.toggleSearch())}),F(2,"lucide-icon",3),I(),w(3,"div",4),F(4,"div",5,0),I()()}n&2&&(vi("left",r.uiService.sidePanelWidth()+12,"px"),ge("expanded",r.uiService.isSearchExpanded()),k(2),Y("name",r.SearchIcon)("size",18),k(),ge("show",r.uiService.isSearchExpanded()))},dependencies:[xn,Lr],styles:[".search-container[_ngcontent-%COMP%]{position:absolute;bottom:16px;z-index:100;display:flex;align-items:center;height:37px;width:37px;background:#2d2d32b3;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:.5px solid rgba(255,255,255,.15);border-radius:18.5px;overflow:visible!important;transition:all .4s cubic-bezier(.165,.84,.44,1),left .3s ease;cursor:pointer}.search-container.expanded[_ngcontent-%COMP%]{width:300px;background:#1e1e23e6}.search-toggle-btn[_ngcontent-%COMP%]{min-width:37px;height:37px;border-radius:50%;background:none;border:none;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;outline:none}.search-toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.search-input-wrapper[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;align-items:center;height:100%;opacity:0;pointer-events:none;transition:opacity .2s ease}.search-container.expanded[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}"]})};var ia=class t{route=Bt.required();onSave=Io();onDelete=Io();save(e){this.onSave.emit({id:this.route().id,name:e})}delete(){this.onDelete.emit(this.route().id)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-route-popup"]],inputs:{route:[1,"route"]},outputs:{onSave:"onSave",onDelete:"onDelete"},decls:8,vars:1,consts:[["nameInput",""],[1,"apple-popup"],[1,"popup-input",3,"keydown.enter","value"],[1,"popup-actions"],[1,"save-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(n,r){if(n&1){let i=re();Ve(0,"div",1)(1,"input",2,0),Zn("keydown.enter",function(){D(i);let a=ct(2);return E(r.save(a.value))}),He(),Ve(3,"div",3)(4,"button",4),Zn("click",function(){D(i);let a=ct(2);return E(r.save(a.value))}),R(5,"Save"),He(),Ve(6,"button",5),Zn("click",function(){return D(i),E(r.delete())}),R(7,"Delete"),He()()()}if(n&2){let i;k(),yl("value",(i=r.route().source)==null?null:i.name())}},styles:["[_nghost-%COMP%]{display:block}.apple-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;min-width:200px}.popup-input[_ngcontent-%COMP%]{background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;padding:8px 12px;font-size:14px;outline:none;transition:border-color .2s}.popup-input[_ngcontent-%COMP%]:focus{border-color:#007aff}.popup-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.save-btn[_ngcontent-%COMP%]{flex:2;background:#007aff;color:#fff;border:none;border-radius:8px;padding:8px;font-weight:600;font-size:13px;cursor:pointer}.delete-btn[_ngcontent-%COMP%]{flex:1;background:#ff453a26;color:#ff453a;border:1px solid rgba(255,69,58,.3);border-radius:8px;padding:8px;font-weight:500;font-size:13px;cursor:pointer}.save-btn[_ngcontent-%COMP%]:hover{background:#0063cc}.delete-btn[_ngcontent-%COMP%]:hover{background:#ff453a40}"]})};var xA=["mapContainer"],DA=(t,e)=>e.id;function EA(t,e){t&1&&F(0,"app-map-search",1),t&2&&Y("map",e)}function TA(t,e){t&1&&R(0," Select a destination visit ")}function LA(t,e){t&1&&R(0," Select a destination visit or an existing route ")}function AA(t,e){if(t&1){let n=re();w(0,"app-visit-popup",11),A("onSave",function(i){D(n);let o=b();return E(o.handlePlaceSave(i))})("onDelete",function(i){D(n);let o=b();return E(o.handleVisitDelete(i))}),I()}t&2&&Y("visit",e)}function RA(t,e){if(t&1){let n=re();w(0,"app-route-popup",12),A("onSave",function(i){D(n);let o=b();return E(o.handleRouteSave(i))})("onDelete",function(i){D(n);let o=b();return E(o.handleRouteDelete(i))}),I()}t&2&&Y("route",e)}function PA(t,e){if(t&1&&F(0,"app-place-tooltip",8),t&2){let n=b();Y("place",n.tripService.hoveredPlace)}}function OA(t,e){if(t&1&&F(0,"app-route-tooltip",7),t&2){let n=b();Y("route",n.tripService.hoveredRoute)}}function NA(t,e){if(t&1&&F(0,"app-place-marker",13),t&2){let n=e.$implicit,r=b(2);Y("place",n)("hoveredPlace",r.tripService.hoveredPlace)("selectedVisit",r.tripService.selectedVisit)("zoom",r.zoom)}}function FA(t,e){t&1&&St(0,NA,1,4,"app-place-marker",13,DA),t&2&&xt(e.placesArray())}function VA(t,e){if(t&1){let n=re();w(0,"button",16),A("click",function(i){let o=D(n).$implicit,a=b(2);return i.stopPropagation(),E(a.handleTypeSelection(o))}),F(1,"lucide-icon",17),I()}if(t&2){let n=e.$implicit,r=b(2);k(),Y("name",r.getRouteIcon(n))("size",18)}}function jA(t,e){if(t&1&&(w(0,"div",14),St(1,VA,2,2,"button",15,Ja),I()),t&2){let n=b();vi("left",n.selectorPos().x,"px")("top",n.selectorPos().y,"px"),k(),xt(n.availableTypes)}}var g1=class t{authService=f(Rn);tripService=f(tt);uiService=f(Ut);platformId=f(Wn);injector=f(Ie);mapbox;map=g(null);center=g(f8);zoom=g(y8);layerManager;interactionManager;iconLoader;markerElements=F4(ea);mapContainer=bo.required("mapContainer");visitPopupEl=bo(Jo,{read:ue});routePopupEl=bo(ia,{read:ue});placeTooltipEl=bo(ta,{read:ue});routeTooltipEl=bo(na,{read:ue});selectorVisible=g(!1);selectorPos=g({x:0,y:0});isMapVisible=g(!1);layersReady=g(!1);markers=new Map;routeIconMap={flying:"plane",bus:"bus",train:"train-front",driving:"car",boat:"ship"};availableTypes=["flying","bus","train","driving","boat"];constructor(){Ee(()=>this.syncUI()),Ee(()=>this.syncTheme()),Ee(()=>this.syncMarkers()),Ee(()=>this.syncRoutes()),Ee(()=>this.syncSelectedVisit()),Ee(()=>this.syncDrawer())}async ngOnInit(){Hl(this.platformId)&&await this.initializeMap()}async initializeMap(){console.log("Initialize map."),this.mapbox=(await import("./chunk-XCCOAETQ.js")).default,this.mapbox.accessToken=An.mapboxToken;let e=new this.mapbox.Map({container:this.mapContainer().nativeElement,style:`mapbox://styles/mapbox/${cn.LOGGED_OUT}`,center:this.center(),zoom:this.zoom(),config:{basemap:{lightPreset:"night"}}});e.on("load",()=>{this.interactionManager=new nc(e,this.mapbox,this.tripService,this.uiService,this.visitPopupEl,this.routePopupEl,this.placeTooltipEl,this.routeTooltipEl,this.selectorVisible,this.selectorPos,this.injector),this.interactionManager.attachGlobalListeners(this.center,this.zoom)}),e.on("style.load",async()=>{this.layersReady.set(!1),this.iconLoader||(this.iconLoader=new f1(e)),this.layerManager||(this.layerManager=new p1(e,this.authService)),this.interactionManager||(this.interactionManager=new nc(e,this.mapbox,this.tripService,this.uiService,this.visitPopupEl,this.routePopupEl,this.placeTooltipEl,this.routeTooltipEl,this.selectorVisible,this.selectorPos,this.injector)),await this.iconLoader.loadRouteIcons();let n=at(()=>this.tripService.trip()?.routesGeoJson());this.layerManager.initializeRouteLayers(n),this.interactionManager?.attachLayerListeners(),this.layersReady.set(!0),this.isMapVisible.set(!0)}),this.map.set(e)}syncDrawer(){let e=this.tripService.drawingState(),n=this.layersReady(),r=this.map();!n||!r||(e.active?(r.getCanvas().style.cursor="crosshair",r.setLayoutProperty("drawing-line-layer","visibility","visible")):(r.getCanvas().style.cursor="",r.setLayoutProperty("drawing-line-layer","visibility","none"),r.getSource("drawing-line")?.setData({type:"FeatureCollection",features:[]})))}syncUI(){let e=this.uiService.sidePanelWidth(),n=this.map();n&&n.easeTo({padding:{left:e},duration:500})}syncTheme(){let e=this.authService.isOfflineMode(),n=this.authService.user(),r=this.tripService.plan();this.map()&&this.layerManager?.updateStyle(n,r)}syncSelectedVisit(){this.tripService.selectedVisit()&&this.interactionManager.handleMarkerUnhover()}syncMarkers(){let e=this.map(),n=this.tripService.trip();!e||!n||setTimeout(()=>{let r=this.markerElements();!r||r.length===0||this.updateMarkers(n.placesArray()??[],r)},0)}syncRoutes(){let e=this.tripService.trip()?.routesGeoJson();this.layersReady()&&e&&this.layerManager&&this.layerManager.updateRouteData(e)}handleEsc(e){this.tripService.drawingState().active&&this.interactionManager?.cancelDrawing()}updateMarkers(e,n){let r=this.map();!r||!this.interactionManager||(n.forEach(i=>{let o=i.elementRef.nativeElement,a=i.place(),s=a.id;this.markers.has(s);{let c=new this.mapbox.Marker({element:o}).setLngLat([a.lng,a.lat]).addTo(r);this.markers.set(s,c),i.setResources(this.interactionManager,c)}}),this.markers.forEach((i,o)=>{e.find(a=>a.id===o)||(i.remove(),console.log("deleting marker"),this.markers.delete(o))}))}handleTypeSelection(e){this.interactionManager.handleTypeSelection(e)}handlePlaceSave(e){console.log("place saved from its popup.",e),this.tripService.selectedVisit.set(null)}handleVisitDelete(e){console.log("visit deleted from its popup."),confirm("Are you sure?")&&this.tripService.selectedVisit.set(null)}handleRouteSave(e){console.log("route saved from its popup.",e),this.interactionManager.closeActiveRoutePopup()}handleRouteDelete(e){console.log("route deleted from its popup."),confirm("Are you sure?")&&this.interactionManager.closeActiveRoutePopup()}getRouteIcon(e){return e&&this.routeIconMap[e.toLowerCase()]||"milestone"}ngOnDestroy(){this.interactionManager?.destroy();let e=this.map();e&&e.remove(),this.map.set(null)}getInitialStyle(){let e=this.authService.user(),n=this.tripService.plan();return e?n?cn.ACTIVE_TRIP:cn.LOGGED_IN:cn.LOGGED_OUT}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-map"]],viewQuery:function(n,r){n&1&&Ml(r.markerElements,ea,5)(r.mapContainer,xA,5)(r.visitPopupEl,Jo,5,ue)(r.routePopupEl,ia,5,ue)(r.placeTooltipEl,ta,5,ue)(r.routeTooltipEl,na,5,ue),n&2&&B0(6)},hostBindings:function(n,r){n&1&&A("keydown.escape",function(o){return r.handleEsc(o)},c0)},decls:15,vars:12,consts:[["mapContainer",""],[3,"map"],[1,"map-wrapper",2,"position","relative","width","100%","height","100%"],["id","map-container",1,"map-container"],[1,"map-interaction-overlay"],[1,"hint-toast"],[3,"visit"],[3,"route"],[3,"place"],[2,"position","absolute","left","-9999px"],[1,"route-type-selector",3,"left","top"],[3,"onSave","onDelete","visit"],[3,"onSave","onDelete","route"],[3,"place","hoveredPlace","selectedVisit","zoom"],[1,"route-type-selector"],[1,"icon-btn"],[1,"icon-btn",3,"click"],[3,"name","size"]],template:function(n,r){if(n&1&&($(0,EA,1,1,"app-map-search",1),w(1,"div",2),F(2,"div",3,0),w(4,"div",4)(5,"div",5),$(6,TA,1,0)(7,LA,1,0),I()()(),$(8,AA,1,1,"app-visit-popup",6),$(9,RA,1,1,"app-route-popup",7),$(10,PA,1,1,"app-place-tooltip",8),$(11,OA,1,1,"app-route-tooltip",7),w(12,"div",9),$(13,FA,2,0),I(),$(14,jA,3,4,"div",10)),n&2){let i,o,a,s;W((i=r.map())?0:-1,i),k(2),ge("visible",r.isMapVisible()),k(2),ge("active",r.tripService.drawingState().active),k(2),W(r.tripService.drawingState().preselectedRoute?6:7),k(2),W((o=r.tripService.selectedVisit())?8:-1,o),k(),W((a=!r.tripService.selectedVisit()&&r.tripService.selectedRoute())?9:-1,a),k(),W(!r.tripService.selectedVisit()&&!r.tripService.selectedRoute()&&!r.tripService.hoveredRoute()&&r.tripService.hoveredPlace()?10:-1),k(),W(!r.tripService.selectedVisit()&&!r.tripService.selectedRoute()&&!r.tripService.hoveredPlace()&&r.tripService.hoveredRoute()?11:-1),k(2),W((s=r.tripService.trip())?13:-1,s),k(),W(r.selectorVisible()?14:-1)}},dependencies:[ft,ea,Jo,ia,ta,na,xn,Lr,y1],styles:["#map-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:100%;opacity:0;transition:opacity 1.2s ease-in-out;background-color:#1a1a1a}#map-container.visible[_ngcontent-%COMP%]{opacity:1}.map-loading[_ngcontent-%COMP%]{opacity:.5}.toolbar[_ngcontent-%COMP%]{background-color:#23374be5;color:#fff;padding:6px 12px;font-family:monospace;z-index:1;position:absolute;top:0;left:0;margin:12px;border-radius:4px}.reset-button[_ngcontent-%COMP%]{background-color:#23374be5;color:#fff;position:absolute;top:45px;z-index:1;left:11px;padding:4px 10px;border-radius:10px;cursor:pointer}  .mapboxgl-popup-content{background:#1e1e23b3!important;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border:.5px solid rgba(255,255,255,.15);border-radius:16px!important;padding:12px!important;box-shadow:0 8px 32px #0006}  .apple-glass-popup .mapboxgl-popup-content{padding:0!important;background:none!important;border:none!important;box-shadow:none!important}  .mapboxgl-popup-tip{border-top-color:#1e1e23b3!important;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px)}.apple-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:150px}.popup-input[_ngcontent-%COMP%]{background:#0000004d;border:.5px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;padding:6px 10px;font-size:14px;outline:none}.popup-input[_ngcontent-%COMP%]:focus{border-color:#007aff80}.save-btn[_ngcontent-%COMP%]{background:#007aff;color:#fff;border:none;border-radius:8px;padding:6px;cursor:pointer;font-weight:500;transition:opacity .2s}.save-btn[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes _ngcontent-%COMP%_tooltipFadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}  .hover-tooltip .mapboxgl-popup-content{background-color:#1e1e23e6!important;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.2);border-radius:8px;padding:6px 12px!important;pointer-events:none!important;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out forwards}  .hover-tooltip .mapboxgl-popup-tip{border-top-color:#1e1e23e6!important;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out forwards}.map-interaction-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;inset:0;background:#0006;pointer-events:none;z-index:10;opacity:0;transition:opacity .3s}.map-interaction-overlay.active[_ngcontent-%COMP%]{opacity:1}.route-type-selector[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;gap:8px;padding:8px;background:#1e1e1ee6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:30px;border:1px solid rgba(255,255,255,.2);transform:translate(-50%,-120%);box-shadow:0 10px 25px #00000080}.route-type-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;transition:background .2s}.route-type-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ffffff1a}.interaction-overlay[_ngcontent-%COMP%]{pointer-events:none;background:radial-gradient(circle,transparent 20%,rgba(0,0,0,.4) 100%)}.drawing-active[_ngcontent-%COMP%]   .mapboxgl-marker[_ngcontent-%COMP%]{cursor:cell;filter:drop-shadow(0 0 10px rgba(0,122,255,.6));transition:transform .2s}.drawing-active[_ngcontent-%COMP%]   .mapboxgl-marker[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.icon-btn[_ngcontent-%COMP%]{cursor:pointer}.hint-toast[_ngcontent-%COMP%]{background:#1e1e23b3;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border:.5px solid rgba(255,255,255,.15);box-shadow:0 8px 32px #0000004d;color:#fff;position:absolute;top:12px;height:37px;left:50%;transform:translate(-50%);padding:6px 14px;border-radius:2rem;white-space:nowrap;font-weight:500;font-size:14px}"]})};var HA=()=>[],v8=(t,e)=>e.id;function zA(t,e){if(t&1){let n=re();F(0,"div",8),w(1,"div",5),A("click",function(i){D(n);let o=b(2);return E(o.togglePlanMenu(i))}),w(2,"span",6),R(3),I()()}if(t&2){let n,r=b(2);k(),ge("active",r.showPlanMenu),k(2),ze(((n=r.tripService.plan())==null?null:n.name())||"Select Plan")}}function BA(t,e){t&1&&F(0,"div",19)}function qA(t,e){if(t&1){let n=re();w(0,"div",14),Ya(1,BA,1,0,"div",15),w(2,"div",16),R(3,"\u22EE\u22EE"),I(),w(4,"input",17,1),A("change",function(i){let o=D(n).$implicit,a=b(3);return E(a.renameTrip(o,i.target.value))})("keydown.enter",function(){D(n);let i=ct(5);return E(i.blur())})("keydown.escape",function(){let i=D(n).$implicit,o=ct(5);return o.value=i.name,E(o.blur())})("focus",function(i){return D(n),E(i.target.select())}),I(),w(6,"button",18),A("click",function(){let i=D(n).$implicit,o=b(3);return E(o.selectTrip(i))}),R(7,"\u2794"),I()()}if(t&2){let n,r=e.$implicit;b();let i=ct(4),o=b(2);ge("selected",r.id===((n=o.tripService.trip())==null?null:n.id)),Y("cdkDragBoundary",i),k(4),Y("value",r.name)}}function UA(t,e){if(t&1){let n=re();w(0,"div",7)(1,"div",9),R(2,"My Trips"),I(),w(3,"div",10,0),A("cdkDropListDropped",function(i){D(n);let o=b(2);return E(o.dropTrip(i))}),St(5,qA,8,4,"div",11,v8),I(),w(7,"button",12),A("click",function(){D(n);let i=b(2);return E(i.addTrip())}),w(8,"span",13),R(9,"+"),I(),R(10," Add New Trip "),I()()}if(t&2){let n=b(2);k(3),Y("cdkDropListConnectedTo",rs(1,HA)),k(2),xt(n.tripService.trips())}}function $A(t,e){t&1&&F(0,"div",19)}function WA(t,e){if(t&1){let n=re();w(0,"div",21),A("click",function(){let i=D(n).$implicit,o=b(3);return E(o.selectPlan(i))}),Ya(1,$A,1,0,"div",15),w(2,"div",22),R(3,"\u22EE\u22EE"),I(),w(4,"input",23,2),A("click",function(i){return D(n),E(i.stopPropagation())})("change",function(){let i=D(n).$implicit,o=ct(5),a=b(3);return E(a.renamePlan(i,o.value))})("keydown.enter",function(){D(n);let i=ct(5);return E(i.blur())}),I(),w(6,"div",24),A("click",function(i){return D(n),E(i.stopPropagation())}),w(7,"button",25),A("click",function(i){let o=D(n).$implicit,a=b(3);return E(a.toggleItemMenu(o,i))}),R(8,"\u22EF"),I()()()}if(t&2){let n,r=e.$implicit;b();let i=ct(4),o=b(2);ge("selected",r.id===((n=o.tripService.plan())==null?null:n.id)),Y("cdkDragBoundary",i),k(4),Y("value",r.name)}}function GA(t,e){if(t&1){let n=re();w(0,"div",7)(1,"div",9),R(2),I(),w(3,"div",20,0),A("cdkDropListDropped",function(i){D(n);let o=b(2);return E(o.dropPlan(i))}),St(5,WA,9,4,"div",11,v8),I(),w(7,"button",12),A("click",function(){D(n);let i=b(2);return E(i.addPlan())}),w(8,"span",13),R(9,"+"),I(),R(10," Add New Plan "),I()()}if(t&2){let n,r=b(2);k(2),Et("Plans for ",(n=r.tripService.trip())==null?null:n.name()),k(3),xt(r.tripService.plans())}}function ZA(t,e){if(t&1){let n=re();w(0,"div",3)(1,"div",4)(2,"div",5),A("click",function(i){D(n);let o=b();return E(o.toggleTripMenu(i))}),w(3,"span",6),R(4),I()(),$(5,zA,4,3),I(),$(6,UA,11,2,"div",7),$(7,GA,11,1,"div",7),I()}if(t&2){let n,r=b();k(2),ge("active",r.showTripMenu),k(2),ze(((n=r.tripService.trip())==null?null:n.name())||"Select Trip"),k(),W(r.tripService.trip()?5:-1),k(),W(r.showTripMenu?6:-1),k(),W(r.showPlanMenu&&r.tripService.trip()?7:-1)}}var m1=class t{eRef=f(ue);tripService=f(tt);router=f(Sn);showPlanMenu=!1;showTripMenu=!1;activeMenuId=g(null);constructor(){}onDocumentClick(e){this.eRef.nativeElement.contains(e.target)||(this.showPlanMenu=!1,this.showTripMenu=!1,this.activeMenuId.set(null))}onEscape(){this.showPlanMenu=!1,this.showTripMenu=!1}toggleTripMenu(e){e.stopPropagation(),this.showPlanMenu=!1,this.showTripMenu=!this.showTripMenu}togglePlanMenu(e){e.stopPropagation(),this.showTripMenu=!1,this.showPlanMenu=!this.showPlanMenu}toggleItemMenu(e,n){n.stopPropagation(),this.activeMenuId()===e.id?this.activeMenuId.set(null):this.activeMenuId.set(e.id)}selectTrip(e){console.log("select trip."),this.router.navigate(["trip",e.id]),this.showTripMenu=!1}selectPlan(e){console.log("select plan.");let n=this.tripService.trip();n&&this.router.navigate(["trip",n.id,e.id]),this.showPlanMenu=!1}renameTrip(e,n){console.log("rename trip."),e.name=n}renamePlan(e,n){console.log("rename plan."),e.name=n}dropPlan(e){console.log("dropped plan.")}dropTrip(e){console.log("dropped trip.")}addTrip(){console.log("add trip")}addPlan(){console.log("add plan");let e=this.tripService.trip()}copyPlan(e,n){console.log("copy plan",e.id),n.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-trip-bubble"]],hostBindings:function(n,r){n&1&&A("click",function(o){return r.onDocumentClick(o)},fo)("keydown.escape",function(){return r.onEscape()},fo)},decls:1,vars:1,consts:[["listBoundary",""],["tripInput",""],["planInput",""],[1,"bubble-pill-container"],[1,"bubble-pill"],[1,"pill-segment",3,"click"],[1,"value"],[1,"bubble-dropdown","shadow-lg"],[1,"pill-divider"],[1,"dropdown-header"],["cdkDropList","",1,"drag-list",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"cdkDragBoundary","selected"],[1,"add-btn",3,"click"],[1,"plus"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"cdkDragBoundary"],["class","drag-placeholder",4,"cdkDragPlaceholder"],["cdkDragHandle","",1,"drag-handle"],["type","text",1,"edit-input",3,"change","keydown.enter","keydown.escape","focus","value"],[1,"select-btn",3,"click"],[1,"drag-placeholder"],["cdkDropList","",1,"drag-list",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"click","cdkDragBoundary"],[1,"drag-indicator"],["type","text",1,"edit-input",3,"click","change","keydown.enter","value"],[1,"item-actions",3,"click"],[1,"action-trigger",3,"click"]],template:function(n,r){n&1&&$(0,ZA,8,6,"div",3),n&2&&W(r.tripService.trips()?0:-1)},dependencies:[ft,Qo,h1,Xo,u1,p8],styles:["[_nghost-%COMP%]{display:block;margin-top:12px;display:flex;justify-content:center}.bubble-pill[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:50px;padding:6px 0;cursor:default;position:relative;max-width:calc(100vw - 120px);z-index:1001;background:#1e1e23b3;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border:.5px solid rgba(255,255,255,.15);box-shadow:0 8px 32px #0000004d;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.pill-segment[_ngcontent-%COMP%]:hover{background:#ffffff1a}.pill-segment[_ngcontent-%COMP%]:active{background:#ffffff26;transform:scale(.98)}.pill-segment[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 8px;margin:0 7px;cursor:pointer;border-radius:40px;transition:background .2s cubic-bezier(.25,1,.5,1)}.pill-segment[_ngcontent-%COMP%]:hover, .pill-segment[_ngcontent-%COMP%]:active{background:#ffffff1a}.label[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;color:#ffffff80;letter-spacing:1px}.value[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.pill-divider[_ngcontent-%COMP%]{width:1px;height:24px;background:#ffffff1a}.bubble-dropdown[_ngcontent-%COMP%]{position:absolute;top:60px;left:50%;z-index:1002;transform:translate(-50%);background:#2d2d32d9;backdrop-filter:blur(40px) saturate(180%);-webkit-backdrop-filter:blur(40px) saturate(180%);border-radius:20px;width:300px;padding:12px;border:.5px solid rgba(255,255,255,.15);box-shadow:0 15px 45px #0006;color:#fff}.dropdown-header[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;color:#fff6;padding:4px 12px 12px;letter-spacing:.8px;font-weight:600}.drag-list[_ngcontent-%COMP%]{display:block;min-height:50px}.drag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;border-radius:12px;background:transparent;margin-bottom:4px;transition:background .2s cubic-bezier(.25,1,.5,1)}.drag-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.drag-item.selected[_ngcontent-%COMP%]{background:#ffffff26;box-shadow:0 0 0 .5px #ffffff1a}.drag-handle[_ngcontent-%COMP%]{cursor:grab;margin-right:12px;color:#ffffff4d;font-size:18px;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.edit-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:1px solid transparent;color:#fff;font-size:14px;padding:6px 8px;border-radius:8px;outline:none;font-family:inherit;transition:background .2s}.edit-input[_ngcontent-%COMP%]:focus{background:#0003;border:.5px solid rgba(255,255,255,.2)}.select-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;width:32px;height:32px;border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-left:8px;transition:background .2s,transform .1s}.select-btn[_ngcontent-%COMP%]:hover{background:#fff3}.select-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.1;background:#ffffff0d;border:1px dashed rgba(255,255,255,.2);border-radius:12px;min-height:51px;margin-bottom:4px}.cdk-drag-preview[_ngcontent-%COMP%]{background:#2d2d32f2!important;-webkit-backdrop-filter:blur(30px) saturate(180%);backdrop-filter:blur(30px) saturate(180%);box-shadow:0 10px 40px #0009;border-radius:12px;color:#fff;padding:8px 12px;border:.5px solid rgba(255,255,255,.2);display:flex;align-items:center;font-family:-apple-system,sans-serif;width:280px;box-sizing:border-box}.item-actions[_ngcontent-%COMP%]{display:flex;gap:4px;margin-left:8px}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff6;font-size:14px;cursor:pointer;padding:4px;border-radius:6px;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}.add-btn[_ngcontent-%COMP%]{width:100%;margin-top:8px;padding:10px;background:#ffffff0d;border:1px dashed rgba(255,255,255,.2);border-radius:12px;color:#fff9;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s}.add-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff;border-color:#fff6}.add-btn[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-right:6px;font-size:16px}.drag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;border-radius:12px;gap:10px;cursor:grab;-webkit-user-select:none;user-select:none;transition:background .2s,transform .2s}.drag-item[_ngcontent-%COMP%]:active{cursor:grabbing}.drag-indicator[_ngcontent-%COMP%]{color:#fff3;font-size:16px;flex-shrink:0}.edit-input[_ngcontent-%COMP%]{cursor:text;flex:1;background:transparent;border:none;color:#fff;outline:none}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;opacity:.9;transform:scale(1.02)}.edit-input[_ngcontent-%COMP%], .item-actions[_ngcontent-%COMP%]{pointer-events:auto}"]})};function KA(t,e){t&1&&F(0,"div",4)}function YA(t,e){t&1&&(w(0,"span",11),R(1,"Offline"),I())}function XA(t,e){if(t&1){let n=re();w(0,"div",5)(1,"div",6)(2,"img",7),A("error",function(i){D(n);let o=b(),a=b();return E(a.handleImageError(i,o))}),I(),w(3,"div",8)(4,"div",9)(5,"span",10),R(6),I(),$(7,YA,2,0,"span",11),I(),w(8,"span",12),R(9),I()()(),F(10,"div",13),w(11,"button",14),A("click",function(){D(n);let i=b(2);return E(i.authService.logout())}),F(12,"lucide-icon",15),R(13," Sign out "),I()()}if(t&2){let n=b(),r=b();k(2),Y("src",n.photoURL,Jd),k(4),ze(n.displayName),k(),W(r.authService.isOfflineMode()?7:-1),k(2),ze(n.email),k(3),Y("name",r.LogOut)}}function QA(t,e){if(t&1){let n=re();pl(0),w(1,"div",2),A("click",function(i){D(n);let o=b();return E(o.toggleMenu(i))}),w(2,"img",3),A("error",function(i){let o=D(n),a=b();return E(a.handleImageError(i,o))}),I(),$(3,KA,1,0,"div",4),I(),$(4,XA,14,5,"div",5),fl()}if(t&2){let n=b();k(),ge("active",n.showMenu)("offline-mode",n.authService.isOfflineMode()),k(),Y("src",e.photoURL,Jd),k(),W(n.authService.isOfflineMode()?3:-1),k(),W(n.showMenu?4:-1)}}function JA(t,e){if(t&1){let n=re();w(0,"button",16),A("click",function(){D(n);let i=b();return E(i.handleLogin())}),F(1,"img",17),w(2,"span"),R(3,"Sign in"),I()()}}var v1=class t{constructor(e,n){this.authService=e;this.eRef=n}showMenu=!1;LogOut=BM;async handleLogin(){this.showMenu=!1;try{await this.authService.login()}catch(e){console.error("Login failed",e)}}toggleMenu(e){e.stopPropagation(),this.showMenu=!this.showMenu}clickout(e){this.showMenu&&!this.eRef.nativeElement.contains(e.target)&&(this.showMenu=!1)}handleImageError(e,n){let r=n.displayName||"User";e.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r)}&background=555&color=fff`}static \u0275fac=function(n){return new(n||t)(je(Rn),je(ue))};static \u0275cmp=ie({type:t,selectors:[["app-auth-widget"]],hostBindings:function(n,r){n&1&&A("click",function(o){return r.clickout(o)},fo)},decls:3,vars:1,consts:[[1,"auth-wrapper"],[1,"google-signin-btn"],[1,"profile-trigger",3,"click"],[1,"avatar",3,"error","src"],["title","Offline Mode",1,"status-indicator","offline"],[1,"menu-card"],[1,"menu-header"],["alt","Profile",1,"avatar-large",3,"error","src"],[1,"user-details"],[1,"name-row"],[1,"name"],[1,"offline-tag"],[1,"email"],[1,"menu-divider"],[1,"menu-item",3,"click"],[1,"icon-left",3,"name"],[1,"google-signin-btn",3,"click"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","G",1,"google-icon"]],template:function(n,r){if(n&1&&(w(0,"div",0),$(1,QA,5,7,"ng-container")(2,JA,4,0,"button",1),I()),n&2){let i;k(),W((i=r.authService.user())?1:2,i)}},dependencies:[ft,xn,Lr],styles:[".auth-wrapper[_ngcontent-%COMP%]{font-family:Inter,sans-serif;position:absolute;right:0;z-index:2000}.profile-trigger[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;cursor:pointer;border-radius:50%;display:flex;align-items:center;justify-content:center;border:3px solid transparent;background:linear-gradient(#fff,#fff) padding-box,conic-gradient(#ea4335 0deg 45deg,#4285f4 45deg 135deg,#34a853 135deg 235deg,#fbbc05 235deg 305deg,#ea4335 305deg 360deg) border-box;box-shadow:0 4px 10px #0003}.profile-trigger[_ngcontent-%COMP%]:hover, .google-signin-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.menu-card[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;width:260px;background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;padding:16px;overflow:hidden}.menu-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.avatar-large[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%}.name[_ngcontent-%COMP%]{font-weight:700;display:block;font-size:14px}.email[_ngcontent-%COMP%]{font-size:12px;color:#666}.menu-divider[_ngcontent-%COMP%]{height:1px;background:#eee;margin:12px 0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;padding:8px 16px;width:100%;border:none;background:#f1f3f4;border-radius:8px;cursor:pointer;font-weight:500;color:#3c4043;transition:all .2s;margin-top:8px}.menu-item[_ngcontent-%COMP%]:hover{background:#e8f0fe;color:#1967d2}.icon-left[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0}.google-icon[_ngcontent-%COMP%]{width:25px;height:25px;flex-shrink:0;display:block}.google-signin-btn[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;gap:12px;white-space:nowrap;width:max-content;padding:8px 8px 8px 5px;cursor:pointer;font-weight:500;border:3px solid transparent;background:linear-gradient(#fff,#fff) padding-box,conic-gradient(#ea4335 0deg 45deg,#4285f4 45deg 135deg,#34a853 135deg 235deg,#fbbc05 235deg 305deg,#ea4335 305deg 360deg) border-box;border-radius:24px;box-shadow:0 2px 4px #0000001a;transition:transform .2s}.status-indicator.offline[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;width:10px;height:10px;background-color:#f59e0b;border:2px solid #fff;border-radius:50%}.name-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.offline-tag[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e;font-size:10px;padding:2px 6px;border-radius:4px;font-weight:700;text-transform:uppercase}"]})};var eR=()=>[],tR=(t,e)=>e.id;function nR(t,e){if(t&1){let n=re();w(0,"button",5),A("click",function(){D(n);let i=b();return E(i.uiService.toggleSidebar())}),w(1,"div",6),F(2,"div",7),I()()}}function rR(t,e){if(t&1){let n=re();w(0,"div",8),A("click",function(){D(n);let i=b();return E(i.toggleMobileSheet())}),I()}}function iR(t,e){if(t&1){let n=re();w(0,"div",3)(1,"button",9),A("click",function(){D(n);let i=b();return E(i.uiService.toggleSidebar())}),w(2,"div",6),F(3,"div",7),I()()()}}function oR(t,e){if(t&1&&(w(0,"div",4)(1,"h2"),R(2),I(),w(3,"p"),R(4,"This is where your place info will live."),I()()),t&2){let n=e;k(2),ze(n.place==null?null:n.place.name())}}function aR(t,e){if(t&1&&(w(0,"div",14),R(1),I()),t&2){let n=b();k(),Et(" \u2193 ",n.route==null?null:n.route.nights()," nights in transit ")}}function sR(t,e){t&1&&F(0,"div",15)}function cR(t,e){if(t&1&&$(0,aR,2,1,"div",14)(1,sR,1,0,"div",15),t&2){let n=e;W(((n.route==null?null:n.route.nights())??0)>0?0:1)}}function dR(t,e){if(t&1&&(w(0,"div",11)(1,"div",12),R(2),Cl(3,"date"),Cl(4,"date"),I(),w(5,"div",13)(6,"strong"),R(7),I(),w(8,"p"),R(9),I()(),$(10,cR,2,1),I()),t&2){let n,r=e.$implicit;k(2),br(" ",Il(3,5,r.entryDate(),"MMM d")," - ",Il(4,8,r.exitDate(),"MMM d")," "),k(5),ze(r.place==null?null:r.place.name()),k(2),Et("",r.nights()," nights"),k(),W((n=r.nextTraverse())?10:-1,n)}}function lR(t,e){t&1&&(w(0,"p"),R(1,"No visits planned yet. Start by adding a place!"),I())}function uR(t,e){if(t&1&&(w(0,"div",4)(1,"h2"),R(2,"Your Itinerary"),I(),w(3,"div",10),St(4,dR,11,11,"div",11,tR,!1,lR,2,0,"p"),I()()),t&2){let n,r=b();k(4),xt(((n=r.tripService.plan())==null?null:n.itinerary())??rs(1,eR))}}var k1=class t{tripService=f(tt);uiService=f(Ut);destroy$=new H;sheetState="peek";constructor(){}onDragEnd(e){let n=e.distance.y;n<-100?this.sheetState="open":n>100&&(this.sheetState="peek"),e.source._dragRef.reset()}toggleMobileSheet(){this.sheetState=this.sheetState==="peek"?"open":"peek"}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-side-panel"]],decls:6,vars:14,consts:[[1,"floating-open-btn"],["cdkDrag","","cdkDragLockAxis","y",1,"panel-container",3,"cdkDragEnded","cdkDragDisabled"],[1,"drag-handle"],[1,"header-actions"],[1,"content"],[1,"floating-open-btn",3,"click"],[1,"icon-box"],[1,"sidebar-icon-bar"],[1,"drag-handle",3,"click"],["title","Toggle Sidebar",1,"toggle-btn",3,"click"],[1,"itinerary-list"],[1,"itinerary-item"],[1,"date-badge"],[1,"visit-card"],[1,"transit-info"],[1,"transit-line"]],template:function(n,r){if(n&1&&($(0,nR,3,0,"button",0),w(1,"div",1),A("cdkDragEnded",function(o){return r.onDragEnd(o)}),$(2,rR,1,0,"div",2)(3,iR,4,0,"div",3),$(4,oR,5,1,"div",4)(5,uR,7,2,"div",4),I()),n&2){let i;W(!r.uiService.isSidebarOpen()&&!r.uiService.isMobile()?0:-1),k(),ge("desktop-sidebar",!r.uiService.isMobile())("mobile-sheet",r.uiService.isMobile())("closed",!r.uiService.isSidebarOpen()&&!r.uiService.isMobile())("sheet-open",r.sheetState==="open"&&r.uiService.isMobile())("sheet-peek",r.sheetState==="peek"&&r.uiService.isMobile()),Y("cdkDragDisabled",!r.uiService.isMobile()),k(),W(r.uiService.isMobile()?2:3),k(2),W((i=r.tripService.selectedVisit())?4:5,i)}},dependencies:[ft,Qo,Xo,o2],styles:[".panel-container[_ngcontent-%COMP%]{position:fixed;padding:12px;z-index:1000;display:flex;flex-direction:column;background:#1e1e23b3;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border-right:.5px solid rgba(255,255,255,.1);box-shadow:10px 0 30px #0000004d;transition:transform .4s cubic-bezier(.25,1,.5,1);color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.desktop-sidebar[_ngcontent-%COMP%]{top:15px;left:15px;width:430px;height:calc(100vh - 30px);border-radius:20px;border:.5px solid rgba(255,255,255,.15)}.mobile-sheet[_ngcontent-%COMP%]{bottom:0;left:0;width:100%;height:85vh;border-radius:25px 25px 0 0;transform:translateY(calc(85vh - 80px))}.desktop-sidebar.closed[_ngcontent-%COMP%]{transform:translate(-445px)}.toggle-btn[_ngcontent-%COMP%], .floating-open-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:8px;border-radius:6px;transition:background .2s}.toggle-btn[_ngcontent-%COMP%]:hover, .floating-open-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.drag-handle[_ngcontent-%COMP%]{width:36px;height:5px;background:#fff3;border-radius:10px;margin:10px auto 0;flex-shrink:0}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.icon-box[_ngcontent-%COMP%]{width:20px;height:15px;border:1.2px solid rgba(255,255,255,.9);border-radius:3px;display:flex}.sidebar-icon-bar[_ngcontent-%COMP%]{width:7px;height:100%;border-right:1.2px solid rgba(255,255,255,.9)}.toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:5px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s}.toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.floating-open-btn[_ngcontent-%COMP%]{position:fixed;top:15px;left:15px;z-index:1001;background:#1e1e23b3;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:.5px solid rgba(255,255,255,.1);box-shadow:0 4px 12px #0003}.mobile-sheet[_ngcontent-%COMP%]{bottom:0;left:0;width:100%;height:93vh;position:fixed;transition:transform .4s cubic-bezier(.25,1,.5,1);max-height:93vh}.mobile-sheet.sheet-peek[_ngcontent-%COMP%]{transform:translateY(calc(93vh - 50px))}.mobile-sheet.sheet-open[_ngcontent-%COMP%]{transform:translateY(0)}.panel-container[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none}.cdk-drag-dragging[_ngcontent-%COMP%]{transition:none!important}.content[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.sheet-open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .desktop-sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{opacity:1}"]})};var M1=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-loading-spinner"]],decls:4,vars:0,consts:[[1,"spinner-overlay"],[1,"loader"],[1,"loading-text"]],template:function(n,r){n&1&&(Ve(0,"div",0),mi(1,"div",1),Ve(2,"p",2),R(3,"Loading..."),He()())},styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#fff9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loader[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #4285F4;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-text[_ngcontent-%COMP%]{margin-top:15px;font-family:Inter,sans-serif;font-weight:500;color:#5f6368;letter-spacing:.5px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function hR(t,e){t&1&&F(0,"app-loading-spinner")}function pR(t,e){t&1&&F(0,"app-side-panel")}function fR(t,e){t&1&&F(0,"app-trip-bubble")}var oa=class t{tripService=f(tt);uiService=f(Ut);router=f(Sn);tripId=Bt();planId=Bt();constructor(){Ee(()=>this.syncTripWithUrl()),Ee(()=>this.syncPlanWithUrl())}syncTripWithUrl(){let e=this.tripId();if(!e){this.tripService.clearTrip();return}let n=this.tripService.trip();(!n||n.id!==e)&&(console.log("Loading trip",e),this.tripService.loadTrip(e).subscribe())}syncPlanWithUrl(){let e=this.tripId(),n=this.planId(),r=this.tripService.trip(),i=this.tripService.trips();if(!(!e||!r||r.id!==e)){if(!n&&i){let o=i.find(a=>a.id===e)?.plans[0]?.id;o&&this.router.navigate(["trip",e,o],{replaceUrl:!0});return}n&&this.tripService.plan()?.id!==n&&(console.log("Trip ready, loading plan:",n),this.tripService.loadPlan(n).subscribe())}}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-trip-view"]],inputs:{tripId:[1,"tripId"],planId:[1,"planId"]},decls:7,vars:3,consts:[[1,"viewport-container"],[1,"ui-overlay"]],template:function(n,r){n&1&&(w(0,"div",0),$(1,hR,1,0,"app-loading-spinner"),$(2,pR,1,0,"app-side-panel"),F(3,"app-map"),w(4,"div",1),$(5,fR,1,0,"app-trip-bubble"),F(6,"app-auth-widget"),I()()),n&2&&(k(),W(r.uiService.isLoading()?1:-1),k(),W(r.tripService.trip()&&r.tripService.plan()?2:-1),k(3),W(r.tripService.trips()&&!r.tripService.drawingState().active?5:-1))},dependencies:[ft,g1,m1,v1,k1,M1],styles:[".viewport-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;overflow:hidden}app-map[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.ui-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10;display:flex;flex-direction:column;align-items:center}app-trip-bubble[_ngcontent-%COMP%], app-auth-widget[_ngcontent-%COMP%]{pointer-events:auto}app-auth-widget[_ngcontent-%COMP%]{position:absolute;top:12px;right:16px}.selection-card[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;background:#ffffffe6;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.4);border-radius:24px;padding:40px;box-shadow:0 20px 50px #00000026;text-align:center;pointer-events:auto}h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:24px;color:#202124}p[_ngcontent-%COMP%]{color:#5f6368;margin-bottom:30px}.trip-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:30px;max-height:300px;overflow-y:auto}.trip-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;background:#fff;border:1px solid #e0e0e0;border-radius:16px;cursor:pointer;transition:all .2s ease}.trip-item[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8faff;transform:translateY(-2px);box-shadow:0 4px 12px #4285f41a}.trip-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:15px}.trip-details[_ngcontent-%COMP%]{flex-grow:1;text-align:left;display:flex;flex-direction:column}.trip-name[_ngcontent-%COMP%]{font-weight:600;color:#3c4043}.trip-meta[_ngcontent-%COMP%]{font-size:12px;color:#70757a}.btn-create[_ngcontent-%COMP%]{width:100%;padding:14px;border-radius:12px;border:none;background:#4285f4;color:#fff;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px}"]})};var k8=[{path:"",component:oa},{path:"trip/:tripId",component:oa},{path:"trip/:tripId/:planId",component:oa}];var M8={providers:[np(),$2(k8,G2(),W2({paramsInheritanceStrategy:"always"})),L5(T5()),M2(),Xc(xn.pick({Plane:XM,MapPin:ZM,Moon:YM,Trash2:r3,Bus:AM,Car:RM,Ship:t3,Footprints:HM,Milestone:KM,ChevronUp:NM,ChevronDown:OM,Plus:QM,MoreVertical:FM,ArrowUpRight:LM,Settings2:e3,ArrowLeft:TM,GripVertical:zM,Check:PM,X:i3,Eye:jM,EyeOff:VM,MapPinCheck:qM,MapPinX:GM,MapPinMinus:UM,MapPinPlus:WM,MapPinOff:$M,TrainFront:n3}))]};var w1=class t{title=g("tripl");router=f(Sn);constructor(){this.router.events.subscribe(e=>{e instanceof nr&&console.log("\u{1F680} Navigation Start:",e.url),e instanceof xi&&console.log("\u2705 Route Recognized:",e.state.url)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ie({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&F(0,"router-outlet")},dependencies:[Es],encapsulation:2})};f2(w1,M8).catch(t=>console.error(t));
