import{a as m,b as U,c as Zn}from"./chunk-C6Q5SG76.js";var je=null,ms=!1,Ru=1,T3=null,et=Symbol("SIGNAL");function x(t){let e=je;return je=t,e}function vs(){return je}var fi={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ao(t){if(ms)throw new Error("");if(je===null)return;je.consumerOnSignalRead(t);let e=je.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=je.recomputing;if(r&&(n=e!==void 0?e.nextProducer:je.producers,n!==void 0&&n.producer===t)){je.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===je&&(!r||A3(i,je)))return;let o=gi(je),a={producer:t,consumer:je,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};je.producersTail=a,e!==void 0?e.nextProducer=a:je.producers=a,o&&kf(t,a)}function yf(){Ru++}function Pu(t){if(!(gi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ru)){if(!t.producerMustRecompute(t)&&!Po(t)){Au(t);return}t.producerRecomputeValue(t),Au(t)}}function Ou(t){if(t.consumers===void 0)return;let e=ms;ms=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||L3(r)}}finally{ms=e}}function Nu(){return je?.consumerAllowSignalWrites!==!1}function L3(t){t.dirty=!0,Ou(t),t.consumerMarkedDirty?.(t)}function Au(t){t.dirty=!1,t.lastCleanEpoch=Ru}function yi(t){return t&&gf(t),x(t)}function gf(t){t.producersTail=void 0,t.recomputing=!0}function Ro(t,e){x(e),t&&mf(t)}function mf(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(gi(t))do n=Fu(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Po(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Pu(n),r!==n.version))return!0}return!1}function kr(t){if(gi(t)){let e=t.producers;for(;e!==void 0;)e=Fu(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function kf(t,e){let n=t.consumersTail,r=gi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)kf(i.producer,i)}function Fu(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!gi(e)){let o=e.producers;for(;o!==void 0;)o=Fu(o)}return n}function gi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function ju(t){T3?.(t)}function A3(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Hu(t,e){return Object.is(t,e)}function Ms(t,e){let n=Object.create(R3);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Pu(n),Ao(n),n.value===ks)throw n.error;return n.value};return r[et]=n,ju(n),r}var Tu=Symbol("UNSET"),Lu=Symbol("COMPUTING"),ks=Symbol("ERRORED"),R3=U(m({},fi),{value:Tu,dirty:!0,error:null,equal:Hu,kind:"computed",producerMustRecompute(t){return t.value===Tu||t.value===Lu},producerRecomputeValue(t){if(t.value===Lu)throw new Error("");let e=t.value;t.value=Lu;let n=yi(t),r,i=!1;try{r=t.computation(),x(null),i=e!==Tu&&e!==ks&&r!==ks&&t.equal(e,r)}catch(o){r=ks,t.error=o}finally{Ro(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function P3(){throw new Error}var vf=P3;function Mf(t){vf(t)}function Vu(t){vf=t}var O3=null;function zu(t,e){let n=Object.create(ws);n.value=t,e!==void 0&&(n.equal=e);let r=()=>wf(n);return r[et]=n,ju(n),[r,a=>Oo(n,a),a=>If(n,a)]}function wf(t){return Ao(t),t.value}function Oo(t,e){Nu()||Mf(t),t.equal(t.value,e)||(t.value=e,N3(t))}function If(t,e){Nu()||Mf(t),Oo(t,e(t.value))}var ws=U(m({},fi),{equal:Hu,value:void 0,kind:"signal"});function N3(t){t.version++,yf(),Ou(t),O3?.(t)}function Bu(t){let e=x(null);try{return t()}finally{x(e)}}var qu=U(m({},fi),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Uu(t){if(t.dirty=!1,t.version>0&&!Po(t))return;t.version++;let e=yi(t);try{t.cleanup(),t.fn()}finally{Ro(t,e)}}function F(t){return typeof t=="function"}function mi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Is=mi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof Is?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Cf(o)}catch(a){e=e??[],a instanceof Is?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Is(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Cf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vr(n,e)}remove(e){let{_finalizers:n}=this;n&&vr(n,e),e instanceof t&&e._removeParent(this)}};ae.EMPTY=(()=>{let t=new ae;return t.closed=!0,t})();var $u=ae.EMPTY;function Cs(t){return t instanceof ae||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function Cf(t){F(t)?t():t.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ki={setTimeout(t,e,...n){let{delegate:r}=ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bs(t){ki.setTimeout(()=>{let{onUnhandledError:e}=Rt;if(e)e(t);else throw t})}function Mr(){}var bf=Wu("C",void 0,void 0);function _f(t){return Wu("E",void 0,t)}function Sf(t){return Wu("N",t,void 0)}function Wu(t,e,n){return{kind:t,value:e,error:n}}var wr=null;function vi(t){if(Rt.useDeprecatedSynchronousErrorHandling){let e=!wr;if(e&&(wr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=wr;if(wr=null,n)throw r}}else t()}function Df(t){Rt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=t)}var Ir=class extends ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cs(e)&&e.add(this)):this.destination=H3}static create(e,n,r){return new Mi(e,n,r)}next(e){this.isStopped?Zu(Sf(e),this):this._next(e)}error(e){this.isStopped?Zu(_f(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zu(bf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},F3=Function.prototype.bind;function Gu(t,e){return F3.call(t,e)}var Ku=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_s(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_s(r)}else _s(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_s(n)}}},Mi=class extends Ir{constructor(e,n,r){super();let i;if(F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Rt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gu(e.next,o),error:e.error&&Gu(e.error,o),complete:e.complete&&Gu(e.complete,o)}):i=e}this.destination=new Ku(i)}};function _s(t){Rt.useDeprecatedSynchronousErrorHandling?Df(t):bs(t)}function j3(t){throw t}function Zu(t,e){let{onStoppedNotification:n}=Rt;n&&ki.setTimeout(()=>n(t,e))}var H3={closed:!0,next:Mr,error:j3,complete:Mr};var wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pt(t){return t}function Yu(...t){return Xu(t)}function Xu(t){return t.length===0?Pt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var O=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=z3(n)?n:new Mi(n,r,i);return vi(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=xf(r),new r((i,o)=>{let a=new Mi({next:s=>{try{n(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[wi](){return this}pipe(...n){return Xu(n)(this)}toPromise(n){return n=xf(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function xf(t){var e;return(e=t??Rt.Promise)!==null&&e!==void 0?e:Promise}function V3(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}function z3(t){return t&&t instanceof Ir||V3(t)&&Cs(t)}function B3(t){return F(t?.lift)}function W(t){return e=>{if(B3(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $(t,e,n,r,i){return new Qu(t,e,n,r,i)}var Qu=class extends Ir{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(c){e.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Ii={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Ii;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(o=>{n=void 0,t(o)});return new ae(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=Ii;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Ii;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var Ef=mi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var A=(()=>{class t extends O{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ss(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ef}next(n){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$u:(this.currentObservers=null,o.push(n),new ae(()=>{this.currentObservers=null,vr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new O;return n.source=this,n}}return t.create=(e,n)=>new Ss(e,n),t})(),Ss=class extends A{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$u}};var xe=class extends A{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ju={now(){return(Ju.delegate||Date).now()},delegate:void 0};var Ds=class extends ae{constructor(e,n){super()}schedule(e,n=0){return this}};var No={setInterval(t,e,...n){let{delegate:r}=No;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=No;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ci=class extends Ds{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return No.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&No.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};bi.now=Ju.now;var _i=class extends bi{constructor(e,n=bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mn=new _i(Ci),Tf=Mn;var xs=class extends Ci{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ii.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:o}=e;n!=null&&n===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(Ii.cancelAnimationFrame(n),e._scheduled=void 0)}};var Es=class extends _i{flush(e){this._active=!0;let n;e?n=e.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var Ts=new Es(xs);var He=new O(t=>t.complete());function Ls(t){return t&&F(t.schedule)}function e1(t){return t[t.length-1]}function As(t){return F(e1(t))?t.pop():void 0}function Xt(t){return Ls(e1(t))?t.pop():void 0}function Lf(t,e){return typeof e1(t)=="number"?t.pop():e}function Rf(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(l){try{d(r.next(l))}catch(u){a(u)}}function c(l){try{d(r.throw(l))}catch(u){a(u)}}function d(l){l.done?o(l.value):i(l.value).then(s,c)}d((r=r.apply(t,e||[])).next())})}function Af(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cr(t){return this instanceof Cr?(this.v=t,this):new Cr(t)}function Pf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(f){return function(y){return Promise.resolve(y).then(f,u)}}function s(f,y){r[f]&&(i[f]=function(I){return new Promise(function(k,w){o.push([f,I,k,w])>1||c(f,I)})},y&&(i[f]=y(i[f])))}function c(f,y){try{d(r[f](y))}catch(I){h(o[0][3],I)}}function d(f){f.value instanceof Cr?Promise.resolve(f.value.v).then(l,u):h(o[0][2],f)}function l(f){c("next",f)}function u(f){c("throw",f)}function h(f,y){f(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Of(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Af=="function"?Af(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,c){a=t[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(d){o({value:d,done:s})},a)}}var Rs=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ps(t){return F(t?.then)}function Os(t){return F(t[wi])}function Ns(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function Fs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function q3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var js=q3();function Hs(t){return F(t?.[js])}function Vs(t){return Pf(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Cr(n.read());if(i)return yield Cr(void 0);yield yield Cr(r)}}finally{n.releaseLock()}})}function zs(t){return F(t?.getReader)}function le(t){if(t instanceof O)return t;if(t!=null){if(Os(t))return U3(t);if(Rs(t))return $3(t);if(Ps(t))return W3(t);if(Ns(t))return Nf(t);if(Hs(t))return G3(t);if(zs(t))return Z3(t)}throw Fs(t)}function U3(t){return new O(e=>{let n=t[wi]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $3(t){return new O(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function W3(t){return new O(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bs)})}function G3(t){return new O(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Nf(t){return new O(e=>{K3(t,e).catch(n=>e.error(n))})}function Z3(t){return Nf(Vs(t))}function K3(t,e){var n,r,i,o;return Rf(this,void 0,void 0,function*(){try{for(n=Of(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function tt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Bs(t,e=0){return W((n,r)=>{n.subscribe($(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function qs(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ff(t,e){return le(t).pipe(qs(e),Bs(e))}function jf(t,e){return le(t).pipe(qs(e),Bs(e))}function Hf(t,e){return new O(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Vf(t,e){return new O(n=>{let r;return tt(n,e,()=>{r=t[js](),tt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Us(t,e){if(!t)throw new Error("Iterable cannot be null");return new O(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zf(t,e){return Us(Vs(t),e)}function Bf(t,e){if(t!=null){if(Os(t))return Ff(t,e);if(Rs(t))return Hf(t,e);if(Ps(t))return jf(t,e);if(Ns(t))return Us(t,e);if(Hs(t))return Vf(t,e);if(zs(t))return zf(t,e)}throw Fs(t)}function be(t,e){return e?Bf(t,e):le(t)}function S(...t){let e=Xt(t);return be(t,e)}function t1(t,e){let n=F(t)?t:()=>t,r=i=>i.error(n());return new O(e?i=>e.schedule(r,0,i):r)}function Fo(t){return!!t&&(t instanceof O||F(t.lift)&&F(t.subscribe))}var br=mi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function qf(t){return t instanceof Date&&!isNaN(t)}function j(t,e){return W((n,r)=>{let i=0;n.subscribe($(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Y3}=Array;function X3(t,e){return Y3(e)?t(...e):t(e)}function $s(t){return j(e=>X3(t,e))}var{isArray:Q3}=Array,{getPrototypeOf:J3,prototype:ew,keys:tw}=Object;function Ws(t){if(t.length===1){let e=t[0];if(Q3(e))return{args:e,keys:null};if(nw(e)){let n=tw(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function nw(t){return t&&typeof t=="object"&&J3(t)===ew}function Gs(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Si(...t){let e=Xt(t),n=As(t),{args:r,keys:i}=Ws(t);if(r.length===0)return be([],e);let o=new O(rw(r,e,i?a=>Gs(i,a):Pt));return n?o.pipe($s(n)):o}function rw(t,e,n=Pt){return r=>{Uf(e,()=>{let{length:i}=t,o=new Array(i),a=i,s=i;for(let c=0;c<i;c++)Uf(e,()=>{let d=be(t[c],e),l=!1;d.subscribe($(r,u=>{o[c]=u,l||(l=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Uf(t,e,n){t?tt(n,t,e):e()}function $f(t,e,n,r,i,o,a,s){let c=[],d=0,l=0,u=!1,h=()=>{u&&!c.length&&!d&&e.complete()},f=I=>d<r?y(I):c.push(I),y=I=>{o&&e.next(I),d++;let k=!1;le(n(I,l++)).subscribe($(e,w=>{i?.(w),o?f(w):e.next(w)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;c.length&&d<r;){let w=c.shift();a?tt(e,a,()=>y(w)):y(w)}h()}catch(w){e.error(w)}}))};return t.subscribe($(e,f,()=>{u=!0,h()})),()=>{s?.()}}function Pe(t,e,n=1/0){return F(e)?Pe((r,i)=>j((o,a)=>e(r,o,i,a))(le(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>$f(r,i,t,n)))}function Zs(t=1/0){return Pe(Pt,t)}function Wf(){return Zs(1)}function Qt(...t){return Wf()(be(t,Xt(t)))}function jo(t){return new O(e=>{le(t()).subscribe(e)})}function n1(...t){let e=As(t),{args:n,keys:r}=Ws(t),i=new O(o=>{let{length:a}=n;if(!a){o.complete();return}let s=new Array(a),c=a,d=a;for(let l=0;l<a;l++){let u=!1;le(n[l]).subscribe($(o,h=>{u||(u=!0,d--),s[l]=h},()=>c--,void 0,()=>{(!c||!u)&&(d||o.next(r?Gs(r,s):s),o.complete())}))}});return e?i.pipe($s(e)):i}function Di(t=0,e,n=Tf){let r=-1;return e!=null&&(Ls(e)?n=e:r=e),new O(i=>{let o=qf(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function r1(t=0,e=Mn){return t<0&&(t=0),Di(t,t,e)}function Ho(...t){let e=Xt(t),n=Lf(t,1/0),r=t;return r.length?r.length===1?le(r[0]):Zs(n)(be(r,e)):He}function Ve(t,e){return W((n,r)=>{let i=0;n.subscribe($(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Gf(t){return W((e,n)=>{let r=!1,i=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let d=i;i=null,n.next(d)}a&&n.complete()},c=()=>{o=null,a&&n.complete()};e.subscribe($(n,d=>{r=!0,i=d,o||le(t(d)).subscribe(o=$(n,s,c))},()=>{a=!0,(!r||!o||o.closed)&&n.complete()}))})}function Ks(t,e=Mn){return Gf(()=>Di(t,e))}function Vo(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe($(n,void 0,void 0,a=>{o=le(t(a,Vo(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function xi(t,e){return F(e)?Pe(t,e,1):Pe(t,1)}function i1(t,e=Mn){return W((n,r)=>{let i=null,o=null,a=null,s=()=>{if(i){i.unsubscribe(),i=null;let d=o;o=null,r.next(d)}};function c(){let d=a+t,l=e.now();if(l<d){i=this.schedule(void 0,d-l),r.add(i);return}s()}n.subscribe($(r,d=>{o=d,a=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{s(),r.complete()},void 0,()=>{o=i=null}))})}function o1(t){return W((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ze(t){return t<=0?()=>He:W((e,n)=>{let r=0;e.subscribe($(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Zf(){return W((t,e)=>{t.subscribe($(e,Mr))})}function Kf(t){return j(()=>t)}function a1(t,e){return e?n=>Qt(e.pipe(ze(1),Zf()),n.pipe(a1(t))):Pe((n,r)=>le(t(n,r)).pipe(ze(1),Kf(n)))}function rt(t,e=Mn){let n=Di(t,e);return a1(()=>n)}function Yf(t=iw){return W((e,n)=>{let r=!1;e.subscribe($(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function iw(){return new br}function zo(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function wn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ve((i,o)=>t(i,o,r)):Pt,ze(1),n?o1(e):Yf(()=>new br))}function Ys(t){return t<=0?()=>He:W((e,n)=>{let r=[];e.subscribe($(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function s1(t){return Ve((e,n)=>t<=n)}function In(...t){let e=Xt(t);return W((n,r)=>{(e?Qt(t,n,e):Qt(t,n)).subscribe(r)})}function Ee(t,e){return W((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe($(r,c=>{i?.unsubscribe();let d=0,l=o++;le(t(c,l)).subscribe(i=$(r,u=>r.next(e?e(c,u,l,d++):u),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function it(t){return W((e,n)=>{le(t).subscribe($(n,()=>n.complete(),Mr)),!n.closed&&e.subscribe(n)})}function Me(t,e,n){let r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe($(o,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var d;s=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},()=>{var c,d;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Pt}var c1;function Xs(){return c1}function Jt(t){let e=c1;return c1=t,e}var Xf=Symbol("NotFound");function Ei(t){return t===Xf||t?.name==="\u0275NotFound"}var ic="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(e,n){super(Ot(e,n)),this.code=e}};function ow(t){return`NG0${Math.abs(t)}`}function Ot(t,e){return`${ow(t)}${e?": "+e:""}`}function re(t){for(let e in t)if(t[e]===re)return e;throw Error("")}function bn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(bn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function I1(t,e){return t?e?`${t} ${e}`:t:e||""}var aw=re({__forward_ref__:re});function Zo(t){return t.__forward_ref__=Zo,t.toString=function(){return bn(this())},t}function Oe(t){return C1(t)?t():t}function C1(t){return typeof t=="function"&&t.hasOwnProperty(aw)&&t.__forward_ref__===Zo}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function at(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ko(t){return sw(t,oc)}function b1(t){return Ko(t)!==null}function sw(t,e){return t.hasOwnProperty(e)&&t[e]||null}function cw(t){let e=t?.[oc]??null;return e||null}function l1(t){return t&&t.hasOwnProperty(Js)?t[Js]:null}var oc=re({\u0275prov:re}),Js=re({\u0275inj:re}),M=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=v({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _1(t){return t&&!!t.\u0275providers}var S1=re({\u0275cmp:re}),D1=re({\u0275dir:re}),x1=re({\u0275pipe:re}),E1=re({\u0275mod:re}),qo=re({\u0275fac:re}),Tr=re({__NG_ELEMENT_ID__:re}),Qf=re({__NG_ENV_ID__:re});function T1(t){return sc(t,"@NgModule"),t[E1]||null}function Nt(t){return sc(t,"@Component"),t[S1]||null}function ac(t){return sc(t,"@Directive"),t[D1]||null}function L1(t){return sc(t,"@Pipe"),t[x1]||null}function sc(t,e){if(t==null)throw new C(-919,!1)}function Lr(t){return typeof t=="string"?t:t==null?"":String(t)}function ny(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Lr(t)}var ry=re({ngErrorCode:re}),dw=re({ngErrorMessage:re}),lw=re({ngTokenPath:re});function A1(t,e){return iy("",-200,e)}function cc(t,e){throw new C(-201,!1)}function iy(t,e,n){let r=new C(e,t);return r[ry]=e,r[dw]=t,n&&(r[lw]=n),r}function uw(t){return t[ry]}var u1;function oy(){return u1}function ot(t){let e=u1;return u1=t,e}function R1(t,e,n){let r=Ko(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;cc(t,"")}var hw={},_r=hw,h1="__NG_DI_FLAG__",p1=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Sr(n)||0;try{return this.injector.get(e,r&8?null:_r,r)}catch(i){if(Ei(i))return i;throw i}}};function pw(t,e=0){let n=Xs();if(n===void 0)throw new C(-203,!1);if(n===null)return R1(t,void 0,e);{let r=fw(e),i=n.retrieve(t,r);if(Ei(i)){if(r.optional)return null;throw i}return i}}function T(t,e=0){return(oy()||pw)(Oe(t),e)}function p(t,e){return T(t,Sr(e))}function Sr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fw(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function f1(t){let e=[];for(let n=0;n<t.length;n++){let r=Oe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],c=yw(s);typeof c=="number"?c===-1?i=s.token:o|=c:i=s}e.push(T(i,o))}else e.push(T(r))}return e}function ay(t,e){return t[h1]=e,t.prototype[h1]=e,t}function yw(t){return t[h1]}function Dr(t,e){let n=t.hasOwnProperty(qo);return n?t[qo]:null}function sy(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function cy(t){return t.flat(Number.POSITIVE_INFINITY)}function dc(t,e){t.forEach(n=>Array.isArray(n)?dc(n,e):e(n))}function P1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dy(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function ly(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function uy(t,e,n){let r=Li(t,e);return r>=0?t[r|1]=n:(r=~r,ly(t,r,e,n)),r}function lc(t,e){let n=Li(t,e);if(n>=0)return t[n|1]}function Li(t,e){return gw(t,e,1)}function gw(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var Ar={},mt=[],en=new M(""),O1=new M("",-1),N1=new M(""),Uo=class{get(e,n=_r){if(n===_r){let i=iy("",-201);throw i.name="\u0275NotFound",i}return n}};function vt(t){return{\u0275providers:t}}function hy(t){return vt([{provide:en,multi:!0,useValue:t}])}function py(...t){return{\u0275providers:uc(!0,t),\u0275fromNgModule:!0}}function uc(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return dc(e,a=>{let s=a;ec(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&fy(i,o),n}function fy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];F1(i,o=>{e(o,r)})}}function ec(t,e,n,r){if(t=Oe(t),!t)return!1;let i=null,o=l1(t),a=!o&&Nt(t);if(!o&&!a){let c=t.ngModule;if(o=l1(c),o)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=t}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let d of c)ec(d,e,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let d;try{dc(o.imports,l=>{ec(l,e,n,r)&&(d||=[],d.push(l))})}finally{}d!==void 0&&fy(d,e)}if(!s){let d=Dr(i)||(()=>new i);e({provide:i,useFactory:d,deps:mt},i),e({provide:N1,useValue:i,multi:!0},i),e({provide:en,useValue:()=>T(i),multi:!0},i)}let c=o.providers;if(c!=null&&!s){let d=t;F1(c,l=>{e(l,d)})}}else return!1;return i!==t&&t.providers!==void 0}function F1(t,e){for(let n of t)_1(n)&&(n=n.\u0275providers),Array.isArray(n)?F1(n,e):e(n)}var mw=re({provide:String,useValue:re});function yy(t){return t!==null&&typeof t=="object"&&mw in t}function kw(t){return!!(t&&t.useExisting)}function vw(t){return!!(t&&t.useFactory)}function xr(t){return typeof t=="function"}function gy(t){return!!t.useClass}var Xo=new M(""),Qs={},Jf={},d1;function Ai(){return d1===void 0&&(d1=new Uo),d1}var ye=class{},Er=class extends ye{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,g1(e,a=>this.processProvider(a)),this.records.set(O1,Ti(void 0,this)),i.has("environment")&&this.records.set(ye,Ti(void 0,this));let o=this.records.get(Xo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(N1,mt,{self:!0}))}retrieve(e,n){let r=Sr(n)||0;try{return this.get(e,_r,r)}catch(i){if(Ei(i))return i;throw i}}destroy(){Bo(this),this._destroyed=!0;let e=x(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),x(e)}}onDestroy(e){return Bo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Bo(this);let n=Jt(this),r=ot(void 0),i;try{return e()}finally{Jt(n),ot(r)}}get(e,n=_r,r){if(Bo(this),e.hasOwnProperty(Qf))return e[Qf](this);let i=Sr(r),o,a=Jt(this),s=ot(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let l=bw(e)&&Ko(e);l&&this.injectableDefInScope(l)?d=Ti(y1(e),Qs):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let c=i&2?Ai():this.parent;return n=i&8&&n===_r?null:n,c.get(e,n)}catch(c){let d=uw(c);throw d===-200||d===-201?new C(d,null):c}finally{ot(s),Jt(a)}}resolveInjectorInitializers(){let e=x(null),n=Jt(this),r=ot(void 0),i;try{let o=this.get(en,mt,{self:!0});for(let a of o)a()}finally{Jt(n),ot(r),x(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(bn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Oe(e);let n=xr(e)?e:Oe(e&&e.provide),r=ww(e);if(!xr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ti(void 0,Qs,!0),i.factory=()=>f1(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=x(null);try{if(n.value===Jf)throw A1(bn(e));return n.value===Qs&&(n.value=Jf,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Cw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{x(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Oe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function y1(t){let e=Ko(t),n=e!==null?e.factory:Dr(t);if(n!==null)return n;if(t instanceof M)throw new C(204,!1);if(t instanceof Function)return Mw(t);throw new C(204,!1)}function Mw(t){if(t.length>0)throw new C(204,!1);let n=cw(t);return n!==null?()=>n.factory(t):()=>new t}function ww(t){if(yy(t))return Ti(void 0,t.useValue);{let e=j1(t);return Ti(e,Qs)}}function j1(t,e,n){let r;if(xr(t)){let i=Oe(t);return Dr(i)||y1(i)}else if(yy(t))r=()=>Oe(t.useValue);else if(vw(t))r=()=>t.useFactory(...f1(t.deps||[]));else if(kw(t))r=(i,o)=>T(Oe(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Oe(t&&(t.useClass||t.provide));if(Iw(t))r=()=>new i(...f1(t.deps));else return Dr(i)||y1(i)}return r}function Bo(t){if(t.destroyed)throw new C(205,!1)}function Ti(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Iw(t){return!!t.deps}function Cw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function bw(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function g1(t,e){for(let n of t)Array.isArray(n)?g1(n,e):n&&_1(n)?g1(n.\u0275providers,e):e(n)}function Ne(t,e){let n;t instanceof Er?(Bo(t),n=t):n=new p1(t);let r,i=Jt(n),o=ot(void 0);try{return e()}finally{Jt(i),ot(o)}}function my(){return oy()!==void 0||Xs()!=null}var Ge=0,b=1,P=2,we=3,Mt=4,Ze=5,Ke=6,Ri=7,Ce=8,st=9,tn=10,ie=11,Pi=12,H1=13,Rr=14,Fe=15,Xn=16,Pr=17,nn=18,Qo=19,V1=20,Cn=21,hc=22,Kn=23,ct=24,Or=25,Nr=26,te=27,ky=1,Ft=6,rn=7,Jo=8,Fr=9,ge=10;function dt(t){return Array.isArray(t)&&typeof t[ky]=="object"}function lt(t){return Array.isArray(t)&&t[ky]===!0}function z1(t){return(t.flags&4)!==0}function Sn(t){return t.componentOffset>-1}function Oi(t){return(t.flags&1)===1}function Qn(t){return!!t.template}function jr(t){return(t[P]&512)!==0}function Jn(t){return(t[P]&256)===256}var vy="svg",My="math";function ut(t){for(;Array.isArray(t);)t=t[Ge];return t}function B1(t,e){return ut(e[t])}function wt(t,e){return ut(e[t.index])}function Hr(t,e){return t.data[e]}function wy(t,e){return t[e]}function It(t,e){let n=e[t];return dt(n)?n:n[Ge]}function Iy(t){return(t[P]&4)===4}function pc(t){return(t[P]&128)===128}function Cy(t){return lt(t[we])}function Ct(t,e){return e==null?null:t[e]}function q1(t){t[Pr]=0}function U1(t){t[P]&1024||(t[P]|=1024,pc(t)&&Vr(t))}function by(t,e){for(;t>0;)e=e[Rr],t--;return e}function ea(t){return!!(t[P]&9216||t[ct]?.dirty)}function fc(t){t[tn].changeDetectionScheduler?.notify(8),t[P]&64&&(t[P]|=1024),ea(t)&&Vr(t)}function Vr(t){t[tn].changeDetectionScheduler?.notify(0);let e=Yn(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!pc(e)));)e=Yn(e)}function $1(t,e){if(Jn(t))throw new C(911,!1);t[Cn]===null&&(t[Cn]=[]),t[Cn].push(e)}function _y(t,e){if(t[Cn]===null)return;let n=t[Cn].indexOf(e);n!==-1&&t[Cn].splice(n,1)}function Yn(t){let e=t[we];return lt(e)?e[we]:e}function W1(t){return t[Ri]??=[]}function G1(t){return t.cleanup??=[]}function Sy(t,e,n,r){let i=W1(e);i.push(n),t.firstCreatePass&&G1(t).push(r,i.length-1)}var z={lFrame:Vy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var m1=!1;function Dy(){return z.lFrame.elementDepthCount}function xy(){z.lFrame.elementDepthCount++}function Z1(){z.lFrame.elementDepthCount--}function yc(){return z.bindingsEnabled}function gc(){return z.skipHydrationRootTNode!==null}function K1(t){return z.skipHydrationRootTNode===t}function Ey(t){z.skipHydrationRootTNode=t}function Y1(){z.skipHydrationRootTNode=null}function H(){return z.lFrame.lView}function _e(){return z.lFrame.tView}function B(t){return z.lFrame.contextLView=t,t[Ce]}function q(t){return z.lFrame.contextLView=null,t}function Be(){let t=X1();for(;t!==null&&t.type===64;)t=t.parent;return t}function X1(){return z.lFrame.currentTNode}function Ty(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ni(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function Q1(){return z.lFrame.isParent}function J1(){z.lFrame.isParent=!1}function Ly(){return z.lFrame.contextLView}function eh(){return m1}function $o(t){let e=m1;return m1=t,e}function Ay(){let t=z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ry(){return z.lFrame.bindingIndex}function Py(t){return z.lFrame.bindingIndex=t}function zr(){return z.lFrame.bindingIndex++}function th(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Oy(){return z.lFrame.inI18n}function Ny(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,mc(e)}function Fy(){return z.lFrame.currentDirectiveIndex}function mc(t){z.lFrame.currentDirectiveIndex=t}function jy(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function nh(){return z.lFrame.currentQueryIndex}function kc(t){z.lFrame.currentQueryIndex=t}function _w(t){let e=t[b];return e.type===2?e.declTNode:e.type===1?t[Ze]:null}function rh(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=_w(o),i===null||(o=o[Rr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=z.lFrame=Hy();return r.currentTNode=e,r.lView=t,!0}function vc(t){let e=Hy(),n=t[b];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Hy(){let t=z.lFrame,e=t===null?null:t.child;return e===null?Vy(t):e}function Vy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zy(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ih=zy;function Mc(){let t=zy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function By(t){return(z.lFrame.contextLView=by(t,z.lFrame.contextLView))[Ce]}function Dn(){return z.lFrame.selectedIndex}function er(t){z.lFrame.selectedIndex=t}function wc(){let t=z.lFrame;return Hr(t.tView,t.selectedIndex)}function oh(){return z.lFrame.currentNamespace}var qy=!0;function Ic(){return qy}function xn(t){qy=t}function k1(t,e=null,n=null,r){let i=ah(t,e,n,r);return i.resolveInjectorInitializers(),i}function ah(t,e=null,n=null,r,i=new Set){let o=[n||mt,py(t)];return r=r||(typeof t=="object"?void 0:bn(t)),new Er(o,e||Ai(),r||null,i)}var Ie=class t{static THROW_IF_NOT_FOUND=_r;static NULL=new Uo;static create(e,n){if(Array.isArray(e))return k1({name:""},n,e,"");{let r=e.name??"";return k1({name:r},e.parent,e.providers,r)}}static \u0275prov=v({token:t,providedIn:"any",factory:()=>T(O1)});static __NG_ELEMENT_ID__=-1},oe=new M(""),qe=(()=>{class t{static __NG_ELEMENT_ID__=Sw;static __NG_ENV_ID__=n=>n}return t})(),tc=class extends qe{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Jn(this._lView)}onDestroy(e){let n=this._lView;return $1(n,e),()=>_y(n,e)}};function Sw(){return new tc(H())}var Uy=!1,on=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new xe(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new O(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=v({token:t,providedIn:"root",factory:()=>new t})}return t})(),v1=class extends A{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,my()&&(this.destroyRef=p(qe,{optional:!0})??void 0,this.pendingTasks=p(on,{optional:!0})??void 0)}emit(e){let n=x(null);try{super.next(e)}finally{x(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return e instanceof ae&&e.add(s),s}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},se=v1;function nc(...t){}function sh(t){let e,n;function r(){t=nc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ch(t){return queueMicrotask(()=>t()),()=>{t=nc}}var dh="isAngularZone",Wo=dh+"_ID",Dw=0,fe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new se(!1);onMicrotaskEmpty=new se(!1);onStable=new se(!1);onError=new se(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Uy}=e;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,Tw(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,xw,nc,nc);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},xw={};function lh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ew(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){sh(()=>{t.callbackScheduled=!1,M1(t),t.isCheckStableRunning=!0,lh(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),M1(t)}function Tw(t){let e=()=>{Ew(t)},n=Dw++;t._inner=t._inner.fork({name:"angular",properties:{[dh]:!0,[Wo]:n,[Wo+n]:!0},onInvokeTask:(r,i,o,a,s,c)=>{if(Lw(c))return r.invokeTask(o,a,s,c);try{return ey(t),r.invokeTask(o,a,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),ty(t)}},onInvoke:(r,i,o,a,s,c,d)=>{try{return ey(t),r.invoke(o,a,s,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Aw(c)&&e(),ty(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,M1(t),lh(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function M1(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ey(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ty(t){t._nesting--,lh(t)}var Go=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new se;onMicrotaskEmpty=new se;onStable=new se;onError=new se;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Lw(t){return $y(t,"__ignore_ng_zone__")}function Aw(t){return $y(t,"__scheduler_tick__")}function $y(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var kt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},bt=new M("",{factory:()=>{let t=p(fe),e=p(ye),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(kt),n.handleError(r))})}}}),Wy={provide:en,useValue:()=>{let t=p(kt,{optional:!0})},multi:!0},Rw=new M("",{factory:()=>{let t=p(oe).defaultView;if(!t)return;let e=p(bt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),p(qe).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function uh(){return vt([hy(()=>void p(Rw))])}function g(t,e){let[n,r,i]=zu(t,e?.equal),o=n,a=o[et];return o.set=r,o.update=i,o.asReadonly=hh.bind(o),o}function hh(){let t=this[et];if(t.readonlyFn===void 0){let e=()=>this();e[et]=t,t.readonlyFn=e}return t.readonlyFn}var ta=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Pw}return t})();function Pw(){return new ta(H(),Be())}var _n=class{},na=new M("",{factory:()=>!0});var ph=new M(""),Br=(()=>{class t{internalPendingTasks=p(on);scheduler=p(_n);errorHandler=p(bt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=v({token:t,providedIn:"root",factory:()=>new t})}return t})(),Cc=(()=>{class t{static \u0275prov=v({token:t,providedIn:"root",factory:()=>new w1})}return t})(),w1=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},rc=class{[et];constructor(e){this[et]=e}destroy(){this[et].destroy()}};function Ye(t,e){let n=e?.injector??p(Ie),r=e?.manualCleanup!==!0?n.get(qe):null,i,o=n.get(ta,null,{optional:!0}),a=n.get(_n);return o!==null?(i=Fw(o.view,a,t),r instanceof tc&&r._lView===o.view&&(r=null)):i=jw(t,n.get(Cc),a),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new rc(i)}var Gy=U(m({},qu),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=$o(!1);try{Uu(this)}finally{$o(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=x(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],x(t)}}}),Ow=U(m({},Gy),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(kr(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),Nw=U(m({},Gy),{consumerMarkedDirty(){this.view[P]|=8192,Vr(this.view),this.notifier.notify(13)},destroy(){if(kr(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[Kn]?.delete(this)}});function Fw(t,e,n){let r=Object.create(Nw);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=Zy(r,n),t[Kn]??=new Set,t[Kn].add(r),r.consumerMarkedDirty(r),r}function jw(t,e,n){let r=Object.create(Ow);return r.fn=Zy(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Zy(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function Xe(t){return Bu(t)}var bc={JSACTION:"jsaction"};function qi(t){return{toString:t}.toString()}var _c="__parameters__";function Gw(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Zw(t,e,n){return qi(()=>{let r=Gw(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(c,d,l){let u=c.hasOwnProperty(_c)?c[_c]:Object.defineProperty(c,_c,{value:[]})[_c];for(;u.length<=l;)u.push(null);return(u[l]=u[l]||[]).push(a),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Jc=ay(Zw("Optional"),8);function Kw(t){return typeof t=="function"}function Rg(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Pc=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Tn=(()=>{let t=()=>Pg;return t.ngInherit=!0,t})();function Pg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xw),Yw}function Yw(){let t=Ng(this),e=t?.current;if(e){let n=t.previous;if(n===Ar)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Xw(t,e,n,r,i){let o=this.declaredInputs[r],a=Ng(t)||Qw(t,{previous:Ar,current:null}),s=a.current||(a.current={}),c=a.previous,d=c[o];s[o]=new Pc(d&&d.currentValue,n,c===Ar),Rg(t,e,i,n)}var Og="__ngSimpleChanges__";function Ng(t){return t[Og]||null}function Qw(t,e){return t[Og]=e}var Ky=[];var Y=function(t,e=null,n){for(let r=0;r<Ky.length;r++){let i=Ky[r];i(t,e,n)}},Z=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(Z||{});function Jw(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=Pg(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Fg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:l}=o;a&&(t.contentHooks??=[]).push(-n,a),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Dc(t,e,n){jg(t,e,3,n)}function xc(t,e,n,r){(t[P]&3)===n&&jg(t,e,n,r)}function fh(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function jg(t,e,n,r){let i=r!==void 0?t[Pr]&65535:0,o=r??-1,a=e.length-1,s=0;for(let c=i;c<a;c++)if(typeof e[c+1]=="number"){if(s=e[c],r!=null&&s>=r)break}else e[c]<0&&(t[Pr]+=65536),(s<o||o==-1)&&(e8(t,n,e,c),t[Pr]=(t[Pr]&4294901760)+c+2),c++}function Yy(t,e){Y(Z.LifecycleHookStart,t,e);let n=x(null);try{e.call(t)}finally{x(n),Y(Z.LifecycleHookEnd,t,e)}}function e8(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=t[a];i?t[P]>>14<t[Pr]>>16&&(t[P]&3)===e&&(t[P]+=16384,Yy(s,o)):Yy(s,o)}var ji=-1,$r=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function t8(t){return(t.flags&8)!==0}function n8(t){return(t.flags&16)!==0}function r8(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];t.setAttribute(e,a,s,o)}else{let o=i,a=n[++r];o8(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function i8(t){return t===3||t===4||t===6}function o8(t){return t.charCodeAt(0)===64}function ed(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Xy(t,n,i,null,e[++r]):Xy(t,n,i,null,null))}}return t}function Xy(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Hg(t){return t!==ji}function Oc(t){return t&32767}function a8(t){return t>>16}function Nc(t,e){let n=a8(t),r=e;for(;n>0;)r=r[Rr],n--;return r}var Sh=!0;function Qy(t){let e=Sh;return Sh=t,e}var s8=256,Vg=s8-1,zg=5,c8=0,an={};function d8(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Tr)&&(r=n[Tr]),r==null&&(r=n[Tr]=c8++);let i=r&Vg,o=1<<i;e.data[t+(i>>zg)]|=o}function Fc(t,e){let n=Bg(t,e);if(n!==-1)return n;let r=e[b];r.firstCreatePass&&(t.injectorIndex=e.length,yh(r.data,t),yh(e,null),yh(r.blueprint,null));let i=tp(t,e),o=t.injectorIndex;if(Hg(i)){let a=Oc(i),s=Nc(i,e),c=s[b].data;for(let d=0;d<8;d++)e[o+d]=s[a+d]|c[a+d]}return e[o+8]=i,o}function yh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Bg(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function tp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Gg(i),r===null)return ji;if(n++,i=i[Rr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ji}function Dh(t,e,n){d8(t,e,n)}function qg(t,e,n){if(n&8||t!==void 0)return t;cc(e,"NodeInjector")}function Ug(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[st],o=ot(void 0);try{return i?i.get(e,r,n&8):R1(e,r,n&8)}finally{ot(o)}}return qg(r,e,n)}function $g(t,e,n,r=0,i){if(t!==null){if(e[P]&2048&&!(r&2)){let a=p8(t,e,n,r,an);if(a!==an)return a}let o=Wg(t,e,n,r,an);if(o!==an)return o}return Ug(e,n,r,i)}function Wg(t,e,n,r,i){let o=u8(n);if(typeof o=="function"){if(!rh(e,t,r))return r&1?qg(i,n,r):Ug(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))cc(n);else return a}finally{ih()}}else if(typeof o=="number"){let a=null,s=Bg(t,e),c=ji,d=r&1?e[Fe][Ze]:null;for((s===-1||r&4)&&(c=s===-1?tp(t,e):e[s+8],c===ji||!eg(r,!1)?s=-1:(a=e[b],s=Oc(c),e=Nc(c,e)));s!==-1;){let l=e[b];if(Jy(o,s,l.data)){let u=l8(s,e,n,a,r,d);if(u!==an)return u}c=e[s+8],c!==ji&&eg(r,e[b].data[s+8]===d)&&Jy(o,s,e)?(a=l,s=Oc(c),e=Nc(c,e)):s=-1}}return i}function l8(t,e,n,r,i,o){let a=e[b],s=a.data[t+8],c=r==null?Sn(s)&&Sh:r!=a&&(s.type&3)!==0,d=i&1&&o===s,l=Ec(s,a,n,c,d);return l!==null?oa(e,a,l,s,i):an}function Ec(t,e,n,r,i){let o=t.providerIndexes,a=e.data,s=o&1048575,c=t.directiveStart,d=t.directiveEnd,l=o>>20,u=r?s:s+l,h=i?s+l:d;for(let f=u;f<h;f++){let y=a[f];if(f<c&&n===y||f>=c&&y.type===n)return f}if(i){let f=a[c];if(f&&Qn(f)&&f.type===n)return c}return null}function oa(t,e,n,r,i){let o=t[n],a=e.data;if(o instanceof $r){let s=o;if(s.resolving){let f=ny(a[n]);throw A1(f)}let c=Qy(s.canSeeViewProviders);s.resolving=!0;let d=a[n].type||a[n],l,u=s.injectImpl?ot(s.injectImpl):null,h=rh(t,r,0);try{o=t[n]=s.factory(void 0,i,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&Jw(n,a[n],e)}finally{u!==null&&ot(u),Qy(c),s.resolving=!1,ih()}}return o}function u8(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Tr)?t[Tr]:void 0;return typeof e=="number"?e>=0?e&Vg:h8:e}function Jy(t,e,n){let r=1<<t;return!!(n[e+(t>>zg)]&r)}function eg(t,e){return!(t&2)&&!(t&1&&e)}var Ur=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return $g(this._tNode,this._lView,e,Sr(r),n)}};function h8(){return new Ur(Be(),H())}function td(t){return qi(()=>{let e=t.prototype.constructor,n=e[qo]||xh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[qo]||xh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xh(t){return C1(t)?()=>{let e=xh(Oe(t));return e&&e()}:Dr(t)}function p8(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[P]&2048&&!jr(a);){let s=Wg(o,a,n,r|2,an);if(s!==an)return s;let c=o.parent;if(!c){let d=a[V1];if(d){let l=d.get(n,an,r);if(l!==an)return l}c=Gg(a),a=a[Rr]}o=c}return i}function Gg(t){let e=t[b],n=e.type;return n===2?e.declTNode:n===1?t[Ze]:null}function f8(){return Ui(Be(),H())}function Ui(t,e){return new Te(wt(t,e))}var Te=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=f8}return t})();function y8(t){return t instanceof Te?t.nativeElement:t}function g8(){return this._results[Symbol.iterator]()}var jc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new A}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=cy(e);(this._changesDetected=!sy(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=g8},Zg="ngSkipHydration",m8="ngskiphydration";function Kg(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===m8)return!0}return!1}function Yg(t){return t.hasAttribute(Zg)}function Hc(t){return(t.flags&128)===128}function Xg(t){if(Hc(t))return!0;let e=t.parent;for(;e;){if(Hc(t)||Kg(e))return!0;e=e.parent}return!1}var np=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(np||{}),Qg=new Map,k8=0;function v8(){return k8++}function M8(t){Qg.set(t[Qo],t)}function Eh(t){Qg.delete(t[Qo])}var tg="__ngContext__";function zi(t,e){dt(e)?(t[tg]=e[Qo],M8(e)):t[tg]=e}function Jg(t){return tm(t[Pi])}function em(t){return tm(t[Mt])}function tm(t){for(;t!==null&&!lt(t);)t=t[Mt];return t}var Th;function rp(t){Th=t}function nm(){if(Th!==void 0)return Th;if(typeof document<"u")return document;throw new C(210,!1)}var _t=new M("",{factory:()=>w8}),w8="ng";var nd=new M(""),Ln=new M("",{providedIn:"platform",factory:()=>"unknown"});var $i=new M("",{factory:()=>p(oe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Wi=(()=>{class t{static \u0275prov=v({token:t,providedIn:"root",factory:()=>{let n=new t;return n.store=I8(p(oe),p(_t)),n}});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function I8(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var rm="h",im="b",C8="f",b8="n",om="e",am="t",rd="c",ip="x",aa="r",sm="i",cm="n",op="d";var dm="di",lm="s",um="p";var pa=new M(""),hm=!1,ap=new M("",{factory:()=>hm});var sp=new M(""),pm=!1,fm=new M(""),cp=new M("",{factory:()=>new Map});var fa="ngb";var ym=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},gm=(t,e)=>{let n=t,r=n.getAttribute(fa)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var mm=t=>{t.removeAttribute(bc.JSACTION),t.removeAttribute(fa),t.__jsaction_fns=void 0},km=new M("",{factory:()=>({})});function dp(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Lh=new Map;function vm(t,e){return Lh.set(t,e),()=>Lh.delete(t)}var ng=!1,Mm=(t,e,n,r)=>{};function _8(t,e,n,r){Mm(t,e,n,r)}function wm(){ng||(Mm=(t,e,n,r)=>{let i=t[st].get(_t);Lh.get(i)?.(e,n,r)},ng=!0)}var id=new M("");function ya(t){return(t.flags&32)===32}var S8="__nghData__",lp=S8,D8="__nghDeferData__",Im=D8;var Tc="ngh",Cm="nghm",bm=()=>null;function x8(t,e,n=!1){let r=t.getAttribute(Tc);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let a=o?`|${o}`:"",s=n?i:a,c={};if(r!==""){let l=e.get(Wi,null,{optional:!0});l!==null&&(c=l.get(lp,[])[Number(r)])}let d={data:c,firstChild:t.firstChild??null};return n&&(d.firstChild=t,od(d,0,t.nextSibling)),s?t.setAttribute(Tc,s):t.removeAttribute(Tc),d}function _m(){bm=x8}function Sm(t,e,n=!1){return bm(t,e,n)}function Dm(t){let e=t._lView;return e[b].type===2?null:(jr(e)&&(e=e[te]),e)}function E8(t){return t.textContent?.replace(/\s/gm,"")}function T8(t){let e=nm(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let a=E8(o);return a==="ngetn"||a==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function od(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Ah(t,e){return t.segmentHeads?.[e]??null}function xm(t){return t.get(fm,!1,{optional:!0})}function L8(t,e){let n=t.data,r=n[om]?.[e]??null;return r===null&&n[rd]?.[e]&&(r=up(t,e)),r}function Em(t,e){return t.data[rd]?.[e]??null}function up(t,e){let n=Em(t,e)??[],r=0;for(let i of n)r+=i[aa]*(i[ip]??1);return r}function A8(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[op];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Tm(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[op];t.disconnectedNodes=n?new Set(n):null}return!!A8(t)?.has(e)}function ad(t,e){let n=t[Ke];return n!==null&&!gc()&&!ya(e)&&!Tm(n,e.index-te)}function R8(t,e){let n=e.get(id),i=e.get(Wi).get(Im,{}),o=!1,a=t,s=null,c=[];for(;!o&&a;){o=n.has(a);let d=n.hydrating.get(a);if(s===null&&d!=null){s=d.promise;break}c.unshift(a),a=i[a][um]}return{parentBlockPromise:s,hydrationQueue:c}}function gh(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===Cm}function rg(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function Lm(t){for(let r of t.body.childNodes)if(gh(r))return;let e=rg(t.body.previousSibling);if(gh(e))return;let n=rg(t.head.lastChild);if(!gh(n))throw new C(-507,!1)}function Am(t,e){let n=t.contentQueries;if(n!==null){let r=x(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=t.data[a];kc(o),s.contentQueries(2,e[a],a)}}}finally{x(r)}}}function Rh(t,e,n){kc(0);let r=x(null);try{e(t,n)}finally{x(r)}}function hp(t,e,n){if(z1(e)){let r=x(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let s=t.data[a];if(s.contentQueries){let c=n[a];s.contentQueries(1,c,a)}}}finally{x(r)}}}var Ht=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Ht||{});var Vc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ic})`}};function sd(t){return t instanceof Vc?t.changingThisBreaksApplicationSecurity:t}function pp(t,e){let n=Rm(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ic})`)}return n===e}function Rm(t){return t instanceof Vc&&t.getTypeName()||null}var P8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fp(t){return t=String(t),t.match(P8)?t:"unsafe:"+t}var O8=/^>|^->|<!--|-->|--!>|<!-$/g,N8=/(<|>)/g,F8="\u200B$1\u200B";function j8(t){return t.replace(O8,e=>e.replace(N8,F8))}function Pm(t,e){return t.createText(e)}function H8(t,e,n){t.setValue(e,n)}function Om(t,e){return t.createComment(j8(e))}function yp(t,e,n){return t.createElement(e,n)}function zc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Nm(t,e,n){t.appendChild(e,n)}function ig(t,e,n,r,i){r!==null?zc(t,e,n,r,i):Nm(t,e,n)}function gp(t,e,n,r){t.removeChild(null,e,n,r)}function Fm(t){t.textContent=""}function V8(t,e,n){t.setAttribute(e,"style",n)}function z8(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jm(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&r8(t,e,r),i!==null&&z8(t,e,i),o!==null&&V8(t,e,o)}var cd=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(cd||{});function dd(t){let e=B8();return e?e.sanitize(cd.URL,t)||"":pp(t,"URL")?sd(t):fp(Lr(t))}function B8(){let t=H();return t&&t[tn].sanitizer}function Gi(t){return t.ownerDocument}function Hm(t){return t.ownerDocument.body}function Vm(t){return t instanceof Function?t():t}function q8(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var zm="ng-template";function U8(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&q8(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(mp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function mp(t){return t.type===4&&t.value!==zm}function $8(t,e,n){let r=t.type===4&&!n?zm:t.value;return e===r}function W8(t,e,n){let r=4,i=t.attrs,o=i!==null?K8(i):0,a=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!a&&!jt(r)&&!jt(c))return!1;if(a&&jt(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!$8(t,c,n)||c===""&&e.length===1){if(jt(r))return!1;a=!0}}else if(r&8){if(i===null||!U8(t,i,c,n)){if(jt(r))return!1;a=!0}}else{let d=e[++s],l=G8(c,i,mp(t),n);if(l===-1){if(jt(r))return!1;a=!0;continue}if(d!==""){let u;if(l>o?u="":u=i[l+1].toLowerCase(),r&2&&d!==u){if(jt(r))return!1;a=!0}}}}return jt(r)||a}function jt(t){return(t&1)===0}function G8(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=e[++i];for(;typeof s=="string";)s=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return Y8(e,t)}function Bm(t,e,n=!1){for(let r=0;r<e.length;r++)if(W8(t,e[r],n))return!0;return!1}function Z8(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function K8(t){for(let e=0;e<t.length;e++){let n=t[e];if(i8(n))return e}return t.length}function Y8(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function X8(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function og(t,e){return t?":not("+e.trim()+")":e}function Q8(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!jt(a)&&(e+=og(o,i),i=""),r=a,o=o||!jt(r);n++}return i!==""&&(e+=og(o,i)),e}function J8(t){return t.map(Q8).join(",")}function eI(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!jt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var St={};function kp(t,e,n,r,i,o,a,s,c,d,l){let u=te+r,h=u+i,f=tI(u,h),y=typeof d=="function"?d():d;return f[b]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function tI(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:St);return n}function nI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=kp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vp(t,e,n,r,i,o,a,s,c,d,l){let u=e.blueprint.slice();return u[Ge]=i,u[P]=r|4|128|8|64|1024,(d!==null||t&&t[P]&2048)&&(u[P]|=2048),q1(u),u[we]=u[Rr]=t,u[Ce]=n,u[tn]=a||t&&t[tn],u[ie]=s||t&&t[ie],u[st]=c||t&&t[st]||null,u[Ze]=o,u[Qo]=v8(),u[Ke]=l,u[V1]=d,u[Fe]=e.type==2?t[Fe]:u,u}function rI(t,e,n){let r=wt(e,t),i=nI(n),o=t[tn].rendererFactory,a=Mp(t,vp(t,i,null,qm(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=a}function qm(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Um(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Mp(t,e){return t[Pi]?t[H1][Mt]=e:t[Pi]=e,t[H1]=e,e}function D(t=1){$m(_e(),H(),Dn()+t,!1)}function $m(t,e,n,r){if(!r)if((e[P]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Dc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&xc(e,o,0,n)}er(n)}var ld=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(ld||{});function Ph(t,e,n,r){let i=x(null);try{let[o,a,s]=t.inputs[n],c=null;(a&ld.SignalBased)!==0&&(c=e[o][et]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):Rg(e,c,o,r)}finally{x(i)}}var sn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(sn||{}),iI;function wp(t,e){return iI(t,e)}var Wr=new Set,ud=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ud||{}),An=new M(""),ag=new Set;function Dt(t){ag.has(t)||(ag.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Ip=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=v({token:t,providedIn:"root",factory:()=>new t})}return t})(),Wm=[0,1,2,3],Gm=(()=>{class t{ngZone=p(fe);scheduler=p(_n);errorHandler=p(kt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){p(An,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Y(Z.AfterRenderHooksStart),this.executing=!0;for(let r of Wm)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Y(Z.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Or]??=[]).push(n),Vr(r),r[P]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ud.AFTER_NEXT_RENDER,n):n()}static \u0275prov=v({token:t,providedIn:"root",factory:()=>new t})}return t})(),Bc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,a=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Or];e&&(this.view[Or]=e.filter(n=>n!==this))}};function Zi(t,e){let n=e?.injector??p(Ie);return Dt("NgAfterNextRender"),aI(t,n,e,!0)}function oI(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function aI(t,e,n,r){let i=e.get(Ip);i.impl??=e.get(Gm);let o=e.get(An,null,{optional:!0}),a=n?.manualCleanup!==!0?e.get(qe):null,s=e.get(ta,null,{optional:!0}),c=new Bc(i.impl,oI(t),s?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var Zm=new M("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:p(ye)})});function Km(t,e,n){let r=t.get(Zm);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function sI(t,e){let n=t.get(Zm);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function cI(t,e){for(let[n,r]of e)Km(t,r.animateFns)}function sg(t,e,n,r){let i=t?.[Nr]?.enter;e!==null&&i&&i.has(n.index)&&cI(r,i)}function Fi(t,e,n,r,i,o,a,s){if(i!=null){let c,d=!1;lt(i)?c=i:dt(i)&&(d=!0,i=i[Ge]);let l=ut(i);t===0&&r!==null?(sg(s,r,o,n),a==null?Nm(e,r,l):zc(e,r,l,a||null,!0)):t===1&&r!==null?(sg(s,r,o,n),zc(e,r,l,a||null,!0)):t===2?cg(s,o,n,u=>{gp(e,l,d,u)}):t===3&&cg(s,o,n,()=>{e.destroyNode(l)}),c!=null&&vI(e,t,n,c,o,r,a)}}function dI(t,e){Ym(t,e),e[Ge]=null,e[Ze]=null}function lI(t,e,n,r,i,o){r[Ge]=i,r[Ze]=e,pd(t,r,n,1,i,o)}function Ym(t,e){e[tn].changeDetectionScheduler?.notify(9),pd(t,e,e[ie],2,null,null)}function uI(t){let e=t[Pi];if(!e)return mh(t[b],t);for(;e;){let n=null;if(dt(e))n=e[Pi];else{let r=e[ge];r&&(n=r)}if(!n){for(;e&&!e[Mt]&&e!==t;)dt(e)&&mh(e[b],e),e=e[we];e===null&&(e=t),dt(e)&&mh(e[b],e),n=e&&e[Mt]}e=n}}function Cp(t,e){let n=t[Fr],r=n.indexOf(e);n.splice(r,1)}function hd(t,e){if(Jn(e))return;let n=e[ie];n.destroyNode&&pd(t,e,n,3,null,null),uI(e)}function mh(t,e){if(Jn(e))return;let n=x(null);try{e[P]&=-129,e[P]|=256,e[ct]&&kr(e[ct]),fI(t,e),pI(t,e),e[b].type===1&&e[ie].destroy();let r=e[Xn];if(r!==null&&lt(e[we])){r!==e[we]&&Cp(r,e);let i=e[nn];i!==null&&i.detachView(t)}Eh(e)}finally{x(n)}}function cg(t,e,n,r){let i=t?.[Nr];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Wr.add(t),Km(n,()=>{if(i.leave&&i.leave.has(e.index)){let a=i.leave.get(e.index),s=[];if(a){for(let c=0;c<a.animateFns.length;c++){let d=a.animateFns[c],{promise:l}=d();s.push(l)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(s),hI(t,r)}else t&&Wr.delete(t),r(!1)},i)}function hI(t,e){let n=t[Nr]?.running;if(n){n.then(()=>{t[Nr].running=void 0,Wr.delete(t),e(!0)});return}e(!1)}function pI(t,e){let n=t.cleanup,r=e[Ri];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(e[Ri]=null);let i=e[Cn];if(i!==null){e[Cn]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=e[Kn];if(o!==null){e[Kn]=null;for(let a of o)a.destroy()}}function fI(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof $r)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],c=o[a+1];Y(Z.LifecycleHookStart,s,c);try{c.call(s)}finally{Y(Z.LifecycleHookEnd,s,c)}}else{Y(Z.LifecycleHookStart,i,o);try{o.call(i)}finally{Y(Z.LifecycleHookEnd,i,o)}}}}}function Xm(t,e,n){return yI(t,e.parent,n)}function yI(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ge];if(Sn(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Ht.None||i===Ht.Emulated)return null}return wt(r,n)}function Qm(t,e,n){return mI(t,e,n)}function gI(t,e,n){return t.type&40?wt(t,n):null}var mI=gI,dg;function bp(t,e,n,r){let i=Xm(t,r,e),o=e[ie],a=r.parent||e[Ze],s=Qm(a,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ig(o,i,n[c],s,!1);else ig(o,i,n,s,!1);dg!==void 0&&dg(o,r,e,n,i)}function ra(t,e){if(e!==null){let n=e.type;if(n&3)return wt(e,t);if(n&4)return Oh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ra(t,r);{let i=t[e.index];return lt(i)?Oh(-1,i):ut(i)}}else{if(n&128)return ra(t,e.next);if(n&32)return wp(e,t)()||ut(t[e.index]);{let r=Jm(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yn(t[Fe]);return ra(i,r)}else return ra(t,e.next)}}}return null}function Jm(t,e){if(e!==null){let r=t[Fe][Ze],i=e.projection;return r.projection[i]}return null}function Oh(t,e){let n=ge+t+1;if(n<e.length){let r=e[n],i=r[b].firstChild;if(i!==null)return ra(r,i)}return e[rn]}function _p(t,e,n,r,i,o,a){for(;n!=null;){let s=r[st];if(n.type===128){n=n.next;continue}let c=r[n.index],d=n.type;if(a&&e===0&&(c&&zi(ut(c),r),n.flags|=2),!ya(n))if(d&8)_p(t,e,n.child,r,i,o,!1),Fi(e,t,s,i,c,n,o,r);else if(d&32){let l=wp(n,r),u;for(;u=l();)Fi(e,t,s,i,u,n,o,r);Fi(e,t,s,i,c,n,o,r)}else d&16?ek(t,e,r,n,i,o):Fi(e,t,s,i,c,n,o,r);n=a?n.projectionNext:n.next}}function pd(t,e,n,r,i,o){_p(n,r,t.firstChild,e,i,o,!1)}function kI(t,e,n){let r=e[ie],i=Xm(t,n,e),o=n.parent||e[Ze],a=Qm(o,n,e);ek(r,0,e,n,i,a)}function ek(t,e,n,r,i,o){let a=n[Fe],c=a[Ze].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let l=c[d];Fi(e,t,n[st],i,l,r,o,n)}else{let d=c,l=a[we];Hc(r)&&(d.flags|=128),_p(t,e,d,l,i,o,!0)}}function vI(t,e,n,r,i,o,a){let s=r[rn],c=ut(r);s!==c&&Fi(e,t,n,o,s,i,a);for(let d=ge;d<r.length;d++){let l=r[d];pd(l[b],l,t,e,o,s)}}function MI(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:sn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sn.Important),t.setStyle(n,r,i,o))}}function tk(t,e,n,r,i){let o=Dn(),a=r&2;try{er(-1),a&&e.length>te&&$m(t,e,te,!1);let s=a?Z.TemplateUpdateStart:Z.TemplateCreateStart;Y(s,i,n),n(r,i)}finally{er(o);let s=a?Z.TemplateUpdateEnd:Z.TemplateCreateEnd;Y(s,i,n)}}function fd(t,e,n){DI(t,e,n),(n.flags&64)===64&&xI(t,e,n)}function ga(t,e,n=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(e,t):t[a];t[i++]=s}}}function wI(t,e,n,r){let o=r.get(ap,hm)||n===Ht.ShadowDom||n===Ht.ExperimentalIsolatedShadowDom,a=t.selectRootElement(e,o);return II(a),a}function II(t){nk(t)}var nk=()=>null;function CI(t){Yg(t)?Fm(t):T8(t)}function rk(){nk=CI}function bI(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _I(t,e,n,r,i,o){let a=e[b];if(Tp(t,a,e,n,r)){Sn(t)&&SI(e,t.index);return}t.type&3&&(n=bI(n)),ik(t,e,n,r,i,o)}function ik(t,e,n,r,i,o){if(t.type&3){let a=wt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(a,n,r)}else t.type&12}function SI(t,e){let n=It(e,t);n[P]&16||(n[P]|=64)}function DI(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Sn(n)&&rI(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Fc(n,e);let o=n.initialInputs;for(let a=r;a<i;a++){let s=t.data[a],c=oa(e,t,a,n);if(zi(c,e),o!==null&&AI(e,a-r,c,s,n,o),Qn(s)){let d=It(n.index,e);d[Ce]=oa(e,t,a,n)}}}function xI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Fy();try{er(o);for(let s=r;s<i;s++){let c=t.data[s],d=e[s];mc(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&EI(c,d)}}finally{er(-1),mc(a)}}function EI(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Sp(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Bm(e,o.selectors,!1)&&(r??=[],Qn(o)?r.unshift(o):r.push(o))}return r}function TI(t,e,n,r,i,o){let a=wt(t,e);LI(e[ie],a,o,t.value,n,r,i)}function LI(t,e,n,r,i,o,a){if(o==null)t.removeAttribute(e,i,n);else{let s=a==null?Lr(o):a(o,r||"",i);t.setAttribute(e,i,s,n)}}function AI(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],d=a[s+1];Ph(r,n,c,d)}}function Dp(t,e,n,r,i){let o=te+n,a=e[b],s=i(a,e,t,r,n);e[o]=s,Ni(t,!0);let c=t.type===2;return c?(jm(e[ie],s,t),(Dy()===0||Oi(t))&&zi(s,e),xy()):zi(s,e),Ic()&&(!c||!ya(t))&&bp(a,e,s,t),t}function xp(t){let e=t;return Q1()?J1():(e=e.parent,Ni(e,!1)),e}function Ep(t,e){let n=t[st];if(!n)return;let r;try{r=n.get(bt,null)}catch{r=null}r?.(e)}function Tp(t,e,n,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let d=a[c],l=a[c+1],u=e.data[d];Ph(u,n[d],l,i),s=!0}if(o)for(let c of o){let d=n[c],l=e.data[c];Ph(l,d,r,i),s=!0}return s}function RI(t,e){let n=It(e,t),r=n[b];PI(r,n);let i=n[Ge];i!==null&&n[Ke]===null&&(n[Ke]=Sm(i,n[st])),Y(Z.ComponentStart);try{Lp(r,n,n[Ce])}finally{Y(Z.ComponentEnd,n[Ce])}}function PI(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Lp(t,e,n){vc(e);try{let r=t.viewQuery;r!==null&&Rh(1,r,n);let i=t.template;i!==null&&tk(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[nn]?.finishViewCreation(t),t.staticContentQueries&&Am(t,e),t.staticViewQueries&&Rh(2,t.viewQuery,n);let o=t.components;o!==null&&OI(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,Mc()}}function OI(t,e){for(let n=0;n<e.length;n++)RI(t,e[n])}function Ki(t,e,n,r){let i=x(null);try{let o=e.tView,s=t[P]&4096?4096:16,c=vp(t,o,n,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];c[Xn]=d;let l=t[nn];return l!==null&&(c[nn]=l.createEmbeddedView(o)),Lp(o,c,n),c}finally{x(i)}}function Gr(t,e){return!e||e.firstChild===null||Hc(t)}function sa(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(ut(o)),lt(o)&&ok(o,r);let a=n.type;if(a&8)sa(t,e,n.child,r);else if(a&32){let s=wp(n,e),c;for(;c=s();)r.push(c)}else if(a&16){let s=Jm(e,n);if(Array.isArray(s))r.push(...s);else{let c=Yn(e[Fe]);sa(c[b],c,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function ok(t,e){for(let n=ge;n<t.length;n++){let r=t[n],i=r[b].firstChild;i!==null&&sa(r[b],r,i,e)}t[rn]!==t[Ge]&&e.push(t[rn])}function ak(t){if(t[Or]!==null){for(let e of t[Or])e.impl.addSequence(e);t[Or].length=0}}var sk=[];function NI(t){return t[ct]??FI(t)}function FI(t){let e=sk.pop()??Object.create(HI);return e.lView=t,e}function jI(t){t.lView[ct]!==t&&(t.lView=null,sk.push(t))}var HI=U(m({},fi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Vr(t.lView)},consumerOnSignalRead(){this.lView[ct]=this}});function VI(t){let e=t[ct]??Object.create(zI);return e.lView=t,e}var zI=U(m({},fi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Yn(t.lView);for(;e&&!ck(e[b]);)e=Yn(e);e&&U1(e)},consumerOnSignalRead(){this.lView[ct]=this}});function ck(t){return t.type!==2}function dk(t){if(t[Kn]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Kn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[P]&8192)}}var BI=100;function lk(t,e=0){let r=t[tn].rendererFactory,i=!1;i||r.begin?.();try{qI(t,e)}finally{i||r.end?.()}}function qI(t,e){let n=eh();try{$o(!0),Nh(t,e);let r=0;for(;ea(t);){if(r===BI)throw new C(103,!1);r++,Nh(t,1)}}finally{$o(n)}}function UI(t,e,n,r){if(Jn(e))return;let i=e[P],o=!1,a=!1;vc(e);let s=!0,c=null,d=null;o||(ck(t)?(d=NI(e),c=yi(d)):vs()===null?(s=!1,d=VI(e),c=yi(d)):e[ct]&&(kr(e[ct]),e[ct]=null));try{q1(e),Py(t.bindingStartIndex),n!==null&&tk(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let f=t.preOrderCheckHooks;f!==null&&Dc(e,f,null)}else{let f=t.preOrderHooks;f!==null&&xc(e,f,0,null),fh(e,0)}if(a||$I(e),dk(e),uk(e,0),t.contentQueries!==null&&Am(t,e),!o)if(l){let f=t.contentCheckHooks;f!==null&&Dc(e,f)}else{let f=t.contentHooks;f!==null&&xc(e,f,1),fh(e,1)}GI(t,e);let u=t.components;u!==null&&pk(e,u,0);let h=t.viewQuery;if(h!==null&&Rh(2,h,r),!o)if(l){let f=t.viewCheckHooks;f!==null&&Dc(e,f)}else{let f=t.viewHooks;f!==null&&xc(e,f,2),fh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[hc]){for(let f of e[hc])f();e[hc]=null}o||(ak(e),e[P]&=-73)}catch(l){throw o||Vr(e),l}finally{d!==null&&(Ro(d,c),s&&jI(d)),Mc()}}function uk(t,e){for(let n=Jg(t);n!==null;n=em(n))for(let r=ge;r<n.length;r++){let i=n[r];hk(i,e)}}function $I(t){for(let e=Jg(t);e!==null;e=em(e)){if(!(e[P]&2))continue;let n=e[Fr];for(let r=0;r<n.length;r++){let i=n[r];U1(i)}}}function WI(t,e,n){Y(Z.ComponentStart);let r=It(e,t);try{hk(r,n)}finally{Y(Z.ComponentEnd,r[Ce])}}function hk(t,e){pc(t)&&Nh(t,e)}function Nh(t,e){let r=t[b],i=t[P],o=t[ct],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&Po(o)),a||=!1,o&&(o.dirty=!1),t[P]&=-9217,a)UI(r,t,r.template,t[Ce]);else if(i&8192){let s=x(null);try{dk(t),uk(t,1);let c=r.components;c!==null&&pk(t,c,1),ak(t)}finally{x(s)}}}function pk(t,e,n){for(let r=0;r<e.length;r++)WI(t,e[r],n)}function GI(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)er(~i);else{let o=i,a=n[++r],s=n[++r];Ny(a,o);let c=e[o];Y(Z.HostBindingsUpdateStart,c);try{s(2,c)}finally{Y(Z.HostBindingsUpdateEnd,c)}}}}finally{er(-1)}}function yd(t,e){let n=eh()?64:1088;for(t[tn].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=Yn(t);if(jr(t)&&!r)return t;t=r}return null}function fk(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yk(t,e){let n=ge+e;if(n<t.length)return t[n]}function Yi(t,e,n,r=!0){let i=e[b];if(ZI(i,e,t,n),r){let a=Oh(n,t),s=e[ie],c=s.parentNode(t[rn]);c!==null&&lI(i,t[Ze],s,e,c,a)}let o=e[Ke];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ap(t,e){let n=ca(t,e);return n!==void 0&&hd(n[b],n),n}function ca(t,e){if(t.length<=ge)return;let n=ge+e,r=t[n];if(r){let i=r[Xn];i!==null&&i!==t&&Cp(i,r),e>0&&(t[n-1][Mt]=r[Mt]);let o=Yo(t,ge+e);dI(r[b],r);let a=o[nn];a!==null&&a.detachView(o[b]),r[we]=null,r[Mt]=null,r[P]&=-129}return r}function ZI(t,e,n,r){let i=ge+r,o=n.length;r>0&&(n[i-1][Mt]=e),r<o-ge?(e[Mt]=n[i],P1(n,ge+r,e)):(n.push(e),e[Mt]=null),e[we]=n;let a=e[Xn];a!==null&&n!==a&&gk(a,e);let s=e[nn];s!==null&&s.insertView(t),fc(e),e[P]|=128}function gk(t,e){let n=t[Fr],r=e[we];if(dt(r))t[P]|=2;else{let i=r[we][Fe];e[Fe]!==i&&(t[P]|=2)}n===null?t[Fr]=[e]:n.push(e)}var tr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[b];return sa(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ce]}set context(e){this._lView[Ce]=e}get destroyed(){return Jn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[we];if(lt(e)){let n=e[Jo],r=n?n.indexOf(this):-1;r>-1&&(ca(e,r),Yo(n,r))}this._attachedToViewContainer=!1}hd(this._lView[b],this._lView)}onDestroy(e){$1(this._lView,e)}markForCheck(){yd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[P]&=-129}reattach(){fc(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,lk(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=jr(this._lView),n=this._lView[Xn];n!==null&&!e&&Cp(n,this._lView),Ym(this._lView[b],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e;let n=jr(this._lView),r=this._lView[Xn];r!==null&&!n&&gk(r,this._lView),fc(this._lView)}};var cn=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=KI;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Ki(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new tr(o)}}return t})();function KI(){return gd(Be(),H())}function gd(t,e){return t.type&4?new cn(e,t,Ui(t,e)):null}function Xi(t,e,n,r,i){let o=t.data[e];if(o===null)o=YI(t,e,n,r,i),Oy()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=Ty();o.injectorIndex=a===null?-1:a.injectorIndex}return Ni(o,!0),o}function YI(t,e,n,r,i){let o=X1(),a=Q1(),s=a?o:o&&o.parent,c=t.data[e]=QI(t,s,n,e,r,i);return XI(t,c,o,a),c}function XI(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function QI(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,s=0;return gc()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var JI=new RegExp(`^(\\d+)*(${im}|${rm})*(.*)`);function e6(t){let e=t.match(JI),[n,r,i,o]=e,a=r?parseInt(r,10):i,s=[];for(let[c,d,l]of o.matchAll(/(f|n)(\d*)/g)){let u=parseInt(l,10)||1;s.push(d,u)}return[a,...s]}function t6(t){return!t.prev&&t.parent?.type===8}function kh(t){return t.index-te}function n6(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function md(t,e,n,r){let i=kh(r),o=n6(t,i);if(o===void 0){let a=t.data[cm];if(a?.[i])o=i6(a[i],n);else if(e.firstChild===r)o=t.firstChild;else{let s=r.prev===null,c=r.prev??r.parent;if(t6(r)){let d=kh(r.parent);o=Ah(t,d)}else{let d=wt(c,n);if(s)o=d.firstChild;else{let l=kh(c),u=Ah(t,l);if(c.type===2&&u){let f=up(t,l)+1;o=kd(f,u)}else o=d.nextSibling}}}}return o}function kd(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function r6(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let a=0;a<o;a++)switch(i){case C8:n=n.firstChild;break;case b8:n=n.nextSibling;break}}return n}function i6(t,e){let[n,...r]=e6(t),i;if(n===rm)i=e[Fe][Ge];else if(n===im)i=Hm(e[Fe][Ge]);else{let o=Number(n);i=ut(e[o+te])}return r6(i,r)}var o6=!1;function mk(t){o6=t}function a6(t){let e=t[Ke];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[ie];for(let o of r.values())s6(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function s6(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-te);i&&gp(t,i,!1)}}function vd(t){let e=t[Ft]??[],r=t[we][ie],i=[];for(let o of e)o.data[dm]!==void 0?i.push(o):kk(o,r);t[Ft]=i}function c6(t){let{lContainer:e}=t,n=e[Ft];if(n===null)return;let i=e[we][ie];for(let o of n)kk(o,i)}function kk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[aa];for(;n<i;){let o=r.nextSibling;gp(e,r,!1),r=o,n++}}}function Md(t){vd(t);let e=t[Ge];dt(e)&&qc(e);for(let n=ge;n<t.length;n++)qc(t[n])}function qc(t){a6(t);let e=t[b];for(let n=te;n<e.bindingStartIndex;n++)if(lt(t[n])){let r=t[n];Md(r)}else dt(t[n])&&qc(t[n])}function Rp(t){let e=t._views;for(let n of e){let r=Dm(n);r!==null&&r[Ge]!==null&&(dt(r)?qc(r):Md(r))}}function d6(t,e,n,r){t!==null&&(n.cleanup(e),Md(t.lContainer),Rp(r))}function l6(t,e){let n=[];for(let r of e)for(let i=0;i<(r[ip]??1);i++){let o={data:r,firstChild:null};r[aa]>0&&(o.firstChild=t,t=kd(r[aa],t)),n.push(o)}return[t,n]}var vk=()=>null,Mk=()=>null;function wk(){vk=u6,Mk=h6}function u6(t,e){return Ck(t,e)?t[Ft].shift():(vd(t),null)}function da(t,e){return vk(t,e)}function h6(t,e,n){if(e.tView.ssrId===null)return null;let r=da(t,e.tView.ssrId);return n[b].firstUpdatePass&&r===null&&p6(n,e),r}function Ik(t,e,n){return Mk(t,e,n)}function p6(t,e){let n=e;for(;n;){if(lg(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(lg(t,n))return;n=n.next}}function Ck(t,e){let n=t[Ft];return!e||n===null||n.length===0?!1:n[0].data[sm]===e}function lg(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return lt(r)&&Ck(r,n)?(vd(r),!0):!1}var bk=class{},wd=class{},Fh=class{resolveComponentFactory(e){throw new C(917,!1)}},ma=class{static NULL=new Fh},pt=class{},ka=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>f6()}return t})();function f6(){let t=H(),e=Be(),n=It(e.index,t);return(dt(n)?n:t)[ie]}var _k=(()=>{class t{static \u0275prov=v({token:t,providedIn:"root",factory:()=>null})}return t})();var Lc={},Hi=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Lc,r);return i!==Lc||n===Lc?i:this.parentInjector.get(e,n,r)}};function Uc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")o=s;else if(o==1)i=I1(i,s);else if(o==2){let c=s,d=e[++a];r=I1(r,c+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ue(t,e=0){let n=H();if(n===null)return T(t,e);let r=Be();return $g(r,n,Oe(t),e)}function Sk(t,e,n,r,i){let o=r===null?null:{"":-1},a=i(t,n);if(a!==null){let s=a,c=null,d=null;for(let l of a)if(l.resolveHostDirectives!==null){[s,c,d]=l.resolveHostDirectives(a);break}m6(t,e,n,s,o,c,d)}o!==null&&r!==null&&y6(n,r,o)}function y6(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}function g6(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function m6(t,e,n,r,i,o,a){let s=r.length,c=null;for(let h=0;h<s;h++){let f=r[h];c===null&&Qn(f)&&(c=f,g6(t,n,h)),Dh(Fc(n,e),t,f.type)}C6(n,t.data.length,s),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<s;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let d=!1,l=!1,u=Um(t,e,s,null);s>0&&(n.directiveToIndex=new Map);for(let h=0;h<s;h++){let f=r[h];if(n.mergedAttrs=ed(n.mergedAttrs,f.hostAttrs),v6(t,n,e,u,f),I6(u,f,i),a!==null&&a.has(f)){let[I,k]=a.get(f);n.directiveToIndex.set(f.type,[u,I+n.directiveStart,k+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,u);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let y=f.type.prototype;!d&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),u++}k6(t,n,o)}function k6(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))ug(0,e,i,r),ug(1,e,i,r),pg(e,r,!1);else{let o=n.get(i);hg(0,e,o,r),hg(1,e,o,r),pg(e,r,!0)}}}function ug(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(r),Dk(e,o)}}function hg(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;t===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),Dk(e,a)}}function Dk(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function pg(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||mp(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let d=i[c];for(let l of d)if(l===e){a??=[],a.push(c,r[s+1]);break}}else if(n&&o.hasOwnProperty(c)){let d=o[c];for(let l=0;l<d.length;l+=2)if(d[l]===e){a??=[],a.push(d[l+1],r[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function v6(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Dr(i.type,!0)),a=new $r(o,Qn(i),Ue,null);t.blueprint[r]=a,n[r]=a,M6(t,e,r,Um(t,n,i.hostVars,St),i)}function M6(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~e.index;w6(a)!=s&&a.push(s),a.push(n,r,o)}}function w6(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function I6(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qn(e)&&(n[""]=t)}}function C6(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Pp(t,e,n,r,i,o,a,s){let c=e[b],d=c.consts,l=Ct(d,a),u=Xi(c,t,n,r,l);return o&&Sk(c,e,u,Ct(d,s),i),u.mergedAttrs=ed(u.mergedAttrs,u.attrs),u.attrs!==null&&Uc(u,u.attrs,!1),u.mergedAttrs!==null&&Uc(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function Op(t,e){Fg(t,e),z1(e)&&t.queries.elementEnd(e)}function b6(t,e,n,r,i,o){let a=e.consts,s=Ct(a,i),c=Xi(e,t,n,r,s);if(c.mergedAttrs=ed(c.mergedAttrs,c.attrs),o!=null){let d=Ct(a,o);c.localNames=[];for(let l=0;l<d.length;l+=2)c.localNames.push(d[l],-1)}return c.attrs!==null&&Uc(c,c.attrs,!1),c.mergedAttrs!==null&&Uc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function _6(t,e,n){return t[e]=n}function S6(t,e){return t[e]}function En(t,e,n){if(n===St)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function D6(t,e,n,r){let i=En(t,e,n);return En(t,e+1,r)||i}function Ac(t,e,n){return function r(i){let o=Sn(t)?It(t.index,e):e;yd(o,5);let a=e[Ce],s=fg(e,a,n,i),c=r.__ngNextListenerFn__;for(;c;)s=fg(e,a,c,i)&&s,c=c.__ngNextListenerFn__;return s}}function fg(t,e,n,r){let i=x(null);try{return Y(Z.OutputStart,e,n),n(r)!==!1}catch(o){return Ep(t,o),!1}finally{Y(Z.OutputEnd,e,n),x(i)}}function xk(t,e,n,r,i,o,a,s){let c=Oi(t),d=!1,l=null;if(!r&&c&&(l=E6(e,n,o,t.index)),l!==null){let u=l.__ngLastListenerFn__||l;u.__ngNextListenerFn__=a,l.__ngLastListenerFn__=a,d=!0}else{let u=wt(t,n),h=r?r(u):u;_8(n,h,o,s);let f=i.listen(h,o,s);if(!x6(o)){let y=r?I=>r(ut(I[t.index])):t.index;Ek(y,e,n,o,s,f,!1)}}return d}function x6(t){return t.startsWith("animation")||t.startsWith("transition")}function E6(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=e[Ri],c=i[o+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(o+=2)}return null}function Ek(t,e,n,r,i,o,a){let s=e.firstCreatePass?G1(e):null,c=W1(n),d=c.length;c.push(i,o),s&&s.push(r,t,d,(d+1)*(a?-1:1))}function yg(t,e,n,r,i,o){let a=e[n],s=e[b],d=s.data[n].outputs[r],u=a[d].subscribe(o);Ek(t.index,s,e,i,o,u,!0)}var jh=Symbol("BINDING");var $c=class extends ma{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Nt(e);return new nr(n,this.ngModule)}};function T6(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&ld.SignalBased)!==0};return i&&(o.transform=i),o})}function L6(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function A6(t,e,n){let r=e instanceof ye?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Hi(n,r):n}function R6(t){let e=t.get(pt,null);if(e===null)throw new C(407,!1);let n=t.get(_k,null),r=t.get(_n,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function P6(t,e){let n=Tk(t);return yp(e,n,n==="svg"?vy:n==="math"?My:null)}function Tk(t){return(t.selectors[0][0]||"div").toLowerCase()}var nr=class extends wd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=T6(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=L6(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=J8(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,a){Y(Z.DynamicComponentStart);let s=x(null);try{let c=this.componentDef,d=O6(r,c,a,o),l=A6(c,i||this.ngModule,e),u=R6(l),h=u.rendererFactory.createRenderer(null,c),f=r?wI(h,r,c.encapsulation,l):P6(c,h),y=a?.some(gg)||o?.some(w=>typeof w!="function"&&w.bindings.some(gg)),I=vp(null,d,null,512|qm(c),null,null,u,h,l,null,Sm(f,l,!0));I[te]=f,vc(I);let k=null;try{let w=Pp(te,I,2,"#host",()=>d.directiveRegistry,!0,0);jm(h,f,w),zi(f,I),fd(d,I,w),hp(d,w,I),Op(d,w),n!==void 0&&F6(w,this.ngContentSelectors,n),k=It(w.index,I),I[Ce]=k[Ce],Lp(d,I,null)}catch(w){throw k!==null&&Eh(k),Eh(I),w}finally{Y(Z.DynamicComponentEnd),Mc()}return new Wc(this.componentType,I,!!y)}finally{x(s)}}};function O6(t,e,n,r){let i=t?["ng-version","21.0.6"]:eI(e.selectors[0]),o=null,a=null,s=0;if(n)for(let l of n)s+=l[jh].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(a??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let u=r[l];if(typeof u!="function")for(let h of u.bindings){s+=h[jh].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(a??=[]).push(h))}}let c=[e];if(r)for(let l of r){let u=typeof l=="function"?l:l.type,h=ac(u);c.push(h)}return kp(0,null,N6(o,a),1,s,c,null,null,null,[i],null)}function N6(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function gg(t){let e=t[jh].kind;return e==="input"||e==="twoWay"}var Wc=class extends bk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Hr(n[b],te),this.location=Ui(this._tNode,n),this.instance=It(this._tNode.index,n)[Ce],this.hostView=this.changeDetectorRef=new tr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Tp(r,i[b],i,e,n);this.previousInputValues.set(e,n);let a=It(r.index,i);yd(a,1)}get injector(){return new Ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function F6(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Vt=(()=>{class t{static __NG_ELEMENT_ID__=j6}return t})();function j6(){let t=Be();return Ak(t,H())}var H6=Vt,Lk=class extends H6{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ui(this._hostTNode,this._hostLView)}get injector(){return new Ur(this._hostTNode,this._hostLView)}get parentInjector(){let e=tp(this._hostTNode,this._hostLView);if(Hg(e)){let n=Nc(e,this._hostLView),r=Oc(e),i=n[b].data[r+8];return new Ur(i,n)}else return new Ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mg(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ge}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=da(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,Gr(this._hostTNode,a)),s}createComponent(e,n,r,i,o,a,s){let c=e&&!Kw(e),d;if(c)d=n;else{let k=n||{};d=k.index,r=k.injector,i=k.projectableNodes,o=k.environmentInjector||k.ngModuleRef,a=k.directives,s=k.bindings}let l=c?e:new nr(Nt(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let w=(c?u:this.parentInjector).get(ye,null);w&&(o=w)}let h=Nt(l.componentType??{}),f=da(this._lContainer,h?.id??null),y=f?.firstChild??null,I=l.create(u,i,y,o,a,s);return this.insertImpl(I.hostView,d,Gr(this._hostTNode,f)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Cy(i)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=i[we],d=new Lk(c,c[Ze],c[we]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return Yi(a,i,o,r),e.attachToViewContainerRef(),P1(vh(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mg(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ca(this._lContainer,n);r&&(Yo(vh(this._lContainer),n),hd(r[b],r))}detach(e){let n=this._adjustIndex(e,-1),r=ca(this._lContainer,n);return r&&Yo(vh(this._lContainer),n)!=null?new tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mg(t){return t[Jo]}function vh(t){return t[Jo]||(t[Jo]=[])}function Ak(t,e){let n,r=e[t.index];return lt(r)?n=r:(n=fk(r,e,null,t),e[t.index]=n,Mp(e,n)),Rk(n,e,t,r),new Lk(n,t,e)}function V6(t,e){let n=t[ie],r=n.createComment(""),i=wt(e,t),o=n.parentNode(i);return zc(n,o,r,n.nextSibling(i),!1),r}var Rk=Pk,Np=()=>!1;function z6(t,e,n){return Np(t,e,n)}function Pk(t,e,n,r){if(t[rn])return;let i;n.type&8?i=ut(r):i=V6(e,n),t[rn]=i}function B6(t,e,n){if(t[rn]&&t[Ft])return!0;let r=n[Ke],i=e.index-te;if(!r||Xg(e)||Tm(r,i))return!1;let a=Ah(r,i),s=r.data[rd]?.[i],[c,d]=l6(a,s);return t[rn]=c,t[Ft]=d,!0}function q6(t,e,n,r){Np(t,n,e)||Pk(t,e,n,r)}function Ok(){Rk=q6,Np=B6}var Hh=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Vh=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Fp(e,n).matches!==null&&this.queries[n].setDirty()}},zh=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=X6(e):this.predicate=e}},Bh=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},qh=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,U6(n,o)),this.matchTNodeWithReadOption(e,n,Ec(n,e,o,!1,!1))}else r===cn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ec(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Te||i===Vt||i===cn&&n.type&4)this.addMatch(n.index,-2);else{let o=Ec(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function U6(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function $6(t,e){return t.type&11?Ui(t,e):t.type&4?gd(t,e):null}function W6(t,e,n,r){return n===-1?$6(e,t):n===-2?G6(t,e,r):oa(t,t[b],n,e)}function G6(t,e,n){if(n===Te)return Ui(e,t);if(n===cn)return gd(e,t);if(n===Vt)return Ak(e,t)}function Nk(t,e,n,r){let i=e[nn].queries[r];if(i.matches===null){let o=t.data,a=n.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let d=a[c];if(d<0)s.push(null);else{let l=o[d];s.push(W6(e,l,a[c+1],n.metadata.read))}}i.matches=s}return i.matches}function Uh(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=Nk(t,e,i,n);for(let s=0;s<o.length;s+=2){let c=o[s];if(c>0)r.push(a[s/2]);else{let d=o[s+1],l=e[-c];for(let u=ge;u<l.length;u++){let h=l[u];h[Xn]===h[we]&&Uh(h[b],h,d,r)}if(l[Fr]!==null){let u=l[Fr];for(let h=0;h<u.length;h++){let f=u[h];Uh(f[b],f,d,r)}}}}}return r}function Z6(t,e){return t[nn].queries[e].queryList}function K6(t,e,n){let r=new jc((n&4)===4);return Sy(t,e,r,r.destroy),(e[nn]??=new Vh).queries.push(new Hh(r))-1}function Y6(t,e,n){let r=_e();return r.firstCreatePass&&(Q6(r,new zh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),K6(r,H(),e)}function X6(t){return t.split(",").map(e=>e.trim())}function Q6(t,e,n){t.queries===null&&(t.queries=new Bh),t.queries.track(new qh(e,n))}function Fp(t,e){return t.queries.getByIndex(e)}function J6(t,e){let n=t[b],r=Fp(n,e);return r.crossesNgTemplate?Uh(n,t,e,[]):Nk(n,t,r,e)}var Zr=class{},Id=class{};var Gc=class extends Zr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $c(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=T1(e);this._bootstrapComponents=Vm(o.bootstrap),this._r3Injector=ah(e,n,[{provide:Zr,useValue:this},{provide:ma,useValue:this.componentFactoryResolver},...r],bn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Zc=class extends Id{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Gc(this.moduleType,e,[])}};var la=class extends Zr{injector;componentFactoryResolver=new $c(this);instance=null;constructor(e){super();let n=new Er([...e.providers,{provide:Zr,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],e.parent||Ai(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qi(t,e,n=null){return new la({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var eC=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=uc(!1,n.type),i=r.length>0?Qi([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=v({token:t,providedIn:"environment",factory:()=>new t(T(ye))})}return t})();function X(t){return qi(()=>{let e=Fk(t),n=U(m({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===np.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(eC).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ht.Emulated,styles:t.styles||mt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Dt("NgStandalone"),jk(n);let r=t.dependencies;return n.directiveDefs=kg(r,tC),n.pipeDefs=kg(r,L1),n.id=iC(n),n})}function tC(t){return Nt(t)||ac(t)}function xt(t){return qi(()=>({type:t.type,bootstrap:t.bootstrap||mt,declarations:t.declarations||mt,imports:t.imports||mt,exports:t.exports||mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nC(t,e){if(t==null)return Ar;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,s,c;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,c=i[3]||null):(o=i,a=i,s=ld.None,c=null),n[o]=[r,s,c],e[o]=a}return n}function rC(t){if(t==null)return Ar;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function zt(t){return qi(()=>{let e=Fk(t);return jk(e),e})}function Fk(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ar,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:nC(t.inputs,e),outputs:rC(t.outputs),debugInfo:null}}function jk(t){t.features?.forEach(e=>e(t))}function kg(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function iC(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Hk(t,e,n,r,i,o,a,s){if(n.firstCreatePass){t.mergedAttrs=ed(t.mergedAttrs,t.attrs);let l=t.tView=kp(2,t,i,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}s&&(t.flags|=s),Ni(t,!1);let c=Vk(n,e,t,r);Ic()&&bp(n,e,c,t),zi(c,e);let d=fk(c,e,c,t);e[r+te]=d,Mp(e,d),z6(d,t,e)}function oC(t,e,n,r,i,o,a,s,c,d,l){let u=n+te,h;return e.firstCreatePass?(h=Xi(e,u,4,a||null,s||null),yc()&&Sk(e,t,h,Ct(e.consts,d),Sp),Fg(e,h)):h=e.data[u],Hk(h,t,e,n,r,i,o,c),Oi(h)&&fd(e,t,h),d!=null&&ga(t,h,l),h}function ua(t,e,n,r,i,o,a,s,c,d,l){let u=n+te,h;if(e.firstCreatePass){if(h=Xi(e,u,4,a||null,s||null),d!=null){let f=Ct(e.consts,d);h.localNames=[];for(let y=0;y<f.length;y+=2)h.localNames.push(f[y],-1)}}else h=e.data[u];return Hk(h,t,e,n,r,i,o,c),d!=null&&ga(t,h,l),h}function rr(t,e,n,r,i,o,a,s){let c=H(),d=_e(),l=Ct(d.consts,o);return oC(c,d,t,e,n,r,i,l,void 0,a,s),rr}var Vk=zk;function zk(t,e,n,r){return xn(!0),e[ie].createComment("")}function aC(t,e,n,r){let i=!ad(e,n);xn(i);let o=e[Ke]?.data[am]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return zk(t,e);let a=e[Ke],s=md(a,t,e,n);od(a,r,s);let c=up(a,r);return kd(c,s)}function Bk(){Vk=aC}var ht=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(ht||{}),vg=0,sC=1,Se=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Se||{});var cC=0,va=1;var dC=4,lC=5;var uC=7,Vi=8,hC=9,jp=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(jp||{});function Rc(t,e){let n=fC(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function pC(t){Rc(1,t),Rc(0,t),Rc(2,t)}function fC(t){let e=dC;return t===1?e=lC:t===2&&(e=hC),e}function qk(t){return t+1}function Ji(t,e){let n=t[b],r=qk(e.index);return t[r]}function Ma(t,e){let n=qk(e.index);return t.data[n]}function yC(t,e,n){let r=e[b],i=Ma(r,n);switch(t){case Se.Complete:return i.primaryTmplIndex;case Se.Loading:return i.loadingTmplIndex;case Se.Error:return i.errorTmplIndex;case Se.Placeholder:return i.placeholderTmplIndex;default:return null}}function Mg(t,e){return e===Se.Placeholder?t.placeholderBlockConfig?.[vg]??null:e===Se.Loading?t.loadingBlockConfig?.[vg]??null:null}function gC(t){return t.loadingBlockConfig?.[sC]??null}function wg(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function mC(t,e){let n=e.primaryTmplIndex+te;return Hr(t,n)}var kC=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let a=i.length>0?Qi(i,r,o):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=v({token:t,providedIn:"environment",factory:()=>new t})}return t})();var Uk=new M("");function Mh(t,e,n){return t.get(kC).getOrCreateInjector(e,t,n,"")}function vC(t,e,n){if(t instanceof Hi){let i=t.injector,o=t.parentInjector,a=Mh(o,e,n);return new Hi(i,a)}let r=t.get(ye);if(r!==t){let i=Mh(r,e,n);return new Hi(t,i)}return Mh(t,e,n)}function qr(t,e,n,r=!1){let i=n[we],o=i[b];if(Jn(i))return;let a=Ji(i,e),s=a[va],c=a[uC];if(!(c!==null&&t<c)&&Ig(s,t)&&Ig(a[cC]??-1,t)){let d=Ma(o,e),u=!r&&!0&&(gC(d)!==null||Mg(d,Se.Loading)!==null||Mg(d,Se.Placeholder))?IC:wC;try{u(t,a,n,e,i)}catch(h){Ep(i,h)}}}function MC(t,e){let n=t[Ft]?.findIndex(i=>i.data[lm]===e[va])??-1;return{dehydratedView:n>-1?t[Ft][n]:null,dehydratedViewIx:n}}function wC(t,e,n,r,i){Y(Z.DeferBlockStateStart);let o=yC(t,i,r);if(o!==null){e[va]=t;let a=i[b],s=o+te,c=Hr(a,s),d=0;Ap(n,d);let l;if(t===Se.Complete){let y=Ma(a,r),I=y.providers;I&&I.length>0&&(l=vC(i[st],y,I))}let{dehydratedView:u,dehydratedViewIx:h}=MC(n,e),f=Ki(i,c,null,{injector:l,dehydratedView:u});if(Yi(n,f,d,Gr(c,u)),yd(f,2),h>-1&&n[Ft]?.splice(h,1),(t===Se.Complete||t===Se.Error)&&Array.isArray(e[Vi])){for(let y of e[Vi])y();e[Vi]=null}}Y(Z.DeferBlockStateEnd)}function Ig(t,e){return t<e}function Cg(t,e,n){t.loadingPromise.then(()=>{t.loadingState===ht.COMPLETE?qr(Se.Complete,e,n):t.loadingState===ht.FAILED&&qr(Se.Error,e,n)})}var IC=null;var Cd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Hp=new M("");function eo(t){return!!t&&typeof t.then=="function"}function Vp(t){return!!t&&typeof t.subscribe=="function"}var $k=new M("");var zp=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=p($k,{optional:!0})??[];injector=p(Ie);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ne(this.injector,i);if(eo(o))n.push(o);else if(Vp(o)){let a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ir=new M("");function Wk(){Vu(()=>{let t="";throw new C(600,t)})}function Gk(t){return t.isBoundToModule}var CC=10;var $e=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=p(bt);afterRenderManager=p(Ip);zonelessEnabled=p(na);rootEffectScheduler=p(Cc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new A;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=p(on);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(j(n=>!n))}constructor(){p(An,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=p(ye);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ie.NULL){return this._injector.get(fe).run(()=>{Y(Z.BootstrapComponentStart);let a=n instanceof wd;if(!this._injector.get(zp).done){let y="";throw new C(405,y)}let c;a?c=n:c=this._injector.get(ma).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=Gk(c)?void 0:this._injector.get(Zr),l=r||c.selector,u=c.create(i,[],l,d),h=u.location.nativeElement,f=u.injector.get(Hp,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),ia(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),Y(Z.BootstrapComponentEnd,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Y(Z.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ud.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Y(Z.ChangeDetectionEnd),new C(101,!1);let n=x(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,x(n),this.afterTick.next(),Y(Z.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(pt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<CC;){Y(Z.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Y(Z.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ea(i))continue;let o=r&&!this.zonelessEnabled?0:1;lk(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ea(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ia(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(ir,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ia(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ia(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bC(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Zk(t,e,n){let r=e[st],i=e[b];if(t.loadingState!==ht.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Ji(e,n),a=mC(i,t);t.loadingState=ht.IN_PROGRESS,Rc(1,o);let s=t.dependencyResolverFn,c=r.get(Br).add();return s?(t.loadingPromise=Promise.allSettled(s()).then(d=>{let l=!1,u=[],h=[];for(let f of d)if(f.status==="fulfilled"){let y=f.value,I=Nt(y)||ac(y);if(I)u.push(I);else{let k=L1(y);k&&h.push(k)}}else{l=!0;break}if(l){if(t.loadingState=ht.FAILED,t.errorTmplIndex===null){let y=new C(-750,!1);Ep(e,y)}}else{t.loadingState=ht.COMPLETE;let f=a.tView;if(u.length>0){f.directiveRegistry=wg(f.directiveRegistry,u);let y=u.map(k=>k.type),I=uc(!1,...y);t.providers=I}h.length>0&&(f.pipeRegistry=wg(f.pipeRegistry,h))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,c()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=ht.COMPLETE,c()}),t.loadingPromise)}function _C(t,e){return e[st].get(Uk,null,{optional:!0})?.behavior!==jp.Manual}function SC(t,e,n){let r=e[b],i=e[n.index];if(!_C(t,e))return;let o=Ji(e,n),a=Ma(r,n);switch(pC(o),a.loadingState){case ht.NOT_STARTED:qr(Se.Loading,n,i),Zk(a,e,n),a.loadingState===ht.IN_PROGRESS&&Cg(a,n,i);break;case ht.IN_PROGRESS:qr(Se.Loading,n,i),Cg(a,n,i);break;case ht.COMPLETE:qr(Se.Complete,n,i);break;case ht.FAILED:qr(Se.Error,n,i);break;default:}}async function Kk(t,e,n){let r=t.get(id);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:a}=R8(e,t);if(a.length===0)return;o!==null&&a.shift(),EC(r,a),o!==null&&await o;let s=a[0];r.has(s)?await bg(t,a,n):r.awaitParentBlock(s,async()=>await bg(t,a,n))}async function bg(t,e,n){let r=t.get(id),i=r.hydrating,o=t.get(on),a=o.add();for(let c=0;c<e.length;c++){let d=e[c],l=r.get(d);if(l!=null){if(await LC(l),await TC(t),DC(l)){c6(l),_g(e.slice(c),r);break}i.get(d).resolve()}else{xC(c,e,r),_g(e.slice(c),r);break}}let s=e[e.length-1];await i.get(s)?.promise,o.remove(a),n&&n(e),d6(r.get(s),e,r,t.get($e))}function DC(t){return Ji(t.lView,t.tNode)[va]===Se.Error}function xC(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Md(i.lContainer)}function _g(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function EC(t,e){for(let n of e)t.hydrating.set(n,bC())}function TC(t){return new Promise(e=>Zi(e,{injector:t}))}async function LC(t){let{tNode:e,lView:n}=t,r=Ji(n,e);return new Promise(i=>{AC(r,i),SC(2,n,e)})}function AC(t,e){Array.isArray(t[Vi])||(t[Vi]=[]),t[Vi].push(e)}function to(t,e,n,r){let i=H(),o=zr();if(En(i,o,e)){let a=_e(),s=wc();TI(s,i,t,e,n,r)}return to}var eH=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var $h=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function wh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function RC(t,e,n,r){let i,o,a=0,s=t.length-1,c=void 0;if(Array.isArray(e)){x(r);let d=e.length-1;for(x(null);a<=s&&a<=d;){let l=t.at(a),u=e[a],h=wh(a,l,a,u,n);if(h!==0){h<0&&t.updateValue(a,u),a++;continue}let f=t.at(s),y=e[d],I=wh(s,f,d,y,n);if(I!==0){I<0&&t.updateValue(s,y),s--,d--;continue}let k=n(a,l),w=n(s,f),ee=n(a,u);if(Object.is(ee,w)){let ve=n(d,y);Object.is(ve,k)?(t.swap(a,s),t.updateValue(s,y),d--,s--):t.move(s,a),t.updateValue(a,u),a++;continue}if(i??=new Kc,o??=Dg(t,a,s,n),Wh(t,i,a,ee))t.updateValue(a,u),a++,s++;else if(o.has(ee))i.set(k,t.detach(a)),s--;else{let ve=t.create(a,e[a]);t.attach(a,ve),a++,s++}}for(;a<=d;)Sg(t,i,n,a,e[a]),a++}else if(e!=null){x(r);let d=e[Symbol.iterator]();x(null);let l=d.next();for(;!l.done&&a<=s;){let u=t.at(a),h=l.value,f=wh(a,u,a,h,n);if(f!==0)f<0&&t.updateValue(a,h),a++,l=d.next();else{i??=new Kc,o??=Dg(t,a,s,n);let y=n(a,h);if(Wh(t,i,a,y))t.updateValue(a,h),a++,s++,l=d.next();else if(!o.has(y))t.attach(a,t.create(a,h)),a++,s++,l=d.next();else{let I=n(a,u);i.set(I,t.detach(a)),s--}}}for(;!l.done;)Sg(t,i,n,t.length,l.value),l=d.next()}for(;a<=s;)t.destroy(t.detach(s--));i?.forEach(d=>{t.destroy(d)})}function Wh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Sg(t,e,n,r,i){if(Wh(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Dg(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Kc=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function ue(t,e,n,r,i,o,a,s){Dt("NgControlFlow");let c=H(),d=_e(),l=Ct(d.consts,o);return ua(c,d,t,e,n,r,i,l,256,a,s),Bp}function Bp(t,e,n,r,i,o,a,s){Dt("NgControlFlow");let c=H(),d=_e(),l=Ct(d.consts,o);return ua(c,d,t,e,n,r,i,l,512,a,s),Bp}function he(t,e){Dt("NgControlFlow");let n=H(),r=zr(),i=n[r]!==St?n[r]:-1,o=i!==-1?Yc(n,te+i):void 0,a=0;if(En(n,r,t)){let s=x(null);try{if(o!==void 0&&Ap(o,a),t!==-1){let c=te+t,d=Yc(n,c),l=Yh(n[b],c),u=Ik(d,l,n),h=Ki(n,l,e,{dehydratedView:u});Yi(d,h,a,Gr(l,u))}}finally{x(s)}}else if(o!==void 0){let s=yk(o,a);s!==void 0&&(s[Ce]=e)}}var Gh=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ge}};function qp(t){return t}var Zh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function or(t,e,n,r,i,o,a,s,c,d,l,u,h){Dt("NgControlFlow");let f=H(),y=_e(),I=c!==void 0,k=H(),w=s?a.bind(k[Fe][Ce]):a,ee=new Zh(I,w);k[te+t]=ee,ua(f,y,t+1,e,n,r,i,Ct(y.consts,o),256),I&&ua(f,y,t+2,c,d,l,u,Ct(y.consts,h),512)}var Kh=class extends $h{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ge}at(e){return this.getLView(e)[Ce].$implicit}attach(e,n){let r=n[Ke];this.needsIndexUpdate||=e!==this.length,Yi(this.lContainer,n,e,Gr(this.templateTNode,r)),PC(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,OC(this.lContainer,e),NC(this.lContainer,e)}create(e,n){let r=da(this.lContainer,this.templateTNode.tView.ssrId);return Ki(this.hostLView,this.templateTNode,new Gh(this.lContainer,n,e),{dehydratedView:r})}destroy(e){hd(e[b],e)}updateValue(e,n){this.getLView(e)[Ce].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ce].$index=e}getLView(e){return FC(this.lContainer,e)}};function ar(t){let e=x(null),n=Dn();try{let r=H(),i=r[b],o=r[n],a=n+1,s=Yc(r,a);if(o.liveCollection===void 0){let d=Yh(i,a);o.liveCollection=new Kh(s,r,d)}else o.liveCollection.reset();let c=o.liveCollection;if(RC(c,t,o.trackByFn,e),c.updateIndexes(),o.hasEmptyBlock){let d=zr(),l=c.length===0;if(En(r,d,l)){let u=n+2,h=Yc(r,u);if(l){let f=Yh(i,u),y=Ik(h,f,r),I=Ki(r,f,void 0,{dehydratedView:y});Yi(h,I,0,Gr(f,y))}else i.firstUpdatePass&&vd(h),Ap(h,0)}}}finally{x(e)}}function Yc(t,e){return t[e]}function PC(t,e){if(t.length<=ge)return;let n=ge+e,r=t[n],i=r?r[Nr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[st];sI(o,i),Wr.delete(r),i.detachedLeaveAnimationFns=void 0}}function OC(t,e){if(t.length<=ge)return;let n=ge+e,r=t[n],i=r?r[Nr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function NC(t,e){return ca(t,e)}function FC(t,e){return yk(t,e)}function Yh(t,e){return Hr(t,e)}function me(t,e,n){let r=H(),i=zr();if(En(r,i,e)){let o=_e(),a=wc();_I(a,r,t,e,r[ie],n)}return me}function xg(t,e,n,r,i){Tp(e,t,n,i?"class":"style",r)}function _(t,e,n,r){let i=H(),o=i[b],a=t+te,s=o.firstCreatePass?Pp(a,i,2,e,Sp,yc(),n,r):o.data[a];if(Dp(s,i,t,e,Up),Oi(s)){let c=i[b];fd(c,i,s),hp(c,s,i)}return r!=null&&ga(i,s),_}function L(){let t=_e(),e=Be(),n=xp(e);return t.firstCreatePass&&Op(t,n),K1(n)&&Y1(),Z1(),n.classesWithoutHost!=null&&t8(n)&&xg(t,n,H(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&n8(n)&&xg(t,n,H(),n.stylesWithoutHost,!1),L}function K(t,e,n,r){return _(t,e,n,r),L(),K}function Le(t,e,n,r){let i=H(),o=i[b],a=t+te,s=o.firstCreatePass?b6(a,o,2,e,n,r):o.data[a];return Dp(s,i,t,e,Up),r!=null&&ga(i,s),Le}function Ae(){let t=Be(),e=xp(t);return K1(e)&&Y1(),Z1(),Ae}function Yr(t,e,n,r){return Le(t,e,n,r),Ae(),Yr}var Up=(t,e,n,r,i)=>(xn(!0),yp(e[ie],r,oh()));function jC(t,e,n,r,i){let o=!ad(e,n);if(xn(o),o)return yp(e[ie],r,oh());let a=e[Ke],s=md(a,t,e,n);return Em(a,i)&&od(a,i,s.nextSibling),a&&(Kg(n)||Yg(s))&&Sn(n)&&(Ey(n),Fm(s)),s}function Yk(){Up=jC}function bd(t,e,n){let r=H(),i=r[b],o=t+te,a=i.firstCreatePass?Pp(o,r,8,"ng-container",Sp,yc(),e,n):i.data[o];if(Dp(a,r,t,"ng-container",Xk),Oi(a)){let s=r[b];fd(s,r,a),hp(s,a,r)}return n!=null&&ga(r,a),bd}function _d(){let t=_e(),e=Be(),n=xp(e);return t.firstCreatePass&&Op(t,n),_d}var Xk=(t,e,n,r,i)=>(xn(!0),Om(e[ie],""));function HC(t,e,n,r,i){let o,a=!ad(e,n);if(xn(a),a)return Om(e[ie],"");let s=e[Ke],c=md(s,t,e,n),d=L8(s,i);return od(s,i,c),o=kd(d,c),o}function Qk(){Xk=HC}function ke(){return H()}function Sd(t,e,n){let r=H(),i=zr();if(En(r,i,e)){let o=_e(),a=wc();ik(a,r,t,e,r[ie],n)}return Sd}var wa="en-US";var VC=wa;function Jk(t){typeof t=="string"&&(VC=t.toLowerCase().replace(/_/g,"-"))}function Q(t,e,n){let r=H(),i=_e(),o=Be();return zC(i,r,r[ie],o,t,e,n),Q}function no(t,e,n){let r=H(),i=_e(),o=Be();return(o.type&3||n)&&xk(o,i,r,n,r[ie],t,e,Ac(o,r,e)),no}function zC(t,e,n,r,i,o,a){let s=!0,c=null;if((r.type&3||a)&&(c??=Ac(r,e,o),xk(r,t,e,a,n,i,o,c)&&(s=!1)),s){let d=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let u=0;u<l.length;u+=2){let h=l[u],f=l[u+1];c??=Ac(r,e,o),yg(r,e,h,f,i,c)}if(d&&d.length)for(let u of d)c??=Ac(r,e,o),yg(r,e,u,i,i,c)}}function V(t=1){return By(t)}function BC(t,e){let n=null,r=Z8(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?Bm(t,o,!0):X8(r,o))return i}return n}function Dd(t){let e=H()[Fe][Ze];if(!e.projection){let n=t?t.length:1,r=e.projection=dy(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let a=t?BC(o,t):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function xd(t,e=0,n,r,i,o){let a=H(),s=_e(),c=r?t+1:null;c!==null&&ua(a,s,c,r,i,o,null,n);let d=Xi(s,te+t,16,null,n||null);d.projection===null&&(d.projection=e),J1();let u=!a[Ke]||gc();a[Fe][Ze].projection[d.projection]===null&&c!==null?qC(a,s,c):u&&!ya(d)&&kI(s,a,d)}function qC(t,e,n){let r=te+n,i=e.data[r],o=t[r],a=da(o,i.tView.ssrId),s=Ki(t,i,void 0,{dehydratedView:a});Yi(o,s,0,Gr(i,a))}function Xr(t,e,n){return Y6(t,e,n),Xr}function dn(t){let e=H(),n=_e(),r=nh();kc(r+1);let i=Fp(n,r);if(t.dirty&&Iy(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=J6(e,r);t.reset(o,y8),t.notifyOnChanges()}return!0}return!1}function ln(){return Z6(H(),nh())}function Bt(t){let e=Ly();return wy(e,te+t)}function Sc(t,e){return t<<17|e<<2}function Kr(t){return t>>17&32767}function UC(t){return(t&2)==2}function $C(t,e){return t&131071|e<<17}function Xh(t){return t|2}function Bi(t){return(t&131068)>>2}function Ih(t,e){return t&-131069|e<<2}function WC(t){return(t&1)===1}function Qh(t){return t|1}function GC(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,s=Kr(a),c=Bi(a);t[r]=n;let d=!1,l;if(Array.isArray(n)){let u=n;l=u[1],(l===null||Li(u,l)>0)&&(d=!0)}else l=n;if(i)if(c!==0){let h=Kr(t[s+1]);t[r+1]=Sc(h,s),h!==0&&(t[h+1]=Ih(t[h+1],r)),t[s+1]=$C(t[s+1],r)}else t[r+1]=Sc(s,0),s!==0&&(t[s+1]=Ih(t[s+1],r)),s=r;else t[r+1]=Sc(c,0),s===0?s=r:t[c+1]=Ih(t[c+1],r),c=r;d&&(t[r+1]=Xh(t[r+1])),Eg(t,l,r,!0),Eg(t,l,r,!1),ZC(e,l,t,r,o),a=Sc(s,c),o?e.classBindings=a:e.styleBindings=a}function ZC(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Li(o,e)>=0&&(n[r+1]=Qh(n[r+1]))}function Eg(t,e,n,r){let i=t[n+1],o=e===null,a=r?Kr(i):Bi(i),s=!1;for(;a!==0&&(s===!1||o);){let c=t[a],d=t[a+1];KC(c,e)&&(s=!0,t[a+1]=r?Qh(d):Xh(d)),a=r?Kr(d):Bi(d)}s&&(t[n+1]=r?Xh(i):Qh(i))}function KC(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Li(t,e)>=0:!1}function Ia(t,e,n){return ev(t,e,n,!1),Ia}function De(t,e){return ev(t,e,null,!0),De}function ev(t,e,n,r){let i=H(),o=_e(),a=th(2);if(o.firstUpdatePass&&XC(o,t,a,r),e!==St&&En(i,a,e)){let s=o.data[Dn()];nb(o,s,i,i[ie],t,i[a+1]=rb(e,n),r,a)}}function YC(t,e){return e>=t.expandoStartIndex}function XC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Dn()],a=YC(t,n);ib(o,r)&&e===null&&!a&&(e=!1),e=QC(i,o,e,r),GC(i,o,e,n,a,r)}}function QC(t,e,n,r){let i=jy(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ch(null,t,e,n,r),n=ha(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Ch(i,t,e,n,r),o===null){let c=JC(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Ch(null,t,e,c[1],r),c=ha(c,e.attrs,r),eb(t,e,r,c))}else o=tb(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function JC(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Bi(r)!==0)return t[Kr(r)]}function eb(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Kr(i)]=r}function tb(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=ha(r,a,n)}return ha(r,e.attrs,n)}function Ch(t,e,n,r,i){let o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(o=e[s],r=ha(r,o.hostAttrs,i),o!==t);)s++;return t!==null&&(n.directiveStylingLast=s),r}function ha(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),uy(t,a,n?!0:e[++o]))}return t===void 0?null:t}function nb(t,e,n,r,i,o,a,s){if(!(e.type&3))return;let c=t.data,d=c[s+1],l=WC(d)?Tg(c,e,n,i,Bi(d),a):void 0;if(!Xc(l)){Xc(o)||UC(d)&&(o=Tg(c,null,n,i,s,a));let u=B1(Dn(),n);MI(r,a,u,i,o)}}function Tg(t,e,n,r,i,o){let a=e===null,s;for(;i>0;){let c=t[i],d=Array.isArray(c),l=d?c[1]:c,u=l===null,h=n[i+1];h===St&&(h=u?mt:void 0);let f=u?lc(h,r):l===r?h:void 0;if(d&&!Xc(f)&&(f=lc(c,r)),Xc(f)&&(s=f,a))return s;let y=t[i+1];i=a?Kr(y):Bi(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(s=lc(c,r))}return s}function Xc(t){return t!==void 0}function rb(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=bn(sd(t)))),t}function ib(t,e){return(t.flags&(e?8:16))!==0}function G(t,e=""){let n=H(),r=_e(),i=t+te,o=r.firstCreatePass?Xi(r,i,1,e,null):r.data[i],a=tv(r,n,o,e,t);n[i]=a,Ic()&&bp(r,n,a,o),Ni(o,!1)}var tv=(t,e,n,r,i)=>(xn(!0),Pm(e[ie],r));function ob(t,e,n,r,i){let o=!ad(e,n);if(xn(o),o)return Pm(e[ie],r);let a=e[Ke];return md(a,t,e,n)}function nv(){tv=ob}function ab(t,e,n,r=""){return En(t,zr(),n)?e+Lr(n)+r:St}function sb(t,e,n,r,i,o=""){let a=Ry(),s=D6(t,a,n,i);return th(2),s?e+Lr(n)+r+Lr(i)+o:St}function nt(t){return Ca("",t),nt}function Ca(t,e,n){let r=H(),i=ab(r,t,e,n);return i!==St&&rv(r,Dn(),i),Ca}function Ed(t,e,n,r,i){let o=H(),a=sb(o,t,e,n,r,i);return a!==St&&rv(o,Dn(),a),Ed}function rv(t,e,n){let r=B1(e,t);H8(t[ie],r,n)}function Lg(t,e,n){let r=_e();r.firstCreatePass&&iv(e,r.data,r.blueprint,Qn(t),n)}function iv(t,e,n,r,i){if(t=Oe(t),Array.isArray(t))for(let o=0;o<t.length;o++)iv(t[o],e,n,r,i);else{let o=_e(),a=H(),s=Be(),c=xr(t)?t:Oe(t.provide),d=j1(t),l=s.providerIndexes&1048575,u=s.directiveStart,h=s.providerIndexes>>20;if(xr(t)||!t.multi){let f=new $r(d,i,Ue,null),y=_h(c,e,i?l:l+h,u);y===-1?(Dh(Fc(s,a),o,c),bh(o,t,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(f),a.push(f)):(n[y]=f,a[y]=f)}else{let f=_h(c,e,l+h,u),y=_h(c,e,l,l+h),I=f>=0&&n[f],k=y>=0&&n[y];if(i&&!k||!i&&!I){Dh(Fc(s,a),o,c);let w=lb(i?db:cb,n.length,i,r,d,t);!i&&k&&(n[y].providerFactory=w),bh(o,t,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(w),a.push(w)}else{let w=ov(n[i?y:f],d,!i&&r);bh(o,t,f>-1?f:y,w)}!i&&r&&k&&n[y].componentProviders++}}}function bh(t,e,n,r){let i=xr(e),o=gy(e);if(i||o){let c=(o?Oe(e.useClass):e).prototype.ngOnDestroy;if(c){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=d.indexOf(n);l===-1?d.push(n,[r,c]):d[l+1].push(r,c)}else d.push(n,c)}}}function ov(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _h(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function cb(t,e,n,r,i){return Jh(this.multi,[])}function db(t,e,n,r,i){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=oa(r,r[b],this.providerFactory.index,i);a=c.slice(0,s),Jh(o,a);for(let d=s;d<c.length;d++)a.push(c[d])}else a=[],Jh(o,a);return a}function Jh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function lb(t,e,n,r,i,o){let a=new $r(t,n,Ue,null);return a.multi=[],a.index=e,a.componentProviders=0,ov(a,i,r&&!n),a}function Qr(t,e){return n=>{n.providersResolver=(r,i)=>Lg(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>Lg(r,i?i(e):e,!0))}}function $p(t,e,n){let r=Ay()+t,i=H();return i[r]===St?_6(i,r,n?e.call(n):e()):S6(i,r)}function Wp(t,e){return gd(t,e)}var Qc=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gp=(()=>{class t{compileModuleSync(n){return new Zc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=T1(n),o=Vm(i.declarations).reduce((a,s)=>{let c=Nt(s);return c&&a.push(new nr(c)),a},[]);return new Qc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var av=(()=>{class t{applicationErrorHandler=p(bt);appRef=p($e);taskService=p(on);ngZone=p(fe);zonelessEnabled=p(na);tracing=p(An,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ae;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(p(ph,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ch:sh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ch(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sv(){return[{provide:_n,useExisting:av},{provide:fe,useClass:Go},{provide:na,useValue:!0}]}function ub(){return typeof $localize<"u"&&$localize.locale||wa}var Td=new M("",{factory:()=>p(Td,{optional:!0,skipSelf:!0})||ub()});var Ld=class{destroyed=!1;listeners=null;errorHandler=p(kt,{optional:!0});destroyRef=p(qe);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new C(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(Ot(953,!1));return}if(this.listeners===null)return;let n=x(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{x(n)}}};function pe(t,e){return Ms(t,e?.equal)}var Qp={JSACTION:"__jsaction",OWNER:"__owner"},uv={};function hb(t){return t[Qp.JSACTION]}function cv(t,e){t[Qp.JSACTION]=e}function pb(t){return uv[t]}function fb(t,e){uv[t]=e}var E={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},yb=[E.MOUSEENTER,E.MOUSELEAVE,"pointerenter","pointerleave"],cH=[E.CLICK,E.DBLCLICK,E.FOCUSIN,E.FOCUSOUT,E.KEYDOWN,E.KEYUP,E.KEYPRESS,E.MOUSEOVER,E.MOUSEOUT,E.SUBMIT,E.TOUCHSTART,E.TOUCHEND,E.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],gb=[E.FOCUS,E.BLUR,E.ERROR,E.LOAD,E.TOGGLE],Jp=t=>gb.indexOf(t)>=0;function mb(t){return t===E.MOUSEENTER?E.MOUSEOVER:t===E.MOUSELEAVE?E.MOUSEOUT:t===E.POINTERENTER?E.POINTEROVER:t===E.POINTERLEAVE?E.POINTEROUT:t}function kb(t,e,n,r){let i=!1;Jp(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function vb(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function Mb(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var dv=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function wb(t){return t.which===2||t.which==null&&t.button===4}function Ib(t){return dv&&t.metaKey||!dv&&t.ctrlKey||wb(t)||t.shiftKey}function Cb(t,e,n){let r=t.relatedTarget;return(t.type===E.MOUSEOVER&&e===E.MOUSEENTER||t.type===E.MOUSEOUT&&e===E.MOUSELEAVE||t.type===E.POINTEROVER&&e===E.POINTERENTER||t.type===E.POINTEROUT&&e===E.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function bb(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===E.MOUSEOVER?n.type=E.MOUSEENTER:t.type===E.MOUSEOUT?n.type=E.MOUSELEAVE:t.type===E.POINTEROVER?n.type=E.POINTERENTER:n.type=E.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var _b=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Od=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){_b&&(this.element.style.cursor="pointer"),this.handlerInfos.push(kb(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)vb(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},Sb={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function sr(t){return t.eventType}function e0(t,e){t.eventType=e}function Rd(t){return t.event}function hv(t,e){t.event=e}function pv(t){return t.targetElement}function fv(t,e){t.targetElement=e}function yv(t){return t.eic}function Db(t,e){t.eic=e}function xb(t){return t.timeStamp}function Eb(t,e){t.timeStamp=e}function Pd(t){return t.eia}function gv(t,e,n){t.eia=[e,n]}function Zp(t){t.eia=void 0}function Ad(t){return t[1]}function Tb(t){return t.eirp}function mv(t,e){t.eirp=e}function kv(t){return t.eir}function vv(t,e){t.eir=e}function Mv(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function Lb(t,e,n,r,i,o,a,s){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:a,eiack:s}}var Kp=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return sr(this.eventInfo)}setEventType(e){e0(this.eventInfo,e)}getEvent(){return Rd(this.eventInfo)}setEvent(e){hv(this.eventInfo,e)}getTargetElement(){return pv(this.eventInfo)}setTargetElement(e){fv(this.eventInfo,e)}getContainer(){return yv(this.eventInfo)}setContainer(e){Db(this.eventInfo,e)}getTimestamp(){return xb(this.eventInfo)}setTimestamp(e){Eb(this.eventInfo,e)}getAction(){let e=Pd(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Zp(this.eventInfo);return}gv(this.eventInfo,e.name,e.element)}getIsReplay(){return Tb(this.eventInfo)}setIsReplay(e){mv(this.eventInfo,e)}getResolved(){return kv(this.eventInfo)}setResolved(e){vv(this.eventInfo,e)}clone(){return new t(Mv(this.eventInfo))}},Ab={},Rb=/\s*;\s*/,Pb=E.CLICK,Yp=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&sr(e)===E.CLICK&&Ib(Rd(e))?e0(e,E.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){kv(e)||(this.populateAction(e,pv(e)),vv(e,!0))}resolveParentAction(e){let n=Pd(e),r=n&&Ad(n);Zp(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==yv(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Pd(e));)r=this.getParentNode(r);let i=Pd(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(sr(e)===E.MOUSEENTER||sr(e)===E.MOUSELEAVE||sr(e)===E.POINTERENTER||sr(e)===E.POINTERLEAVE)))if(Cb(Rd(e),sr(e),Ad(i))){let o=bb(Rd(e),Ad(i));hv(e,o),fv(e,Ad(i))}else Zp(e)}getParentNode(e){let n=e[Qp.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[sr(n)];i!==void 0&&gv(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=hb(e);if(!n){let r=e.getAttribute(bc.JSACTION);if(!r)n=Ab,cv(e,n);else{if(n=pb(r),!n){n={};let i=r.split(Rb);for(let o=0;o<i.length;o++){let a=i[o];if(!a)continue;let s=a.indexOf(Sb.EVENT_ACTION_SEPARATOR),c=s!==-1,d=c?a.substr(0,s).trim():Pb,l=c?a.substr(s+1).trim():a;n[d]=l}fb(r,n)}cv(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},wv=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(wv||{}),Xp=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Kp(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&Ob(r.element,n)&&Mb(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function Ob(t,e){return t.tagName==="A"&&(e.getEventType()===E.CLICK||e.getEventType()===E.CLICKMOD)}var Iv=Symbol.for("propagationStopped"),t0={REPLAY:101};var Nb="`preventDefault` called during event replay.";var Fb="`composedPath` called during event replay.",Nd=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Yp({clickModSupport:n}),this.dispatcher=new Xp(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&Vb(e),jb(e);e.getAction();){if(zb(e),Jp(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),Hb(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function jb(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[Iv]=!0,n()};Jr(e,"stopPropagation",r),Jr(e,"stopImmediatePropagation",r)}function Hb(t){return!!t.getEvent()[Iv]}function Vb(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Jr(e,"target",n),Jr(e,"eventPhase",t0.REPLAY),Jr(e,"preventDefault",()=>{throw r(),new Error(Nb+"")}),Jr(e,"composedPath",()=>{throw new Error(Fb+"")})}function zb(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Jr(e,"currentTarget",n,{configurable:!0})}function Jr(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function Cv(t,e){t.ecrd(n=>{e.dispatch(n)},wv.I_AM_THE_JSACTION_FRAMEWORK)}function Bb(t){return t?.q??[]}function qb(t){t&&(lv(t.c,t.et,t.h),lv(t.c,t.etc,t.h,!0))}function lv(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var Ub=!1,bv=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=Ub;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=Lb(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){mv(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&yb.indexOf(n)>=0)return;let o=(s,c,d)=>{this.handleEvent(s,c,d)};this.eventHandlers[n]=o;let a=mb(r||n);if(a!==n){let s=this.browserEventTypeToExtraEventTypes[a]||[];s.push(n),this.browserEventTypeToExtraEventTypes[a]=s}this.containerManager.addEventListener(a,s=>c=>{o(n,c,s)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),qb(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let a=0;a<o.length;a++){let s=Mv(i);e0(s,o[a]),this.handleEventInfo(s)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function _v(t,e=window){return Bb(e._ejsas?.[t])}function n0(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var Av=Symbol("InputSignalNode#UNSET"),v_=U(m({},ws),{transformFn:void 0,applyValueToInputSignal(t,e){Oo(t,e)}});function Rv(t,e){let n=Object.create(v_);n.value=t,n.transformFn=e?.transform;function r(){if(Ao(n),n.value===Av){let i=null;throw new C(-950,i)}return n.value}return r[et]=n,r}function i0(t){return new Ld}function Sv(t,e){return Rv(t,e)}function M_(t){return Rv(Av,t)}var ei=(Sv.required=M_,Sv);var r0=new M(""),w_=new M("");function ba(t){return!t.moduleRef}function I_(t){let e=ba(t)?t.r3Injector:t.moduleRef.injector,n=e.get(fe);return n.run(()=>{ba(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ba(t)){let o=()=>e.destroy(),a=t.platformInjector.get(r0);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(r0);a.add(o),t.moduleRef.onDestroy(()=>{ia(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return b_(r,n,()=>{let o=e.get(on),a=o.add(),s=e.get(zp);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(Td,wa);if(Jk(c||wa),!e.get(w_,!0))return ba(t)?e.get($e):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ba(t)){let l=e.get($e);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return C_?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(a))})})}var C_;function b_(t,e,n){try{let r=n();return eo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var jd=null;function __(t=[],e){return Ie.create({name:e,providers:[{provide:Xo,useValue:"platform"},{provide:r0,useValue:new Set([()=>jd=null])},...t]})}function S_(t=[]){if(jd)return jd;let e=__(t);return jd=e,Wk(),D_(e),e}function D_(t){let e=t.get(nd,null);Ne(t,()=>{e?.forEach(n=>n())})}var qt=(()=>{class t{static __NG_ELEMENT_ID__=x_}return t})();function x_(t){return E_(Be(),H(),(t&16)===16)}function E_(t,e,n){if(Sn(t)&&!n){let r=It(t.index,e);return new tr(r,r)}else if(t.type&175){let r=e[Fe];return new tr(r,e)}return null}function Pv(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Y(Z.BootstrapApplicationStart);try{let o=i?.injector??S_(r),a=[sv(),Wy,...n||[]],s=new la({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return I_({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Y(Z.BootstrapApplicationEnd)}}var Fd=new WeakSet,Dv="",Hd=[];function xv(t){return t.get(sp,pm)}function Ov(){let t=[{provide:sp,useFactory:()=>{let e=!0;{let n=p(_t);e=!!window._ejsas?.[n]}return e&&Dt("NgEventReplay"),e}}];return t.push({provide:en,useValue:()=>{let e=p($e),{injector:n}=e;if(!Fd.has(e)){let r=p(cp);if(xv(n)){wm();let i=n.get(_t),o=vm(i,(a,s,c)=>{a.nodeType===Node.ELEMENT_NODE&&(ym(a,s,c),gm(a,r))});e.onDestroy(o)}}},multi:!0},{provide:ir,useFactory:()=>{let e=p($e),{injector:n}=e;return()=>{if(!xv(n)||Fd.has(e))return;Fd.add(e);let r=n.get(_t);e.onDestroy(()=>{Fd.delete(e),n0(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get(km);T_(i,n);let o=n.get(cp);o.get(Dv)?.forEach(mm),o.delete(Dv);let a=i.instance;xm(n)?e.onDestroy(()=>a.cleanUp()):a.cleanUp()})}},multi:!0}),t}var T_=(t,e)=>{let n=e.get(_t),r=window._ejsas[n],i=t.instance=new bv(new Od(r.c));for(let s of r.et)i.addEvent(s);for(let s of r.etc)i.addEvent(s);let o=_v(n);i.replayEarlyEventInfos(o),n0(n);let a=new Nd(s=>{L_(e,s,s.currentTarget)});Cv(i,a)};function L_(t,e,n){let r=(n&&n.getAttribute(fa))??"";/d\d+/.test(r)?A_(r,t,e,n):e.eventPhase===t0.REPLAY&&dp(e,n)}function A_(t,e,n,r){Hd.push({event:n,currentTarget:r}),Kk(e,t,R_)}function R_(t){let e=[...Hd],n=new Set(t);Hd=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(fa);n.has(o)?dp(r,i):Hd.push({event:r,currentTarget:i})}}var Ev=!1;function P_(){Ev||(Ev=!0,_m(),Yk(),nv(),Qk(),Bk(),Ok(),wk(),rk())}function O_(t){return t.whenStable()}function Nv(){let t=[{provide:pa,useFactory:()=>{let e=!0;return e=!!p(Wi,{optional:!0})?.get(lp,null),e&&Dt("NgHydration"),e}},{provide:en,useValue:()=>{mk(!1);let e=p(oe);p(pa)&&(Lm(e),P_())},multi:!0}];return t.push({provide:ap,useFactory:()=>p(pa)},{provide:ir,useFactory:()=>{if(p(pa)){let e=p($e);return()=>{O_(e).then(()=>{e.destroyed||Rp(e)})}}return()=>{}},multi:!0}),vt(t)}function Rn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Fv(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function jv(t,e){let n=Nt(t),r=e.elementInjector||Ai();return new nr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function Hv(t){let e=Nt(t);if(!e)return null;let n=new nr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Vv=null;function Pn(){return Vv}function o0(t){Vv??=t}var _a=class{},ro=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:()=>p(zv),providedIn:"platform"})}return t})();var zv=(()=>{class t extends ro{_location;_history;_doc=p(oe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(n){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Uv(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Bv(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function cr(t){return t&&t[0]!=="?"?`?${t}`:t}var Vd=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:()=>p(F_),providedIn:"root"})}return t})(),N_=new M(""),F_=(()=>{class t extends Vd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??p(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+cr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+cr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+cr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(T(ro),T(N_,8))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),io=(()=>{class t{_subject=new A;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=V_(Bv(qv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+cr(r))}normalize(n){return t.stripTrailingSlash(H_(this._basePath,qv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=cr;static joinWithSlash=Uv;static stripTrailingSlash=Bv;static \u0275fac=function(r){return new(r||t)(T(Vd))};static \u0275prov=v({token:t,factory:()=>j_(),providedIn:"root"})}return t})();function j_(){return new io(T(Vd))}function H_(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function qv(t){return t.replace(/\/index.html$/,"")}function V_(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var a0=(()=>{class t{_viewContainer;_context=new zd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$v(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$v(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ue(Vt),Ue(cn))};static \u0275dir=zt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),zd=class{$implicit=null;ngIf=null};function $v(t,e){if(t&&!t.createEmbeddedView)throw new C(2020,!1)}var Tt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=xt({type:t});static \u0275inj=at({})}return t})();function Sa(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ti=class{};var s0="browser";function Bd(t){return t===s0}var Da=class{_doc;constructor(e){this._doc=e}manager},qd=(()=>{class t extends Da{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(T(oe))};static \u0275prov=v({token:t,factory:t.\u0275fac})}return t})(),Wd=new M(""),u0=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this});let i=n.filter(a=>!(a instanceof qd));this._plugins=i.slice().reverse();let o=n.find(a=>a instanceof qd);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(T(Wd),T(fe))};static \u0275prov=v({token:t,factory:t.\u0275fac})}return t})(),c0="ng-app-id";function Wv(t){for(let e of t)e.remove()}function Gv(t,e){let n=e.createElement("style");return n.textContent=t,n}function U_(t,e,n,r){let i=t.head?.querySelectorAll(`style[${c0}="${e}"],link[${c0}="${e}"]`);if(i)for(let o of i)o.removeAttribute(c0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function l0(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var h0=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,U_(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Gv);r?.forEach(i=>this.addUsage(i,this.external,l0))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Wv(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Wv(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Gv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,l0(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(T(oe),T(_t),T($i,8),T(Ln))};static \u0275prov=v({token:t,factory:t.\u0275fac})}return t})(),d0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},p0=/%COMP%/g;var Kv="%COMP%",$_=`_nghost-${Kv}`,W_=`_ngcontent-${Kv}`,G_=!0,Z_=new M("",{factory:()=>G_});function K_(t){return W_.replace(p0,t)}function Y_(t){return $_.replace(p0,t)}function Yv(t,e){return e.map(n=>n.replace(p0,t))}var f0=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,a,s,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=c,this.tracingService=d,this.defaultRenderer=new xa(n,a,s,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof $d?i.applyToHost(n):i instanceof Ea&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,u=this.tracingService;switch(r.encapsulation){case Ht.Emulated:o=new $d(c,d,r,this.appId,l,a,s,u);break;case Ht.ShadowDom:return new Ud(c,n,r,a,s,this.nonce,u,d);case Ht.ExperimentalIsolatedShadowDom:return new Ud(c,n,r,a,s,this.nonce,u);default:o=new Ea(c,d,r,l,a,s,u);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(T(u0),T(h0),T(_t),T(Z_),T(oe),T(fe),T($i),T(An,8))};static \u0275prov=v({token:t,factory:t.\u0275fac})}return t})(),xa=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(d0[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Zv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Zv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=d0[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=d0[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sn.DashCase|sn.Important)?e.style.setProperty(n,r,i&sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Pn().getGlobalEventTarget(this.doc,e),!e))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Zv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ud=class extends xa{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,a,s,c){super(e,i,o,s),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Yv(r.id,d);for(let u of d){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}let l=r.getExternalStyles?.();if(l)for(let u of l){let h=l0(u,i);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ea=class extends xa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,s,c){super(e,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?Yv(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Wr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$d=class extends Ea{contentAttr;hostAttr;constructor(e,n,r,i,o,a,s,c){let d=i+"-"+r.id;super(e,n,r,o,a,s,c,d),this.contentAttr=K_(d),this.hostAttr=Y_(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Gd=class t extends _a{supportsDOMEvents=!0;static makeCurrent(){o0(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=X_();return n==null?null:Q_(n)}resetBaseElement(){Ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sa(document.cookie,e)}},Ta=null;function X_(){return Ta=Ta||document.head.querySelector("base"),Ta?Ta.getAttribute("href"):null}function Q_(t){return new URL(t,document.baseURI).pathname}var J_=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac})}return t})(),Xv=["alt","control","meta","shift"],eS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tS={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Qv=(()=>{class t extends Da{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(n,a.domEventName,s,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Xv.forEach(d=>{let l=r.indexOf(d);l>-1&&(r.splice(l,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let i=eS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Xv.forEach(a=>{if(a!==i){let s=tS[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(T(oe))};static \u0275prov=v({token:t,factory:t.\u0275fac})}return t})();function y0(t,e,n){let r=m({rootComponent:t,platformRef:n?.platformRef},nS(e));return Pv(r)}function nS(t){return{appProviders:[...sS,...t?.providers??[]],platformProviders:aS}}function rS(){Gd.makeCurrent()}function iS(){return new kt}function oS(){return rp(document),document}var aS=[{provide:Ln,useValue:s0},{provide:nd,useValue:rS,multi:!0},{provide:oe,useFactory:oS}];var sS=[{provide:Xo,useValue:"root"},{provide:kt,useFactory:iS},{provide:Wd,useClass:qd,multi:!0},{provide:Wd,useClass:Qv,multi:!0},f0,h0,u0,{provide:pt,useExisting:f0},{provide:ti,useClass:J_},[]];var Nn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Kd=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},Yd=class{encodeKey(e){return Jv(e)}encodeValue(e){return Jv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cS(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,s]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(a)||[];c.push(s),n.set(a,c)}),n}var dS=/%(\d[a-f0-9])/gi,lS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jv(t){return encodeURIComponent(t).replace(dS,(e,n)=>lS[n]??e)}function Zd(t){return`${t}`}var On=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Yd,e.fromString){if(e.fromObject)throw new C(2805,!1);this.map=cS(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Zd):[Zd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Zd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Zd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function uS(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function e4(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function t4(t){return typeof Blob<"u"&&t instanceof Blob}function n4(t){return typeof FormData<"u"&&t instanceof FormData}function hS(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var r4="Content-Type",i4="Accept",o4="text/plain",a4="application/json",pS=`${a4}, ${o4}, */*`,oo=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(uS(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new C(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Nn,this.context??=new Kd,!this.params)this.params=new On,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let s=n.indexOf("?"),c=s===-1?"?":s<n.length-1?"&":"";this.urlWithParams=n+c+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||e4(this.body)||t4(this.body)||n4(this.body)||hS(this.body)?this.body:this.body instanceof On?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||n4(this.body)?null:t4(this.body)?this.body.type||null:e4(this.body)?null:typeof this.body=="string"?o4:this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?a4:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,a=e.priority||this.priority,s=e.cache||this.cache,c=e.mode||this.mode,d=e.redirect||this.redirect,l=e.credentials||this.credentials,u=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.referrerPolicy||this.referrerPolicy,y=e.transferCache??this.transferCache,I=e.timeout??this.timeout,k=e.body!==void 0?e.body:this.body,w=e.withCredentials??this.withCredentials,ee=e.reportProgress??this.reportProgress,ve=e.headers||this.headers,ce=e.params||this.params,Yt=e.context??this.context;return e.setHeaders!==void 0&&(ve=Object.keys(e.setHeaders).reduce((Lo,mr)=>Lo.set(mr,e.setHeaders[mr]),ve)),e.setParams&&(ce=Object.keys(e.setParams).reduce((Lo,mr)=>Lo.set(mr,e.setParams[mr]),ce)),new t(n,r,k,{params:ce,headers:ve,context:Yt,reportProgress:ee,responseType:i,withCredentials:w,transferCache:y,keepalive:o,cache:s,priority:a,timeout:I,mode:c,redirect:d,credentials:l,referrer:u,integrity:h,referrerPolicy:f})}},ni=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(ni||{}),so=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new Nn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},Xd=class t extends so{constructor(e={}){super(e)}type=ni.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},co=class t extends so{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ni.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},ao=class extends so{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fS=200,yS=204;var gS=new M("");var mS=/^\)\]\}',?\n/;var m0=(()=>{class t{xhrFactory;tracingService=p(An,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return S(null).pipe(Ee(()=>new O(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((k,w)=>a.setRequestHeader(k,w.join(","))),n.headers.has(i4)||a.setRequestHeader(i4,pS),!n.headers.has(r4)){let k=n.detectContentTypeHeader();k!==null&&a.setRequestHeader(r4,k)}if(n.timeout&&(a.timeout=n.timeout),n.responseType){let k=n.responseType.toLowerCase();a.responseType=k!=="json"?k:"text"}let s=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let k=a.statusText||"OK",w=new Nn(a.getAllResponseHeaders()),ee=a.responseURL||n.url;return c=new Xd({headers:w,status:a.status,statusText:k,url:ee}),c},l=this.maybePropagateTrace(()=>{let{headers:k,status:w,statusText:ee,url:ve}=d(),ce=null;w!==yS&&(ce=typeof a.response>"u"?a.responseText:a.response),w===0&&(w=ce?fS:0);let Yt=w>=200&&w<300;if(n.responseType==="json"&&typeof ce=="string"){let Lo=ce;ce=ce.replace(mS,"");try{ce=ce!==""?JSON.parse(ce):null}catch(mr){ce=Lo,Yt&&(Yt=!1,ce={error:mr,text:ce})}}Yt?(o.next(new co({body:ce,headers:k,status:w,statusText:ee,url:ve||void 0})),o.complete()):o.error(new ao({error:ce,headers:k,status:w,statusText:ee,url:ve||void 0}))}),u=this.maybePropagateTrace(k=>{let{url:w}=d(),ee=new ao({error:k,status:a.status||0,statusText:a.statusText||"Unknown Error",url:w||void 0});o.error(ee)}),h=u;n.timeout&&(h=this.maybePropagateTrace(k=>{let{url:w}=d(),ee=new ao({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:w||void 0});o.error(ee)}));let f=!1,y=this.maybePropagateTrace(k=>{f||(o.next(d()),f=!0);let w={type:ni.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(w.total=k.total),n.responseType==="text"&&a.responseText&&(w.partialText=a.responseText),o.next(w)}),I=this.maybePropagateTrace(k=>{let w={type:ni.UploadProgress,loaded:k.loaded};k.lengthComputable&&(w.total=k.total),o.next(w)});return a.addEventListener("load",l),a.addEventListener("error",u),a.addEventListener("timeout",h),a.addEventListener("abort",u),n.reportProgress&&(a.addEventListener("progress",y),s!==null&&a.upload&&a.upload.addEventListener("progress",I)),a.send(s),o.next({type:ni.Sent}),()=>{a.removeEventListener("error",u),a.removeEventListener("abort",u),a.removeEventListener("load",l),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",y),s!==null&&a.upload&&a.upload.removeEventListener("progress",I)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||t)(T(ti))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kS(t,e){return e(t)}function vS(t,e,n){return(r,i)=>Ne(n,()=>e(r,o=>t(o,i)))}var s4=new M("",{factory:()=>[]}),k0=new M(""),c4=new M("",{factory:()=>!0});var v0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=T(m0),i},providedIn:"root"})}return t})();var Qd=(()=>{class t{backend;injector;chain=null;pendingTasks=p(Br);contributeToStability=p(c4);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(s4),...this.injector.get(k0,[])]));this.chain=r.reduceRight((i,o)=>vS(i,o,this.injector),kS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(zo(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(T(v0),T(ye))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),M0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=T(Qd),i},providedIn:"root"})}return t})();function g0(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var Jd=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof oo)o=n;else{let c;i.headers instanceof Nn?c=i.headers:c=new Nn(i.headers);let d;i.params&&(i.params instanceof On?d=i.params:d=new On({fromObject:i.params})),o=new oo(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let a=S(o).pipe(xi(c=>this.handler.handle(c)));if(n instanceof oo||i.observe==="events")return a;let s=a.pipe(Ve(c=>c instanceof co));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return s.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return s.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));case"json":default:return s.pipe(j(c=>c.body))}case"response":return s;default:throw new C(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new On().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,g0(i,r))}post(n,r,i={}){return this.request("POST",n,g0(i,r))}put(n,r,i={}){return this.request("PUT",n,g0(i,r))}static \u0275fac=function(r){return new(r||t)(T(M0))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var MS=new M("",{factory:()=>!0}),wS="XSRF-TOKEN",IS=new M("",{factory:()=>wS}),CS="X-XSRF-TOKEN",bS=new M("",{providedIn:"root",factory:()=>CS}),_S=(()=>{class t{cookieName=p(IS);doc=p(oe);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sa(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),d4=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=T(_S),i},providedIn:"root"})}return t})();function SS(t,e){if(!p(MS)||t.method==="GET"||t.method==="HEAD")return e(t);try{let i=p(ro).href,{origin:o}=new URL(i),{origin:a}=new URL(t.url,o);if(o!==a)return e(t)}catch{return e(t)}let n=p(d4).getToken(),r=p(bS);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function w0(...t){let e=[Jd,Qd,{provide:M0,useExisting:Qd},{provide:v0,useFactory:()=>p(gS,{optional:!0})??p(m0)},{provide:s4,useValue:SS,multi:!0}];for(let n of t)e.push(...n.\u0275providers);return vt(e)}var DS=new M(""),xS="b",ES="h",TS="s",LS="st",AS="u",RS="rt",I0=new M(""),PS=["GET","HEAD"];function OS(t,e){let f=p(I0),{isCacheActive:n}=f,r=Zn(f,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!PS.includes(o)||!r.includeRequestsWithAuthHeaders&&NS(t)||r.filter?.(t)===!1)return e(t);let a=p(Wi);if(p(DS,{optional:!0}))throw new C(2803,!1);let c=t.url,d=FS(t,c),l=a.get(d,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),l){let{[xS]:y,[RS]:I,[ES]:k,[TS]:w,[LS]:ee,[AS]:ve}=l,ce=y;switch(I){case"arraybuffer":ce=new TextEncoder().encode(y).buffer;break;case"blob":ce=new Blob([y]);break}let Yt=new Nn(k);return S(new co({body:ce,headers:Yt,status:w,statusText:ee,url:ve}))}return e(t)}function NS(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function l4(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function FS(t,e){let{params:n,method:r,responseType:i}=t,o=l4(n),a=t.serializeBody();a instanceof URLSearchParams?a=l4(a):typeof a!="string"&&(a="");let s=[r,i,e,a,o].join("|"),c=jS(s);return c}function jS(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function u4(t){return[{provide:I0,useFactory:()=>(Dt("NgHttpTransferCache"),m({isCacheActive:!0},t))},{provide:k0,useValue:OS,multi:!0},{provide:ir,multi:!0,useFactory:()=>{let e=p($e),n=p(I0);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var h4=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(T(oe))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var el=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(el||{});function VS(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function p4(){return VS(el.EventReplay,Ov())}function f4(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(el.HttpTransferCacheOptions);return vt([[],Nv(),n.has(el.NoHttpTransferCache)||r?[]:u4({}),e])}var N="primary",Ba=Symbol("RouteTitle"),D0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ai(t){return new D0(t)}function C4(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=t[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function al(t){return new Promise((e,n)=>{t.pipe(wn()).subscribe({next:r=>e(r),error:r=>n(r)})})}function BS(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!un(t[n],e[n]))return!1;return!0}function un(t,e){let n=t?x0(t):void 0,r=e?x0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!b4(t[i],e[i]))return!1;return!0}function x0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function b4(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function _4(t){return t.length>0?t[t.length-1]:null}function ci(t){return Fo(t)?t:eo(t)?be(Promise.resolve(t)):S(t)}function S4(t){return Fo(t)?al(t):Promise.resolve(t)}var qS={exact:x4,subset:E4},D4={exact:US,subset:$S,ignored:()=>!0};function y4(t,e,n){return qS[n.paths](t.root,e.root,n.matrixParams)&&D4[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function US(t,e){return un(t,e)}function x4(t,e,n){if(!ii(t.segments,e.segments)||!rl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!x4(t.children[r],e.children[r],n))return!1;return!0}function $S(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>b4(t[n],e[n]))}function E4(t,e,n){return T4(t,e,e.segments,n)}function T4(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ii(i,n)||e.hasChildren()||!rl(i,n,r))}else if(t.segments.length===n.length){if(!ii(t.segments,n)||!rl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!E4(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ii(t.segments,i)||!rl(t.segments,i,r)||!t.children[N]?!1:T4(t.children[N],e,o,r)}}function rl(t,e,n){return e.every((r,i)=>D4[n](t[i].parameters,r.parameters))}var $t=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ai(this.queryParams),this._queryParamMap}toString(){return ZS.serialize(this)}},ne=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return il(this)}},dr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ai(this.parameters),this._parameterMap}toString(){return A4(this)}};function WS(t,e){return ii(t,e)&&t.every((n,r)=>un(n.parameters,e[r].parameters))}function ii(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function GS(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===N&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==N&&(n=n.concat(e(i,r)))}),n}var qa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:()=>new lr,providedIn:"root"})}return t})(),lr=class{parse(e){let n=new T0(e);return new $t(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${La(e.root,!0)}`,r=XS(e.queryParams),i=typeof e.fragment=="string"?`#${KS(e.fragment)}`:"";return`${n}${r}${i}`}},ZS=new lr;function il(t){return t.segments.map(e=>A4(e)).join("/")}function La(t,e){if(!t.hasChildren())return il(t);if(e){let n=t.children[N]?La(t.children[N],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==N&&r.push(`${i}:${La(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=GS(t,(r,i)=>i===N?[La(t.children[N],!1)]:[`${i}:${La(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[N]!=null?`${il(t)}/${n[0]}`:`${il(t)}/(${n.join("//")})`}}function L4(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tl(t){return L4(t).replace(/%3B/gi,";")}function KS(t){return encodeURI(t)}function E0(t){return L4(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ol(t){return decodeURIComponent(t)}function g4(t){return ol(t.replace(/\+/g,"%20"))}function A4(t){return`${E0(t.path)}${YS(t.parameters)}`}function YS(t){return Object.entries(t).map(([e,n])=>`;${E0(e)}=${E0(n)}`).join("")}function XS(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${tl(n)}=${tl(i)}`).join("&"):`${tl(n)}=${tl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var QS=/^[^\/()?;#]+/;function C0(t){let e=t.match(QS);return e?e[0]:""}var JS=/^[^\/()?;=#]+/;function eD(t){let e=t.match(JS);return e?e[0]:""}var tD=/^[^=?&#]+/;function nD(t){let e=t.match(tD);return e?e[0]:""}var rD=/^[^&#]+/;function iD(t){let e=t.match(rD);return e?e[0]:""}var T0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[N]=new ne(e,n)),r}parseSegment(){let e=C0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new dr(ol(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=eD(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=C0(this.remaining);i&&(r=i,this.capture(r))}e[ol(n)]=ol(r)}parseQueryParam(e){let n=nD(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=iD(this.remaining);a&&(r=a,this.capture(r))}let i=g4(n),o=g4(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=C0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=N);let a=this.parseChildren();n[o??N]=Object.keys(a).length===1&&a[N]?a[N]:new ne([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function R4(t){return t.segments.length>0?new ne([],{[N]:t}):t}function P4(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=P4(i);if(r===N&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ne(t.segments,e);return oD(n)}function oD(t){if(t.numberOfChildren===1&&t.children[N]){let e=t.children[N];return new ne(t.segments.concat(e.segments),e.children)}return t}function po(t){return t instanceof $t}function O4(t,e,n=null,r=null,i=new lr){let o=N4(t);return F4(o,e,n,r,i)}function N4(t){let e;function n(o){let a={};for(let c of o.children){let d=n(c);a[c.outlet]=d}let s=new ne(o.url,a);return o===t&&(e=s),s}let r=n(t.root),i=R4(r);return e??i}function F4(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return b0(o,o,o,n,r,i);let a=aD(e);if(a.toRoot())return b0(o,o,new ne([],{}),n,r,i);let s=sD(a,o,t),c=s.processChildren?Ra(s.segmentGroup,s.index,a.commands):H4(s.segmentGroup,s.index,a.commands);return b0(o,s.segmentGroup,c,n,r,i)}function sl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Na(t){return typeof t=="object"&&t!=null&&t.outlets}function m4(t,e,n){t||="\u0275";let r=new $t;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function b0(t,e,n,r,i,o){let a={};for(let[d,l]of Object.entries(r??{}))a[d]=Array.isArray(l)?l.map(u=>m4(d,u,o)):m4(d,l,o);let s;t===e?s=n:s=j4(t,e,n);let c=R4(P4(s));return new $t(c,a,i)}function j4(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=j4(o,e,n)}),new ne(t.segments,r)}var cl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&sl(r[0]))throw new C(4003,!1);let i=r.find(Na);if(i&&i!==_4(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aD(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new cl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,d])=>{s[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?e++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new cl(n,e,r)}var uo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function sD(t,e,n){if(t.isAbsolute)return new uo(e,!0,0);if(!n)return new uo(e,!1,NaN);if(n.parent===null)return new uo(n,!0,0);let r=sl(t.commands[0])?0:1,i=n.segments.length-1+r;return cD(n,i,t.numberOfDoubleDots)}function cD(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new uo(r,!1,i-o)}function dD(t){return Na(t[0])?t[0].outlets:{[N]:t}}function H4(t,e,n){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return Ra(t,e,n);let r=lD(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ne(t.segments.slice(0,r.pathIndex),{});return o.children[N]=new ne(t.segments.slice(r.pathIndex),t.children),Ra(o,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?L0(t,e,n):r.match?Ra(t,0,i):L0(t,e,n)}function Ra(t,e,n){if(n.length===0)return new ne(t.segments,{});{let r=dD(n),i={};if(Object.keys(r).some(o=>o!==N)&&t.children[N]&&t.numberOfChildren===1&&t.children[N].segments.length===0){let o=Ra(t.children[N],e,n);return new ne(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=H4(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new ne(t.segments,i)}}function lD(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],s=n[r];if(Na(s))break;let c=`${s}`,d=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!v4(c,d,a))return o;r+=2}else{if(!v4(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function L0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Na(o)){let c=uD(o.outlets);return new ne(r,c)}if(i===0&&sl(n[0])){let c=t.segments[e];r.push(new dr(c.path,k4(n[0]))),i++;continue}let a=Na(o)?o.outlets[N]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&sl(s)?(r.push(new dr(a,k4(s))),i+=2):(r.push(new dr(a,{})),i++)}return new ne(r,{})}function uD(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=L0(new ne([],{}),0,r))}),e}function k4(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function v4(t,e,n){return t==n.path&&un(e,n.parameters)}var Pa="imperative",Re=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Re||{}),yt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Fn=class extends yt{type=Re.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jn=class extends yt{urlAfterRedirects;type=Re.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qe=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Qe||{}),Fa=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Fa||{}),hn=class extends yt{reason;code;type=Re.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hn=class extends yt{reason;code;type=Re.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},fo=class extends yt{error;target;type=Re.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},si=class extends yt{urlAfterRedirects;state;type=Re.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dl=class extends yt{urlAfterRedirects;state;type=Re.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ll=class extends yt{urlAfterRedirects;state;shouldActivate;type=Re.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ul=class extends yt{urlAfterRedirects;state;type=Re.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hl=class extends yt{urlAfterRedirects;state;type=Re.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pl=class{route;type=Re.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fl=class{route;type=Re.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yl=class{snapshot;type=Re.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gl=class{snapshot;type=Re.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ml=class{snapshot;type=Re.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kl=class{snapshot;type=Re.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ja=class{},yo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function hD(t){return!(t instanceof ja)&&!(t instanceof yo)}function pD(t,e){return t.providers&&!t._injector&&(t._injector=Qi(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ut(t){return t.outlet||N}function fD(t,e){let n=t.filter(r=>Ut(r)===e);return n.push(...t.filter(r=>Ut(r)!==e)),n}function ko(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var vl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ko(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new vo(this.rootInjector)}},vo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new vl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(T(ye))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ml=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=A0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=A0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=R0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return R0(e,this._root).map(n=>n.value)}};function A0(t,e){if(t===e.value)return e;for(let n of e.children){let r=A0(t,n);if(r)return r}return null}function R0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=R0(t,n);if(r.length)return r.unshift(e),r}return[]}var ft=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function lo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ha=class extends Ml{snapshot;constructor(e,n){super(e),this.snapshot=n,H0(this,e)}toString(){return this.snapshot.toString()}};function V4(t){let e=yD(t),n=new xe([new dr("",{})]),r=new xe({}),i=new xe({}),o=new xe({}),a=new xe(""),s=new ur(n,r,o,a,i,N,t,e.root);return s.snapshot=e.root,new Ha(new ft(s,[]),e)}function yD(t){let e={},n={},r={},o=new oi([],e,r,"",n,N,t,null,{});return new Va("",new ft(o,[]))}var ur=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,s,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(d=>d[Ba]))??S(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>ai(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>ai(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:m(m({},e.params),t.params),data:m(m({},e.data),t.data),resolve:m(m(m(m({},t.data),e.data),i?.data),t._resolvedData)}:r={params:m({},t.params),data:m({},t.data),resolve:m(m({},t.data),t._resolvedData??{})},i&&B4(i)&&(r.resolve[Ba]=i.title),r}var oi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ba]}constructor(e,n,r,i,o,a,s,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ai(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Va=class extends Ml{url;constructor(e,n){super(n),this.url=e,H0(this,n)}toString(){return z4(this._root)}};function H0(t,e){e.value._routerState=t,e.children.forEach(n=>H0(t,n))}function z4(t){let e=t.children.length>0?` { ${t.children.map(z4).join(", ")} } `:"";return`${t.value}${e}`}function _0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,un(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),un(e.params,n.params)||t.paramsSubject.next(n.params),BS(e.url,n.url)||t.urlSubject.next(n.url),un(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function P0(t,e){let n=un(t.params,e.params)&&WS(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||P0(t.parent,e.parent))}function B4(t){return typeof t.title=="string"||t.title===null}var q4=new M(""),Ua=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=N;activateEvents=new se;deactivateEvents=new se;attachEvents=new se;detachEvents=new se;routerOutletData=ei();parentContexts=p(vo);location=p(Vt);changeDetector=p(qt);inputBinder=p($a,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new O0(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=zt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Tn]})}return t})(),O0=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===ur?this.route:e===vo?this.childContexts:e===q4?this.outletData:this.parent.get(e,n)}},$a=new M(""),V0=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Si([r.queryParams,r.params,r.data]).pipe(Ee(([o,a,s],c)=>(s=m(m(m({},o),a),s),c===0?S(s):Promise.resolve(s)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=Hv(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:s}of a.inputs)n.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac})}return t})(),z0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=X({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&K(0,"router-outlet")},dependencies:[Ua],encapsulation:2})}return t})();function B0(t){let e=t.children&&t.children.map(B0),n=e?U(m({},t),{children:e}):m({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==N&&(n.component=z0),n}function gD(t,e,n){let r=za(t,e._root,n?n._root:void 0);return new Ha(r,e)}function za(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mD(t,e,n);return new ft(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>za(t,s)),a}}let r=kD(e.value),i=e.children.map(o=>za(t,o));return new ft(r,i)}}function mD(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return za(t,r,i);return za(t,r)})}function kD(t){return new ur(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var go=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},U4="ngNavigationCancelingError";function Il(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$4(!1,Qe.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function $4(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[U4]=!0,n.cancellationCode=e,n}function vD(t){return W4(t)&&po(t.url)}function W4(t){return!!t&&t[U4]}var MD=(t,e,n,r)=>j(i=>(new N0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),N0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=lo(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=lo(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=lo(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=lo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new gl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(_0(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),_0(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Cl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ho=class{component;route;constructor(e,n){this.component=e,this.route=n}};function wD(t,e,n){let r=t._root,i=e?e._root:null;return Aa(r,i,n,[r.value])}function ID(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Mo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!b1(t)?t:e.get(t):r}function Aa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=lo(e);return t.children.forEach(a=>{CD(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Oa(s,n.getContext(a),i)),i}function CD(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=bD(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cl(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Aa(t,e,s?s.children:null,r,i):Aa(t,e,n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new ho(s.outlet.component,a))}else a&&Oa(e,s,i),i.canActivateChecks.push(new Cl(r)),o.component?Aa(t,null,s?s.children:null,r,i):Aa(t,null,n,r,i);return i}function bD(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ii(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ii(t.url,e.url)||!un(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!P0(t,e)||!un(t.queryParams,e.queryParams);case"paramsChange":default:return!P0(t,e)}}function Oa(t,e,n){let r=lo(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Oa(a,e.children.getContext(o),n):Oa(a,null,n):Oa(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ho(e.outlet.component,i)):n.canDeactivateChecks.push(new ho(null,i)):n.canDeactivateChecks.push(new ho(null,i))}function Wa(t){return typeof t=="function"}function _D(t){return typeof t=="boolean"}function SD(t){return t&&Wa(t.canLoad)}function DD(t){return t&&Wa(t.canActivate)}function xD(t){return t&&Wa(t.canActivateChild)}function ED(t){return t&&Wa(t.canDeactivate)}function TD(t){return t&&Wa(t.canMatch)}function G4(t){return t instanceof br||t?.name==="EmptyError"}var nl=Symbol("INITIAL_VALUE");function mo(){return Ee(t=>Si(t.map(e=>e.pipe(ze(1),In(nl)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===nl)return nl;if(n===!1||LD(n))return n}return!0}),Ve(e=>e!==nl),ze(1)))}function LD(t){return po(t)||t instanceof go}function Z4(t){return t.aborted?S(void 0).pipe(ze(1)):new O(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function K4(t){return it(Z4(t))}function AD(t,e){return Pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?S(U(m({},n),{guardsResult:!0})):RD(a,r,i,t).pipe(Pe(s=>s&&_D(s)?PD(r,o,t,e):S(s)),j(s=>U(m({},n),{guardsResult:s})))})}function RD(t,e,n,r){return be(t).pipe(Pe(i=>HD(i.component,i.route,n,e,r)),wn(i=>i!==!0,!0))}function PD(t,e,n,r){return be(e).pipe(xi(i=>Qt(ND(i.route.parent,r),OD(i.route,r),jD(t,i.path,n),FD(t,i.route,n))),wn(i=>i!==!0,!0))}function OD(t,e){return t!==null&&e&&e(new ml(t)),S(!0)}function ND(t,e){return t!==null&&e&&e(new yl(t)),S(!0)}function FD(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>jo(()=>{let a=ko(e)??n,s=Mo(o,a),c=DD(s)?s.canActivate(e,t):Ne(a,()=>s(e,t));return ci(c).pipe(wn())}));return S(i).pipe(mo())}function jD(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>ID(a)).filter(a=>a!==null).map(a=>jo(()=>{let s=a.guards.map(c=>{let d=ko(a.node)??n,l=Mo(c,d),u=xD(l)?l.canActivateChild(r,t):Ne(d,()=>l(r,t));return ci(u).pipe(wn())});return S(s).pipe(mo())}));return S(o).pipe(mo())}function HD(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let a=o.map(s=>{let c=ko(e)??i,d=Mo(s,c),l=ED(d)?d.canDeactivate(t,e,n,r):Ne(c,()=>d(t,e,n,r));return ci(l).pipe(wn())});return S(a).pipe(mo())}function VD(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return S(!0);let a=o.map(s=>{let c=Mo(s,t),d=SD(c)?c.canLoad(e,n):Ne(t,()=>c(e,n)),l=ci(d);return i?l.pipe(K4(i)):l});return S(a).pipe(mo(),Y4(r))}function Y4(t){return Yu(Me(e=>{if(typeof e!="boolean")throw Il(t,e)}),j(e=>e===!0))}function zD(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return S(!0);let a=o.map(s=>{let c=Mo(s,t),d=TD(c)?c.canMatch(e,n):Ne(t,()=>c(e,n)),l=ci(d);return i?l.pipe(K4(i)):l});return S(a).pipe(mo(),Y4(r))}var ri=class X4 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,X4.prototype)}},F0=class Q4 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,Q4.prototype)}};function BD(t){throw new C(4e3,!1)}function qD(t){throw $4(!1,Qe.GuardRejected)}var UD=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[N])throw BD(`${e.redirectTo}`);i=i.children[N]}}async applyRedirectCommands(e,n,r,i,o){let a=await $D(n,i,o);if(a instanceof $t)throw new F0(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new F0(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new $t(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,r,i)}),new ne(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function $D(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,params:d,data:l,title:u}=e;return al(ci(Ne(n,()=>r({params:d,data:l,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,title:u}))))}var j0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WD(t,e,n,r,i,o){let a=J4(t,e,n);return a.matched?(r=pD(e,r),zD(r,e,n,i,o).pipe(j(s=>s===!0?a:m({},j0)))):S(a)}function J4(t,e,n){if(e.path==="**")return GD(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?m({},j0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||C4)(n,t,e);if(!i)return m({},j0);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?m(m({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function GD(t){return{matched:!0,parameters:t.length>0?_4(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function M4(t,e,n,r){return n.length>0&&YD(t,n,r)?{segmentGroup:new ne(e,KD(r,new ne(n,t.children))),slicedSegments:[]}:n.length===0&&XD(t,n,r)?{segmentGroup:new ne(t.segments,ZD(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:n}}function ZD(t,e,n,r){let i={};for(let o of n)if(_l(t,e,o)&&!r[Ut(o)]){let a=new ne([],{});i[Ut(o)]=a}return m(m({},r),i)}function KD(t,e){let n={};n[N]=e;for(let r of t)if(r.path===""&&Ut(r)!==N){let i=new ne([],{});n[Ut(r)]=i}return n}function YD(t,e,n){return n.some(r=>_l(t,e,r)&&Ut(r)!==N)}function XD(t,e,n){return n.some(r=>_l(t,e,r))}function _l(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QD(t,e,n){return e.length===0&&!t.children[n]}var JD=class{};async function ex(t,e,n,r,i,o,a="emptyOnly",s){return new nx(t,e,n,r,i,a,o,s).recognize()}var tx=31,nx=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=c,this.applyRedirects=new UD(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}async recognize(){let e=M4(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new ft(r,n),o=new Va("",i),a=O4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(e){let n=new oi([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),N,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,N,n),rootSnapshot:n}}catch(r){if(r instanceof F0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ri?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let a=await this.processSegment(e,n,r,r.segments,i,!0,o);return a instanceof ft?[a]:[]}async processChildren(e,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let a=[];for(let c of o){let d=r.children[c],l=fD(n,c),u=await this.processSegmentGroup(e,l,d,c,i);a.push(...u)}let s=e5(a);return rx(s),s}async processSegment(e,n,r,i,o,a,s){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,a,s)}catch(d){if(d instanceof ri||G4(d))continue;throw d}if(QD(r,i,o))return new JD;throw new ri(r)}async processSegmentAgainstRoute(e,n,r,i,o,a,s,c){if(Ut(r)!==a&&(a===N||!_l(i,o,r)))throw new ri(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,a,c);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,c);throw new ri(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,s){let{matched:c,parameters:d,consumedSegments:l,positionalParamSegments:u,remainingSegments:h}=J4(n,i,o);if(!c)throw new ri(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tx&&(this.allowRedirects=!1));let f=new oi(o,d,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,w4(i),Ut(i),i.component??i._loadedComponent??null,i,I4(i)),y=wl(f,s,this.paramsInheritanceStrategy);if(f.params=Object.freeze(y.params),f.data=Object.freeze(y.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let I=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u,f,e),k=await this.applyRedirects.lineralizeSegments(i,I);return this.processSegment(e,r,n,k.concat(h),a,!1,s)}async matchSegmentAgainstRoute(e,n,r,i,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await al(WD(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!s?.matched)throw new ri(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:l,consumedSegments:u,remainingSegments:h}=s,f=new oi(u,l,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,w4(r),Ut(r),r.component??r._loadedComponent??null,r,I4(r)),y=wl(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(y.params),f.data=Object.freeze(y.data);let{segmentGroup:I,slicedSegments:k}=M4(n,u,h,c);if(k.length===0&&I.hasChildren()){let ve=await this.processChildren(d,c,I,f);return new ft(f,ve)}if(c.length===0&&k.length===0)return new ft(f,[]);let w=Ut(r)===o,ee=await this.processSegment(d,c,I,k,w?N:o,!0,f);return new ft(f,ee instanceof ft?[ee]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await al(VD(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw qD(n)}return{routes:[],injector:e}}};function rx(t){t.sort((e,n)=>e.value.outlet===N?-1:n.value.outlet===N?1:e.value.outlet.localeCompare(n.value.outlet))}function ix(t){let e=t.value.routeConfig;return e&&e.path===""}function e5(t){let e=[],n=new Set;for(let r of t){if(!ix(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=e5(r.children);e.push(new ft(r.value,i))}return e.filter(r=>!n.has(r))}function w4(t){return t.data||{}}function I4(t){return t.resolve||{}}var ox=new M("",{factory:()=>ex});function ax(t,e,n,r,i,o,a){let s=t.get(ox);return Pe(c=>S(c).pipe(Ee(d=>s(t,e,n,r,d.extractedUrl,i,o,a)),j(({state:d,tree:l})=>U(m({},c),{targetSnapshot:d,urlAfterRedirects:l}))))}function sx(t,e){return Pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return S(n);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let d of t5(c))a.add(d);let s=0;return be(a).pipe(xi(c=>o.has(c)?cx(c,r,t,e):(c.data=wl(c,c.parent,t).resolve,S(void 0))),Me(()=>s++),Ys(1),Pe(c=>s===a.size?S(n):He))})}function t5(t){let e=t.children.map(n=>t5(n)).flat();return[t,...e]}function cx(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!B4(i)&&(o[Ba]=i.title),jo(()=>(t.data=wl(t,t.parent,n).resolve,dx(o,t,e,r).pipe(j(a=>(t._resolvedData=a,t.data=m(m({},t.data),a),null)))))}function dx(t,e,n,r){let i=x0(t);if(i.length===0)return S({});let o={};return be(i).pipe(Pe(a=>lx(t[a],e,n,r).pipe(wn(),Me(s=>{if(s instanceof go)throw Il(new lr,s);o[a]=s}))),Ys(1),j(()=>o),Vo(a=>G4(a)?He:t1(a)))}function lx(t,e,n,r){let i=ko(e)??r,o=Mo(t,i),a=o.resolve?o.resolve(e,n):Ne(i,()=>o(e,n));return ci(a)}function S0(t){return Ee(e=>{let n=t(e);return n?be(n).pipe(j(()=>e)):S(e)})}var q0=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===N);return r}getResolvedTitleForRoute(n){return n.data[Ba]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:()=>p(n5),providedIn:"root"})}return t})(),n5=(()=>{class t extends q0{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(T(h4))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wo=new M("",{factory:()=>({})}),Ga=new M(""),r5=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=p(Gp);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await S4(Ne(n,()=>r.loadComponent())),a=await a5(o5(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a,a}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await i5(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function i5(t,e,n,r){let i=await S4(Ne(n,()=>t.loadChildren())),o=await a5(o5(i)),a;o instanceof Id||Array.isArray(o)?a=o:a=await e.compileModuleAsync(o),r&&r(t);let s,c,d=!1;return Array.isArray(a)?(c=a,d=!0):(s=a.create(n).injector,c=s.get(Ga,[],{optional:!0,self:!0}).flat()),{routes:c.map(B0),injector:s}}function ux(t){return t&&typeof t=="object"&&"default"in t}function o5(t){return ux(t)?t.default:t}async function a5(t){return t}var Sl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:()=>p(hx),providedIn:"root"})}return t})(),hx=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s5=new M("");var px=()=>{},c5=new M(""),d5=(()=>{class t{currentNavigation=g(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=g(null);events=new A;transitionAbortWithErrorSubject=new A;configLoader=p(r5);environmentInjector=p(ye);destroyRef=p(qe);urlSerializer=p(qa);rootContexts=p(vo);location=p(io);inputBindingEnabled=p($a,{optional:!0})!==null;titleStrategy=p(q0);options=p(wo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=p(Sl);createViewTransition=p(s5,{optional:!0});navigationErrorHandler=p(c5,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new pl(i)),r=i=>this.events.next(new fl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Xe(()=>{this.transitions?.next(U(m({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new xe(null),this.transitions.pipe(Ve(r=>r!==null),Ee(r=>{let i=!1,o=new AbortController;return S(r).pipe(Ee(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Qe.SupersededByNewNavigation),He;this.currentTransition=r;let s=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:s?U(m({},s),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new Hn(a.id,this.urlSerializer.serialize(a.rawUrl),"",Fa.IgnoredSameUrlNavigation)),a.resolve(!1),He;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return S(a).pipe(Ee(l=>(this.events.next(new Fn(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?He:Promise.resolve(l))),ax(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Me(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let u=new si(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:f,extras:y}=a,I=new Fn(l,this.urlSerializer.serialize(u),h,f);this.events.next(I);let k=V4(this.rootComponentType).snapshot;return this.currentTransition=r=U(m({},a),{targetSnapshot:k,urlAfterRedirects:u,extras:U(m({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(w=>(w.finalUrl=u,w)),S(r)}else return this.events.next(new Hn(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Fa.IgnoredByUrlHandlingStrategy)),a.resolve(!1),He}),Me(a=>{let s=new dl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),j(a=>(this.currentTransition=r=U(m({},a),{guards:wD(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),AD(this.environmentInjector,a=>this.events.next(a)),Me(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Il(this.urlSerializer,a.guardsResult);let s=new ll(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),Ve(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Qe.GuardRejected),!1)),S0(a=>{if(a.guards.canActivateChecks.length!==0)return S(a).pipe(Me(s=>{let c=new ul(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Ee(s=>{let c=!1;return S(s).pipe(sx(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",Qe.NoDataFromResolver)}}))}),Me(s=>{let c=new hl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),S0(a=>{let s=d=>{let l=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let u=ko(d)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,d.routeConfig).then(h=>{d.component=h}))}for(let u of d.children)l.push(...s(u));return l},c=s(a.targetSnapshot.root);return c.length===0?S(a):be(Promise.all(c).then(()=>a))}),S0(()=>this.afterPreactivation()),Ee(()=>{let{currentSnapshot:a,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return c?be(c).pipe(j(()=>r)):S(r)}),j(a=>{let s=gD(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=U(m({},a),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),Me(()=>{this.events.next(new ja)}),MD(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),ze(1),it(Z4(o.signal).pipe(Ve(()=>!i&&!r.targetRouterState),Me(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Qe.Aborted)}))),Me({next:a=>{i=!0,this.currentNavigation.update(s=>(s.abort=px,s)),this.lastSuccessfulNavigation.set(Xe(this.currentNavigation)),this.events.next(new jn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),it(this.transitionAbortWithErrorSubject.pipe(Me(a=>{throw a}))),zo(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Vo(a=>{if(this.destroyed)return r.resolve(!1),He;if(i=!0,W4(a))this.events.next(new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),vD(a)?this.events.next(new yo(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let s=new fo(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let c=Ne(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof go){let{message:d,cancellationCode:l}=Il(this.urlSerializer,c);this.events.next(new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),d,l)),this.events.next(new yo(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return He}))}))}cancelNavigationTransition(n,r,i){let o=new hn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Xe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fx(t){return t!==Pa}var l5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:()=>p(yx),providedIn:"root"})}return t})(),bl=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},yx=(()=>{class t extends bl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=td(t)))(i||t)}})();static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),U0=(()=>{class t{urlSerializer=p(qa);options=p(wo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=p(io);urlHandlingStrategy=p(Sl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $t;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof $t?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=V4(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:()=>p(u5),providedIn:"root"})}return t})(),u5=(()=>{class t extends U0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Fn?this.updateStateMemento():n instanceof Hn?this.commitTransition(r):n instanceof si?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ja?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof hn&&n.code!==Qe.SupersededByNewNavigation&&n.code!==Qe.Redirect?this.restoreHistory(r):n instanceof fo?this.restoreHistory(r,!0):n instanceof jn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let s=this.browserPageId,c=m(m({},a),this.generateNgRouterState(i,s));this.location.replaceState(n,"",c)}else{let s=m(m({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=td(t)))(i||t)}})();static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $0(t,e){t.events.pipe(Ve(n=>n instanceof jn||n instanceof hn||n instanceof fo||n instanceof Hn),j(n=>n instanceof jn||n instanceof Hn?0:(n instanceof hn?n.code===Qe.Redirect||n.code===Qe.SupersededByNewNavigation:!1)?2:1),Ve(n=>n!==2),ze(1)).subscribe(()=>{e()})}var gx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=p(Cd);stateManager=p(U0);options=p(wo,{optional:!0})||{};pendingTasks=p(on);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=p(d5);urlSerializer=p(qa);location=p(io);urlHandlingStrategy=p(Sl);injector=p(ye);_events=new A;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=p(l5);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=p(Ga,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!p($a,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ae;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Xe(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hn&&r.code!==Qe.Redirect&&r.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof jn)this.navigated=!0;else if(r instanceof yo){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=m({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fx(i.source)},a);this.scheduleNavigation(s,Pa,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}hD(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=m({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o).catch(c=>{this.disposed||this.injector.get(bt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Xe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(B0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,l=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":l=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let u;try{let h=i?i.snapshot:this.routerState.snapshot.root;u=N4(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return F4(u,n,l,d??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=po(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pa,null,r)}navigate(n,r={skipLocationChange:!1}){return kx(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Ot(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=m({},gx):r===!1?i=m({},mx):i=r,po(n))return y4(this.currentUrlTree,n,i);let o=this.parseUrl(n);return y4(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,d;a?(s=a.resolve,c=a.reject,d=a.promise):d=new Promise((u,h)=>{s=u,c=h});let l=this.pendingTasks.add();return $0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kx(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}var Mx=new M("");function W0(t,...e){return vt([{provide:Ga,multi:!0,useValue:t},[],{provide:ur,useFactory:wx},{provide:ir,multi:!0,useFactory:Ix},e.map(n=>n.\u0275providers)])}function wx(){return p(pn).routerState.root}function h5(t,e){return{\u0275kind:t,\u0275providers:e}}function Ix(){let t=p(Ie);return e=>{let n=t.get($e);if(e!==n.components[0])return;let r=t.get(pn),i=t.get(Cx);t.get(bx)===1&&r.initialNavigation(),t.get(_x,null,{optional:!0})?.setUpPreloading(),t.get(Mx,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Cx=new M("",{factory:()=>new A}),bx=new M("",{factory:()=>1});var _x=new M("");function G0(t){return h5(5,[{provide:wo,useValue:t}])}function Z0(){return h5(8,[V0,{provide:$a,useExisting:V0}])}var p5=()=>{};var g5=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dx=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],s=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},m5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,l=o>>2,u=(o&3)<<4|s>>4,h=(s&15)<<2|d>>6,f=d&63;c||(f=64,a||(h=64)),r.push(n[l],n[u],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(g5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let u=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||d==null||u==null)throw new Y0;let h=o<<2|s>>4;if(r.push(h),d!==64){let f=s<<4&240|d>>2;if(r.push(f),u!==64){let y=d<<6&192|u;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Y0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xx=function(t){let e=g5(t);return m5.encodeByteArray(e,!0)},Q0=function(t){return xx(t).replace(/\./g,"")},xl=function(t){try{return m5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Tx=()=>Ex().__FIREBASE_DEFAULTS__,Lx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ax=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xl(t[1]);return e&&JSON.parse(e)},J0=()=>{try{return p5()||Tx()||Lx()||Ax()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k5=t=>J0()?.emulatorHosts?.[t];var e2=()=>J0()?.config,t2=t=>J0()?.[`_${t}`];var Dl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v5(t){return(await fetch(t,{credentials:"include"})).ok}var Za={};function Rx(){let t={prod:[],emulator:[]};for(let e of Object.keys(Za))Za[e]?t.emulator.push(e):t.prod.push(e);return t}function Px(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var f5=!1;function M5(t,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||Za[t]===e||Za[t]||f5)return;Za[t]=e;function n(h){return`__firebase__banner__${h}`}let r="__firebase__banner",o=Rx().prod.length>0;function a(){let h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function d(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{f5=!0,a()},h}function l(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function u(){let h=Px(r),f=n("text"),y=document.getElementById(f)||document.createElement("span"),I=n("learnmore"),k=document.getElementById(I)||document.createElement("a"),w=n("preprendIcon"),ee=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let ve=h.element;s(ve),l(k,I);let ce=d();c(ee,w),ve.append(ee,y,k,ce),document.body.appendChild(ve)}o?(y.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function I5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C5(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _5(){let t=We();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function S5(){try{return typeof indexedDB=="object"}catch{return!1}}function D5(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var Ox="FirebaseError",Wt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ox,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}},Vn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Nx(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Wt(i,s,r)}};function Nx(t,e){return t.replace(Fx,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Fx=/\{\$([^}]+)}/g;function x5(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],a=e[i];if(y5(o)&&y5(a)){if(!hr(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function y5(t){return t!==null&&typeof t=="object"}function Io(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function E5(t,e){let n=new X0(t,e);return n.subscribe.bind(n)}var X0=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=K0),i.error===void 0&&(i.error=K0),i.complete===void 0&&(i.complete=K0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function jx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function K0(){}var gZ=14400*1e3;function zn(t){return t&&t._delegate?t._delegate:t}var fn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var di="[DEFAULT]";var n2=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Dl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vx(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,a]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Hx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Hx(t){return t===di?void 0:t}function Vx(t){return t.instantiationMode==="EAGER"}var El=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new n2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zx=[],de=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(de||{}),Bx={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},qx=de.INFO,Ux={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},$x=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ux[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Co=class{constructor(e){this.name=e,this._logLevel=qx,this._logHandler=$x,this._userLogHandler=null,zx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var Wx=(t,e)=>e.some(n=>t instanceof n),T5,L5;function Gx(){return T5||(T5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zx(){return L5||(L5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var A5=new WeakMap,i2=new WeakMap,R5=new WeakMap,r2=new WeakMap,a2=new WeakMap;function Kx(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(yn(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&A5.set(n,t)}).catch(()=>{}),a2.set(e,t),e}function Yx(t){if(i2.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});i2.set(t,e)}var o2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||R5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P5(t){o2=t(o2)}function Xx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Tl(this),e,...n);return R5.set(r,e.sort?e.sort():[e]),yn(r)}:Zx().includes(t)?function(...e){return t.apply(Tl(this),e),yn(A5.get(this))}:function(...e){return yn(t.apply(Tl(this),e))}}function Qx(t){return typeof t=="function"?Xx(t):(t instanceof IDBTransaction&&Yx(t),Wx(t,Gx())?new Proxy(t,o2):t)}function yn(t){if(t instanceof IDBRequest)return Kx(t);if(r2.has(t))return r2.get(t);let e=Qx(t);return e!==t&&(r2.set(t,e),a2.set(e,t)),e}var Tl=t=>a2.get(t);function N5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),s=yn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(yn(a.result),c.oldVersion,c.newVersion,yn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),s}var Jx=["get","getKey","getAll","getAllKeys","count"],e7=["put","add","delete","clear"],s2=new Map;function O5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(s2.get(e))return s2.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=e7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jx.includes(n)))return;let o=async function(a,...s){let c=this.transaction(a,i?"readwrite":"readonly"),d=c.store;return r&&(d=d.index(s.shift())),(await Promise.all([d[n](...s),i&&c.done]))[0]};return s2.set(e,o),o}P5(t=>U(m({},t),{get:(e,n,r)=>O5(e,n)||t.get(e,n,r),has:(e,n)=>!!O5(e,n)||t.has(e,n)}));var d2=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t7(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function t7(t){return t.getComponent()?.type==="VERSION"}var l2="@firebase/app",F5="0.14.6";var Bn=new Co("@firebase/app"),n7="@firebase/app-compat",r7="@firebase/analytics-compat",i7="@firebase/analytics",o7="@firebase/app-check-compat",a7="@firebase/app-check",s7="@firebase/auth",c7="@firebase/auth-compat",d7="@firebase/database",l7="@firebase/data-connect",u7="@firebase/database-compat",h7="@firebase/functions",p7="@firebase/functions-compat",f7="@firebase/installations",y7="@firebase/installations-compat",g7="@firebase/messaging",m7="@firebase/messaging-compat",k7="@firebase/performance",v7="@firebase/performance-compat",M7="@firebase/remote-config",w7="@firebase/remote-config-compat",I7="@firebase/storage",C7="@firebase/storage-compat",b7="@firebase/firestore",_7="@firebase/ai",S7="@firebase/firestore-compat",D7="firebase",x7="12.6.0";var u2="[DEFAULT]",E7={[l2]:"fire-core",[n7]:"fire-core-compat",[i7]:"fire-analytics",[r7]:"fire-analytics-compat",[a7]:"fire-app-check",[o7]:"fire-app-check-compat",[s7]:"fire-auth",[c7]:"fire-auth-compat",[d7]:"fire-rtdb",[l7]:"fire-data-connect",[u7]:"fire-rtdb-compat",[h7]:"fire-fn",[p7]:"fire-fn-compat",[f7]:"fire-iid",[y7]:"fire-iid-compat",[g7]:"fire-fcm",[m7]:"fire-fcm-compat",[k7]:"fire-perf",[v7]:"fire-perf-compat",[M7]:"fire-rc",[w7]:"fire-rc-compat",[I7]:"fire-gcs",[C7]:"fire-gcs-compat",[b7]:"fire-fst",[S7]:"fire-fst-compat",[_7]:"fire-vertex","fire-js":"fire-js",[D7]:"fire-js-all"};var Ll=new Map,T7=new Map,h2=new Map;function j5(t,e){try{t.container.addComponent(e)}catch(n){Bn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bo(t){let e=t.name;if(h2.has(e))return Bn.debug(`There were multiple attempts to register component ${e}.`),!1;h2.set(e,t);for(let n of Ll.values())j5(n,t);for(let n of T7.values())j5(n,t);return!0}function g2(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gt(t){return t==null?!1:t.settings!==void 0}var L7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Vn("app","Firebase",L7);var p2=class{constructor(e,n,r){this._isDeleted=!1,this._options=m({},e),this._config=m({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};var _o=x7;function m2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=m({name:u2,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=e2()),!n)throw pr.create("no-options");let o=Ll.get(i);if(o){if(hr(n,o.options)&&hr(r,o.config))return o;throw pr.create("duplicate-app",{appName:i})}let a=new El(i);for(let c of h2.values())a.addComponent(c);let s=new p2(n,r,a);return Ll.set(i,s),s}function B5(t=u2){let e=Ll.get(t);if(!e&&t===u2&&e2())return m2();if(!e)throw pr.create("no-app",{appName:t});return e}function fr(t,e,n){let r=E7[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bn.warn(a.join(" "));return}bo(new fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var A7="firebase-heartbeat-database",R7=1,Ya="firebase-heartbeat-store",c2=null;function q5(){return c2||(c2=N5(A7,R7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ya)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),c2}async function P7(t){try{let n=(await q5()).transaction(Ya),r=await n.objectStore(Ya).get(U5(t));return await n.done,r}catch(e){if(e instanceof Wt)Bn.warn(e.message);else{let n=pr.create("idb-get",{originalErrorMessage:e?.message});Bn.warn(n.message)}}}async function H5(t,e){try{let r=(await q5()).transaction(Ya,"readwrite");await r.objectStore(Ya).put(e,U5(t)),await r.done}catch(n){if(n instanceof Wt)Bn.warn(n.message);else{let r=pr.create("idb-set",{originalErrorMessage:n?.message});Bn.warn(r.message)}}}function U5(t){return`${t.name}!${t.options.appId}`}var O7=1024,N7=30,f2=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new y2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=V5();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>N7){let i=j7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=V5(),{heartbeatsToSend:n,unsentEntries:r}=F7(this._heartbeatsCache.heartbeats),i=Q0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Bn.warn(e),""}}};function V5(){return new Date().toISOString().substring(0,10)}function F7(t,e=O7){let n=[],r=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),z5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var y2=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S5()?D5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await P7(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return H5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return H5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function z5(t){return Q0(JSON.stringify({version:2,heartbeats:t})).length}function j7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function H7(t){bo(new fn("platform-logger",e=>new d2(e),"PRIVATE")),bo(new fn("heartbeat",e=>new f2(e),"PRIVATE")),fr(l2,F5,t),fr(l2,F5,"esm2020"),fr("fire-js","")}H7("");var V7="firebase",z7="12.7.0";fr(V7,z7,"app");function oM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var aM=oM,sM=new Vn("auth","Firebase",oM());var Fl=new Co("@firebase/auth");function B7(t,...e){Fl.logLevel<=de.WARN&&Fl.warn(`Auth (${_o}): ${t}`,...e)}function Rl(t,...e){Fl.logLevel<=de.ERROR&&Fl.error(`Auth (${_o}): ${t}`,...e)}function mn(t,...e){throw O2(t,...e)}function Zt(t,...e){return O2(t,...e)}function P2(t,e,n){let r=U(m({},aM()),{[e]:n});return new Vn("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return P2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q7(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mn(t,"argument-error"),P2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function O2(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sM.create(t,...e)}function R(t,e,...n){if(!t)throw O2(e,...n)}function qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Rl(e),new Error(e)}function $n(t,e){t||qn(e)}function M2(){return typeof self<"u"&&self.location?.href||""}function U7(){return $5()==="http:"||$5()==="https:"}function $5(){return typeof self<"u"&&self.location?.protocol||null}function $7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U7()||C5()||"connection"in navigator)?navigator.onLine:!0}function W7(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ui=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$n(n>e,"Short delay should be less than long delay!"),this.isMobile=w5()||b5()}get(){return $7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function N2(t,e){$n(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var jl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var G7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Z7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K7=new ui(3e4,6e4);function F2(t,e){return t.tenantId&&!e.tenantId?U(m({},e),{tenantId:t.tenantId}):e}async function Do(t,e,n,r,i={}){return cM(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});let s=Io(m({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let d=m({method:e,headers:c},o);return I5()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(d.credentials="include"),jl.fetch()(await dM(t,t.config.apiHost,n,s),d)})}async function cM(t,e,n){t._canInitEmulator=!1;let r=m(m({},G7),e);try{let i=new w2(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=await o.json();if("needConfirmation"in a)throw Al(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let s=o.ok?a.errorMessage:a.error.message,[c,d]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Al(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Al(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Al(t,"user-disabled",a);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw P2(t,l,d);mn(t,l)}}catch(i){if(i instanceof Wt)throw i;mn(t,"network-request-failed",{message:String(i)})}}async function Y7(t,e,n,r,i={}){let o=await Do(t,e,n,r,i);return"mfaPendingCredential"in o&&mn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function dM(t,e,n,r){let i=`${e}${n}?${r}`,o=t,a=o.config.emulator?N2(t.config,i):`${t.config.apiScheme}://${i}`;return Z7.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}var w2=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zt(this.auth,"network-request-failed")),K7.get())})}};function Al(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Zt(t,e,r);return i.customData._tokenResponse=n,i}async function X7(t,e){return Do(t,"POST","/v1/accounts:delete",e)}async function Hl(t,e){return Do(t,"POST","/v1/accounts:lookup",e)}function Xa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lM(t,e=!1){let n=zn(t),r=await n.getIdToken(e),i=j2(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Xa(k2(i.auth_time)),issuedAtTime:Xa(k2(i.iat)),expirationTime:Xa(k2(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function k2(t){return Number(t)*1e3}function j2(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rl("JWT malformed, contained fewer than 3 sections"),null;try{let i=xl(n);return i?JSON.parse(i):(Rl("Failed to decode base64 JWT payload"),null)}catch(i){return Rl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function W5(t){let e=j2(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wt&&Q7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var I2=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var es=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Vl(t){let e=t.auth,n=await t.getIdToken(),r=await Ja(t,Hl(e,{idToken:n}));R(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?hM(i.providerUserInfo):[],a=J7(t.providerData,o),s=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=s?c:!1,l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new es(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,l)}async function uM(t){let e=zn(t);await Vl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hM(t){return t.map(r=>{var i=r,{providerId:e}=i,n=Zn(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function eE(t,e){let n=await cM(t,{},async()=>{let r=Io({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await dM(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:s,body:r};return t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(c.credentials="include"),jl.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tE(t,e){return Do(t,"POST","/v2/accounts:revokeToken",F2(t,e))}var Qa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){R(e.length!==0,"internal-error");let n=W5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await eE(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new t;return r&&(R(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(R(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qn("not implemented")}};function yr(t,e){R(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var gr=class t{constructor(o){var a=o,{uid:e,auth:n,stsTokenManager:r}=a,i=Zn(a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new es(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lM(this,e)}reload(){return uM(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>m({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(U(m({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gt(this.auth.app))return Promise.reject(li(this.auth));let e=await this.getIdToken();return await Ja(this,X7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return U(m({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>m({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,l=n.lastLoginAt??void 0,{uid:u,emailVerified:h,isAnonymous:f,providerData:y,stsTokenManager:I}=n;R(u&&I,e,"internal-error");let k=Qa.fromJSON(this.name,I);R(typeof u=="string",e,"internal-error"),yr(r,e.name),yr(i,e.name),R(typeof h=="boolean",e,"internal-error"),R(typeof f=="boolean",e,"internal-error"),yr(o,e.name),yr(a,e.name),yr(s,e.name),yr(c,e.name),yr(d,e.name),yr(l,e.name);let w=new t({uid:u,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:f,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:k,createdAt:d,lastLoginAt:l});return y&&Array.isArray(y)&&(w.providerData=y.map(ee=>m({},ee))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){let i=new Qa;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vl(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];R(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hM(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,s=new Qa;s.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new es(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,d),c}};var G5=new Map;function Un(t){$n(t instanceof Function,"Expected a class definition");let e=G5.get(t);return e?($n(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G5.set(t,e),e)}var nE=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),C2=nE;function Pl(t,e,n){return`firebase:${t}:${e}:${n}`}var zl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Pl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Pl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Hl(this.auth,{idToken:e}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Un(C2),e,r);let i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=i[0]||Un(C2),a=Pl(r,e.config.apiKey,e.name),s=null;for(let d of n)try{let l=await d._get(a);if(l){let u;if(typeof l=="string"){let h=await Hl(e,{idToken:l}).catch(()=>{});if(!h)break;u=await gr._fromGetAccountInfoResponse(e,h,l)}else u=gr._fromJSON(e,l);d!==o&&(s=u),o=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new t(o,e,r))}};function Z5(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kM(e))return"Blackberry";if(vM(e))return"Webos";if(fM(e))return"Safari";if((e.includes("chrome/")||yM(e))&&!e.includes("edge/"))return"Chrome";if(mM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function pM(t=We()){return/firefox\//i.test(t)}function fM(t=We()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yM(t=We()){return/crios\//i.test(t)}function gM(t=We()){return/iemobile/i.test(t)}function mM(t=We()){return/android/i.test(t)}function kM(t=We()){return/blackberry/i.test(t)}function vM(t=We()){return/webos/i.test(t)}function H2(t=We()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rE(t=We()){return H2(t)&&!!window.navigator?.standalone}function iE(){return _5()&&document.documentMode===10}function MM(t=We()){return H2(t)||mM(t)||vM(t)||kM(t)||/windows phone/i.test(t)||gM(t)}function wM(t,e=[]){let n;switch(t){case"Browser":n=Z5(We());break;case"Worker":n=`${Z5(We())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${r}`}var b2=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((a,s)=>{try{let c=e(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function oE(t,e={}){return Do(t,"GET","/v2/passwordPolicy",F2(t,e))}var aE=6,_2=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aE,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var S2=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bl(this),this.idTokenSubscription=new Bl(this),this.beforeStateQueue=new b2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Hl(this,{idToken:e}),r=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Gt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,a=r?._redirectEventId,s=await this.tryRedirectSignIn(e);(!o||o===a)&&s?.user&&(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gt(this.app))return Promise.reject(li(this));let n=e?zn(e):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&R(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gt(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gt(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await oE(this),n=new _2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tE(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Un(e)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=await zl.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{let c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Gt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&B7(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Yl(t){return zn(t)}var Bl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=E5(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var V2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sE(t){V2=t}function cE(t){return V2.loadJS(t)}function dE(){return V2.gapiScript}function IM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function CM(t,e){let n=g2(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(hr(o,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function lE(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Un);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function bM(t,e,n){let r=Yl(t);R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=_M(e),{host:a,port:s}=uE(e),c=s===null?"":`:${s}`,d={url:`${o}//${a}${c}/`},l=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){R(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),R(hr(d,r.config.emulator)&&hr(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,Ka(a)?(v5(`${o}//${a}${c}`),M5("Auth",!0)):i||hE()}function _M(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uE(t){let e=_M(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:K5(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:K5(a)}}}function K5(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function hE(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ts=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}};async function So(t,e){return Y7(t,"POST","/v1/accounts:signInWithIdp",F2(t,e))}var pE="http://localhost",ql=class t extends ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=s,o=Zn(s,["providerId","signInMethod"]);if(!r||!i)return null;let a=new t(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return So(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,So(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,So(e,n)}buildRequest(){let e={requestUri:pE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Io(n)}return e}};var ns=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ul=class extends ns{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var z2=(()=>{class t extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return ql._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var rs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await gr._fromIdTokenResponse(e,r,i),a=Y5(r);return new t({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=Y5(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function Y5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var D2=class t extends Wt{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function SM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?D2._fromErrorAndOperation(t,o,e,r):o})}async function fE(t,e,n=!1){let r=await Ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rs._forOperation(t,"link",r)}async function yE(t,e,n=!1){let{auth:r}=t;if(Gt(r.app))return Promise.reject(li(r));let i="reauthenticate";try{let o=await Ja(t,SM(r,i,e,t),n);R(o.idToken,r,"internal-error");let a=j2(o.idToken);R(a,r,"internal-error");let{sub:s}=a;return R(t.uid===s,r,"user-mismatch"),rs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),o}}async function gE(t,e,n=!1){if(Gt(t.app))return Promise.reject(li(t));let r="signIn",i=await SM(t,r,e),o=await rs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function DM(t,e,n,r){return zn(t).onIdTokenChanged(e,n,r)}function xM(t,e,n){return zn(t).beforeAuthStateChanged(e,n)}function B2(t,e,n,r){return zn(t).onAuthStateChanged(e,n,r)}function q2(t){return zn(t).signOut()}var $l="__sak";var Wl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($l,"1"),this.storage.removeItem($l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var mE=1e3,kE=10,vE=(()=>{class t extends Wl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((s,c,d)=>{this.notifyListeners(s,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let s=this.storage.getItem(i);!r&&this.localCache[i]===s||this.notifyListeners(i,s)},a=this.storage.getItem(i);iE()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,kE):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},mE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),EM=vE;var ME=(()=>{class t extends Wl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),U2=ME;function wE(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var IE=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:a}=r.data,s=this.handlersMap[o];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(s).map(async l=>l(r.origin,a)),d=await wE(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function $2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var x2=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{let d=$2("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(u){let h=u;if(h.data.eventId===d)switch(h.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function gn(){return window}function CE(t){gn().location.href=t}function TM(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function bE(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _E(){return navigator?.serviceWorker?.controller||null}function SE(){return TM()?self:null}var LM="firebaseLocalStorageDb",DE=1,Gl="firebaseLocalStorage",AM="fbase_key",hi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Xl(t,e){return t.transaction([Gl],e?"readwrite":"readonly").objectStore(Gl)}function xE(){let t=indexedDB.deleteDatabase(LM);return new hi(t).toPromise()}function E2(){let t=indexedDB.open(LM,DE);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Gl,{keyPath:AM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Gl)?e(r):(r.close(),await xE(),e(await E2()))})})}async function X5(t,e,n){let r=Xl(t,!0).put({[AM]:e,value:n});return new hi(r).toPromise()}async function EE(t,e){let n=Xl(t,!1).get(e),r=await new hi(n).toPromise();return r===void 0?null:r.value}function Q5(t,e){let n=Xl(t,!0).delete(e);return new hi(n).toPromise()}var TE=800,LE=3,AE=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await E2(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>LE)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=IE._getInstance(SE()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bE(),!this.activeServiceWorker)return;this.sender=new x2(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||_E()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await E2();return await X5(n,$l,"1"),await Q5(n,$l),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>X5(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>EE(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q5(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let a=Xl(o,!1).getAll();return new hi(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),RM=AE;var GZ=IM("rcb"),ZZ=new ui(3e4,6e4);function PM(t,e){return e?Un(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var is=class extends ts{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return So(e,this._buildIdpRequest())}_linkToIdToken(e,n){return So(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return So(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function RE(t){return gE(t.auth,new is(t),t.bypassAuthState)}function PE(t){let{auth:e,user:n}=t;return R(n,e,"internal-error"),yE(n,new is(t),t.bypassAuthState)}async function OE(t){let{auth:e,user:n}=t;return R(n,e,"internal-error"),fE(n,new is(t),t.bypassAuthState)}var Zl=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RE;case"linkViaPopup":case"linkViaRedirect":return OE;case"reauthViaPopup":case"reauthViaRedirect":return PE;default:mn(this.auth,"internal-error")}}resolve(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var NE=new ui(2e3,1e4);async function W2(t,e,n){if(Gt(t.app))return Promise.reject(Zt(t,"operation-not-supported-in-this-environment"));let r=Yl(t);q7(t,e,ns);let i=PM(r,n);return new FE(r,"signInViaPopup",e,i).executeNotNull()}var FE=(()=>{class t extends Zl{constructor(n,r,i,o,a){super(n,r,o,a),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let n=await this.execute();return R(n,this.auth,"internal-error"),n}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");let n=$2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,NE.get())};n()}}t.currentPopupAction=null;return t})(),jE="pendingRedirect",Ol=new Map,T2=class extends Zl{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ol.get(this.auth._key());if(!e){try{let r=await HE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ol.set(this.auth._key(),e)}return this.bypassAuthState||Ol.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function HE(t,e){let n=BE(e),r=zE(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function VE(t,e){Ol.set(t._key(),e)}function zE(t){return Un(t._redirectPersistence)}function BE(t){return Pl(jE,t.config.apiKey,t.name)}async function qE(t,e,n=!1){if(Gt(t.app))return Promise.reject(li(t));let r=Yl(t),i=PM(r,e),a=await new T2(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}var UE=600*1e3,L2=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$E(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!OM(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zt(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UE&&this.cachedEventUids.clear(),this.cachedEventUids.has(J5(e))}saveEventToCache(e){this.cachedEventUids.add(J5(e)),this.lastProcessedEventTime=Date.now()}};function J5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function OM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $E(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OM(t);default:return!1}}async function WE(t,e={}){return Do(t,"GET","/v1/projects",e)}var GE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZE=/^https?/;async function KE(t){if(t.config.emulator)return;let{authorizedDomains:e}=await WE(t);for(let n of e)try{if(YE(n))return}catch{}mn(t,"unauthorized-domain")}function YE(t){let e=M2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!ZE.test(n))return!1;if(GE.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var XE=new ui(3e4,6e4);function eM(){let t=gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QE(t){return new Promise((e,n)=>{function r(){eM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eM(),n(Zt(t,"network-request-failed"))},timeout:XE.get()})}if(gn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gn().gapi?.load)r();else{let i=IM("iframefcb");return gn()[i]=()=>{gapi.load?r():n(Zt(t,"network-request-failed"))},cE(`${dE()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Nl=null,e})}var Nl=null;function JE(t){return Nl=Nl||QE(t),Nl}var e9=new ui(5e3,15e3),t9="__/auth/iframe",n9="emulator/auth/iframe",r9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o9(t){let e=t.config;R(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?N2(e,n9):`https://${t.config.authDomain}/${t9}`,r={apiKey:e.apiKey,appName:t.name,v:_o},i=i9.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Io(r).slice(1)}`}async function a9(t){let e=await JE(t),n=gn().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:o9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let a=Zt(t,"network-request-failed"),s=gn().setTimeout(()=>{o(a)},e9.get());function c(){gn().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}var s9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c9=500,d9=600,l9="_blank",u9="http://localhost",Kl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function h9(t,e,n,r=c9,i=d9){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=U(m({},s9),{width:r.toString(),height:i.toString(),top:o,left:a}),d=We().toLowerCase();n&&(s=yM(d)?l9:n),pM(d)&&(e=e||u9,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,y])=>`${h}${f}=${y},`,"");if(rE(d)&&s!=="_self")return p9(e||"",s),new Kl(null);let u=window.open(e||"",s,l);R(u,t,"popup-blocked");try{u.focus()}catch{}return new Kl(u)}function p9(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var f9="__/auth/handler",y9="emulator/auth/handler",g9=encodeURIComponent("fac");async function tM(t,e,n,r,i,o){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_o,eventId:i};if(e instanceof ns){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",x5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,u]of Object.entries(o||{}))a[l]=u}if(e instanceof Ul){let l=e.getScopes().filter(u=>u!=="");l.length>0&&(a.scopes=l.join(","))}t.tenantId&&(a.tid=t.tenantId);let s=a;for(let l of Object.keys(s))s[l]===void 0&&delete s[l];let c=await t._getAppCheckToken(),d=c?`#${g9}=${encodeURIComponent(c)}`:"";return`${m9(t)}?${Io(s).slice(1)}${d}`}function m9({config:t}){return t.emulator?N2(t,y9):`https://${t.authDomain}/${f9}`}var v2="webStorageSupport",A2=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U2,this._completeRedirectFn=qE,this._overrideRedirectResult=VE}async _openPopup(e,n,r,i){$n(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await tM(e,n,r,M2(),i);return h9(e,o,$2())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await tM(e,n,r,M2(),i);return CE(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($n(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await a9(e),r=new L2(e);return n.register("authEvent",i=>(R(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(v2,{type:v2},i=>{let o=i?.[0]?.[v2];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KE(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MM()||fM()||H2()}},NM=A2;var nM="@firebase/auth",rM="1.12.0";var R2=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function k9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v9(t){bo(new fn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;R(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wM(t)},d=new S2(r,i,o,c);return lE(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bo(new fn("auth-internal",e=>{let n=Yl(e.getProvider("auth").getImmediate());return(r=>new R2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(nM,rM,k9(t)),fr(nM,rM,"esm2020")}var M9=300,w9=t2("authIdTokenMaxAge")||M9,iM=null,I9=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w9)return;let i=n?.token;iM!==i&&(iM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function G2(t=B5()){let e=g2(t,"auth");if(e.isInitialized())return e.getImmediate();let n=CM(t,{popupRedirectResolver:NM,persistence:[RM,EM,U2]}),r=t2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=I9(o.toString());xM(n,a,()=>a(n.currentUser)),DM(n,s=>a(s))}}let i=k5("auth");return i&&bM(n,`http://${i}`),n}function C9(){return document.getElementsByTagName("head")?.[0]??document}sE({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Zt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",C9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v9("Browser");var kn=class t{auth;user=g(null);constructor(){let n=m2({apiKey:"AIzaSyBKjHTxlaa6D7icnxhp1Unz9uTCcuJLWSc",authDomain:"travelmap-b4be9.firebaseapp.com",projectId:"travelmap-b4be9",storageBucket:"travelmap-b4be9.firebasestorage.app",messagingSenderId:"211285565341",appId:"1:211285565341:web:beb194890d6cf76ba95974"});this.auth=G2(n),B2(this.auth,r=>{if(r&&r.photoURL){let i=r.photoURL.replace("=s96-c","=s128-c");Object.defineProperty(r,"photoURL",{value:i,writable:!0})}this.user.set(r)})}async login(){return W2(this.auth,new z2)}async logout(){return q2(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ql=class t{constructor(e,n){this.http=e;this.authService=n}baseUrl="https://travelmap-307804410649.europe-west1.run.app/";d=800;createPlace(e){return S({id:"loc1",trip_id:"wereldreis",name:"Paris",country_id:"fr",season_id:"s1",lat:48.85,lng:2.35,country:{id:"fr",name:"France"}}).pipe(rt(this.d))}deletePlace(e){return S(void 0).pipe(rt(this.d))}getUserTrips(){let e=this.authService.user()?.uid;return S([{id:"wereldreis",name:"Wereldreis",plans:[{id:"v1",name:"v1",priority:1},{id:"v2",name:"v2",priority:2}]},{id:"test",name:"Test",plans:[{id:"v1",name:"v1t",priority:1}]}]).pipe(rt(this.d))}getTrip(e){return S({id:e,name:e==="wereldreis"?"Wereldreis":"Test"}).pipe(rt(this.d))}getPlaces(e){return S([{id:"loc1",trip_id:e,name:"Paris",country_id:"fr",season_id:"s1",lat:48.85,lng:2.35},{id:"loc2",trip_id:e,name:"Berlin",country_id:"de",season_id:"s2",lat:52.52,lng:13.4},{id:"loc3",trip_id:e,name:"Rome",country_id:"it",season_id:"s3",lat:41.9,lng:12.49}]).pipe(rt(this.d))}getRoutes(e){return S([{id:"route1",trip_id:e,source:"loc1",target:"loc2",type:"driving",distance:10,duration:1,route:"",actual_cost:0,estimated_cost:0,nights:0,paid:!1},{id:"route2",trip_id:e,source:"loc1",target:"loc3",type:"flying",distance:10,duration:1,route:"",actual_cost:0,estimated_cost:0,nights:0,paid:!1},{id:"route3",trip_id:e,source:"loc2",target:"loc3",type:"boat",distance:10,duration:1,route:"",actual_cost:0,estimated_cost:0,nights:0,paid:!1}]).pipe(rt(this.d))}getPlan(e){return S({id:e,name:e,lat:48,lng:10,zoom:4,start_date:"2026-05-23",note:"",priority:1,trip_id:"wereldreis"}).pipe(rt(this.d))}getVisits(e){return S([{id:"v1",plan_id:e,place_id:"loc1",nights:3,included:!0},{id:"v2",plan_id:e,place_id:"loc2",nights:2,included:!0}]).pipe(rt(this.d))}getCountries(){return S([{id:"fr",name:"France",code:"FR"},{id:"de",name:"Germany",code:"DE"},{id:"it",name:"Italy",code:"IT"}]).pipe(rt(this.d))}getSeasons(){return S([{id:"s1",country_id:"fr",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"},{id:"s2",country_id:"de",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"},{id:"s3",country_id:"it",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"}]).pipe(rt(this.d))}getSyncData(e,n,r){let i=[{id:"wereldreis",name:"Wereldreis"},{id:"test",name:"Testreis"}],o=[{id:"v1",name:"v1",priority:1},{id:"v2",name:"v2 (copy 2) (copy 2) (copy 2) (copy 2)",priority:2}],a={userTrips:[{id:"wereldreis",name:"Wereldreis"},{id:"test",name:"Testreis"}],activeTrip:n?{id:n,name:n==="wereldreis"?"Wereldreis":"Testreis",plans:o,pins:[{lat:48.8566,lng:2.3522,title:"Paris"}]}:null,activePlan:r?o.find(s=>s.id===r):null};return S(a).pipe(rt(2e3))}static \u0275fac=function(n){return new(n||t)(T(Jd),T(kn))};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var Jl=class{constructor(e,n,r,i,o,a){this.tripService=a;this.id=e.id,this.update(e),this.countries.set(new Map(n.map(s=>[s.id,s]))),this.seasons.set(new Map(r.map(s=>[s.id,s]))),this.places.set(new Map(i.map(s=>[s.id,s]))),this.routes.set(new Map(o.map(s=>[s.id,s])))}id;name=g("");countries=g(new Map);seasons=g(new Map);places=g(new Map);placesArray=pe(()=>Array.from(this.places().values()));routes=g(new Map);routesGeoJson=pe(()=>{let e=this.routes()??new Map;return{type:"FeatureCollection",features:Array.from(e.values()).map(n=>({type:"Feature",id:n.id,properties:{type:n.type(),routeId:n.id},geometry:{type:"LineString",coordinates:n.lineCoordinates()}}))}});update(e){"name"in e&&this.name.set(e.name??"")}addCountry(e){this.countries.update(n=>(n.set(e.id,e),n))}removeCountry(e){this.countries.update(n=>(n.delete(e.id),n))}addSeason(e){this.seasons.update(n=>(n.set(e.id,e),n))}removeSeason(e){this.seasons.update(n=>(n.delete(e.id),n))}addPlace(e){this.places.update(n=>(n.set(e.id,e),n))}removePlace(e){this.places.update(n=>(n.delete(e.id),n)),this.tripService.plan()?.removeVisitsByPlace(e),e.country&&!Array.from(this.places().values()).some(n=>n.country_id===e.country_id)&&this.removeCountry(e.country),Array.from(this.routes().values()).forEach(n=>{(n.sourceId===e.id||n.targetId===e.id)&&this.removeRoute(n)})}addRoute(e){this.routes.update(n=>(n.set(e.id,e),n))}removeRoute(e){this.routes.update(n=>(n.delete(e.id),n))}toJSON(){return{id:this.id,name:this.name()}}};var eu=class{id;trip_id;name=g("");start_date=g(null);note=g("");priority=g(0);lat=g(0);lng=g(0);zoom=g(0);visits=g(new Map);visitsArray=pe(()=>Array.from(this.visits().values()));traverses=g([]);startDateString=pe(()=>{let e=this.start_date();return e?e.toLocaleDateString("nl-NL"):""});constructor(e,n,r){this.id=e.id,this.trip_id=e.trip_id,this.update(e),this.visits.set(new Map(n.map(i=>[i.id,i]))),this.traverses.set(r)}update(e){"name"in e&&this.name.set(e.name??""),"start_date"in e&&this.start_date.set(e.start_date?new Date(e.start_date):null),"note"in e&&this.note.set(e.note??""),"priority"in e&&this.priority.set(e.priority??0),"lat"in e&&this.lat.set(e.lat??0),"lng"in e&&this.lng.set(e.lng??0),"zoom"in e&&this.zoom.set(e.zoom??0)}addVisit(e){this.visits.update(n=>(n.set(e.id,e),n))}removeVisit(e){this.visits.update(n=>(n.delete(e.id),n))}removeVisitsByPlace(e){this.visitsArray().filter(r=>r.place_id===e.id).forEach(r=>this.removeVisit(r))}get totalPlanCost(){return this.visitsArray().reduce((e,n)=>e+(n.place?.totalDailyCost??0),0)}toJSON(){return{id:this.id,trip_id:this.trip_id,name:this.name(),start_date:this.start_date()?.toISOString().split("T")[0]??null,note:this.note(),priority:this.priority(),lat:this.lat(),lng:this.lng(),zoom:this.zoom()}}};var os=class{id;name;constructor(e){this.id=e.id,this.name=e.name}};var tu=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Z2=tu.map(t=>`${t}_reason`),nu=class{id;country_id;description=g("");description_abbreviation=g("");jan=g(0);feb=g(0);mar=g(0);apr=g(0);may=g(0);jun=g(0);jul=g(0);aug=g(0);sep=g(0);oct=g(0);nov=g(0);dec=g(0);jan_reason=g("");feb_reason=g("");mar_reason=g("");apr_reason=g("");may_reason=g("");jun_reason=g("");jul_reason=g("");aug_reason=g("");sep_reason=g("");oct_reason=g("");nov_reason=g("");dec_reason=g("");months=pe(()=>tu.map(e=>this[e]()));reasons=pe(()=>Z2.map(e=>this[e]()));constructor(e){this.id=e.id,this.country_id=e.country_id,this.update(e)}update(e){[...tu,...Z2].forEach(n=>{n in e&&this[n].set(e[n]??(n.endsWith("_reason")?"":0))}),"description"in e&&this.description.set(e.description??""),"description_abbreviation"in e&&this.description_abbreviation.set(e.description_abbreviation??"")}toJSON(){let e={id:this.id,country_id:this.country_id,description:this.description(),description_abbreviation:this.description_abbreviation()};return tu.forEach(n=>{e[n]=this[n]()}),Z2.forEach(n=>{e[n]=this[n]()}),e}};var as=class{constructor(e,n){this.tripService=n;let c=e,{name:r,accommodation_cost:i,food_cost:o,miscellaneous_cost:a}=c,s=Zn(c,["name","accommodation_cost","food_cost","miscellaneous_cost"]);Object.assign(this,s),this.update(e)}id;lat;lng;country_id;season_id;trip_id;name=g("");accommodation_cost=g(0);food_cost=g(0);miscellaneous_cost=g(0);visits=pe(()=>this.tripService.plan()?.visitsArray().filter(e=>e.place_id===this.id)??[]);get country(){return this.tripService.trip()?.countries().get(this.country_id)}get season(){return this.season_id?this.tripService.trip()?.seasons().get(this.season_id):void 0}update(e){"name"in e&&this.name.set(e.name??""),"accommodation_cost"in e&&this.accommodation_cost.set(e.accommodation_cost??0),"food_cost"in e&&this.food_cost.set(e.food_cost??0),"miscellaneous_cost"in e&&this.miscellaneous_cost.set(e.miscellaneous_cost??0)}get totalDailyCost(){return this.accommodation_cost()+this.food_cost()+this.miscellaneous_cost()}getGoogleMapsLink(){return`https://www.google.com/maps?q=${this.lat},${this.lng}`}toJSON(){return{id:this.id,name:this.name(),lat:this.lat,lng:this.lng,country_id:this.country_id,season_id:this.season_id,trip_id:this.trip_id,accommodation_cost:this.accommodation_cost(),food_cost:this.food_cost(),miscellaneous_cost:this.miscellaneous_cost()}}};var ru=class{constructor(e,n){this.tripService=n;this.id=e.id,this.place_id=e.place_id,this.plan_id=e.plan_id,this.update(e)}id;place_id;plan_id;nights=g(0);included=g(!0);get place(){return this.tripService.trip()?.places().get(this.place_id)}update(e){"nights"in e&&this.nights.set(e.nights??0),"included"in e&&this.included.set(e.included??!0)}toJSON(){return{id:this.id,place_id:this.place_id,plan_id:this.plan_id,nights:this.nights(),included:this.included()}}};var iu=class{constructor(e,n){this.tripService=n;this.id=e.id,this.sourceId=e.source,this.targetId=e.target,this.trip_id=e.trip_id,this.update(e)}id;sourceId;targetId;trip_id;type=g(void 0);distance=g(0);duration=g(0);estimated_cost=g(0);nights=g(0);route=g("");actual_cost=g(0);paid=g(!1);traverses=pe(()=>this.tripService.plan()?.traverses().filter(e=>e.route_id===this.id)??[]);lineCoordinates=pe(()=>{let e=this.source,n=this.target;return!e||!n?[]:[[e.lng,e.lat],[n.lng,n.lat]]});routeSpline=pe(()=>{let e=this.source,n=this.target;return!e||!n?[]:this.computeRouteSpline([[e.lng,e.lat],[n.lng,n.lat]])});get source(){return this.tripService.trip()?.places().get(this.sourceId)}get target(){return this.tripService.trip()?.places().get(this.targetId)}update(e){"type"in e&&this.type.set(e.type),"distance"in e&&this.distance.set(e.distance??0),"duration"in e&&this.duration.set(e.duration??0),"estimated_cost"in e&&this.estimated_cost.set(e.estimated_cost??0),"nights"in e&&this.nights.set(e.nights??0),"route"in e&&this.route.set(e.route??""),"actual_cost"in e&&this.actual_cost.set(e.actual_cost??0),"paid"in e&&this.paid.set(e.paid??!1)}computeRouteSpline(e){return!this.source||!this.target?[]:[]}toJSON(){return{id:this.id,source:this.sourceId,target:this.targetId,type:this.type(),distance:this.distance(),duration:this.duration(),estimated_cost:this.estimated_cost(),nights:this.nights(),route:this.route(),actual_cost:this.actual_cost(),paid:this.paid()}}};var Lt=class t{apiService=p(Ql);authService=p(kn);trips=g(null);trip=g(null);plan=g(null);plans=pe(()=>this.trips()?.find(n=>n.id===this.trip()?.id)?.plans??[]);selectedPlace=g(null);selectedRoute=g(null);constructor(){Ye(()=>{let e=this.authService.user()?.uid;this.clearTrips(),e&&this.loadTrips()})}clearTrips(){this.trips.set(null),this.clearTrip()}clearTrip(){this.trip.set(null),this.clearPlan()}clearPlan(){this.plan.set(null)}loadTrips(){this.apiService.getUserTrips().pipe(j(e=>e.map(n=>this.createUserTrip(n)))).subscribe(e=>{this.trips.set(e)})}createUserTrip(e){return{id:e.id,name:e.name,plans:(e.plans||[]).map(n=>({id:n.id,name:n.name,priority:n.priority})).sort((n,r)=>n.priority-r.priority)}}loadTrip(e){return this.clearTrip(),n1({t:this.apiService.getTrip(e),p:this.apiService.getPlaces(e),r:this.apiService.getRoutes(e),c:this.apiService.getCountries(),s:this.apiService.getSeasons()}).pipe(j(n=>{let r=n.c.map(s=>new os(s)),i=n.s.map(s=>new nu(s)),o=n.p.map(s=>new as(s,this)),a=n.r.map(s=>new iu(s,this));return new Jl(n.t,r,i,o,a,this)}),Me(n=>this.trip.set(n)))}loadPlan(e){console.log("load plan!"),this.clearPlan(),this.apiService.getPlan(e).pipe(Ee(n=>this.apiService.getVisits(e).pipe(j(r=>{let i=r.map(a=>new ru(a,this)),o=[];return new eu(n,i,o)})))).subscribe(n=>this.plan.set(n))}addPlace(e){return this.persist(this.apiService.createPlace(e),n=>{let r=this.trip();if(!r)return;let i=new as(n,this);n.country&&r.addCountry(new os(n.country)),r.addPlace(i)})}removePlace(e){return this.persist(this.apiService.deletePlace(e.id),()=>this.trip()?.removePlace(e))}linkSeasonToPlace(e,n){e.season_id=n.id,this.trip()?.addSeason(n)}persist(e,n){return e.pipe(Me(n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var K2;try{K2=typeof Intl<"u"&&Intl.v8BreakIterator}catch{K2=!1}var ss=(()=>{class t{_platformId=p(Ln);isBrowser=this._platformId?Bd(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||K2)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cs(t){return Array.isArray(t)?t:[t]}var jM=new Set,pi,VM=(()=>{class t{_platform=p(ss);_nonce=p($i,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_9}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&b9(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function b9(t,e){if(!jM.has(t))try{pi||(pi=document.createElement("style"),e&&pi.setAttribute("nonce",e),pi.setAttribute("type","text/css"),document.head.appendChild(pi)),pi.sheet&&(pi.sheet.insertRule(`@media ${t} {body{ }}`,0),jM.add(t))}catch(n){console.error(n)}}function _9(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Y2=(()=>{class t{_mediaMatcher=p(VM);_zone=p(fe);_queries=new Map;_destroySubject=new A;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return HM(cs(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=HM(cs(n)).map(a=>this._registerQuery(a).observable),o=Si(i);return o=Qt(o.pipe(ze(1)),o.pipe(s1(1),i1(0))),o.pipe(j(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{s.matches=s.matches||c,s.breakpoints[d]=c}),s}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new O(a=>{let s=c=>this._zone.run(()=>a.next(c));return r.addListener(s),()=>{r.removeListener(s)}}).pipe(In(r),j(({matches:a})=>({query:n,matches:a})),it(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HM(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var zM={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function BM(t,e){let r=!e?.manualCleanup?e?.injector?.get(qe)??p(qe):null,i=S9(e?.equal),o;e?.requireSync?o=g({kind:0},{equal:i}):o=g({kind:1,value:e?.initialValue},{equal:i});let a,s=t.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{o.set({kind:2,error:c}),a?.()},complete:()=>{a?.()}});if(e?.requireSync&&o().kind===0)throw new C(601,!1);return a=r?.onDestroy(s.unsubscribe.bind(s)),pe(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new C(601,!1)}},{equal:e?.equal})}function S9(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var vn=class t{breakpointObserver=p(Y2);tripService=p(Lt);fallbackSignal=g("");isSidebarOpen=g(!0);isLoading=g(!1);isSearchExpanded=g(!1);sidePanelWidth=pe(()=>this.isMobile()||!this.tripService.plan()||!this.isSidebarOpen()?0:445);isMobile=BM(this.breakpointObserver.observe([zM.Handset]).pipe(j(e=>e.matches)),{initialValue:!1});toggleSidebar(){this.isSidebarOpen.update(e=>!e)}toggleSearch(){this.isSearchExpanded.update(e=>!e)}closeSearch(){this.isSearchExpanded.set(!1)}setLoading(e){this.isLoading.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};var D9=["*"];var qM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]];var UM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var ds={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},X2=new M("LucideIcons",{factory:()=>new ls({})}),ls=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},x9=(()=>{class t{constructor(){this.color=ds.stroke,this.size=ds.width,this.strokeWidth=ds["stroke-width"],this.absoluteStrokeWidth=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function E9(t,e=3){return parseFloat(t.toFixed(e)).toString(10)}var ou=(()=>{class t{constructor(n,r,i,o,a){this.elem=n,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=ds.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=U(m({},ds),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?E9(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,n]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let o=this.elem.nativeElement.childNodes;for(let a of o)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,i=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(o,a,s)}),i.length&&i.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(o,s)}),o}}return t.\u0275fac=function(n){return new(n||t)(Ue(Te),Ue(ka),Ue(qt),Ue(X2),Ue(x9))},t.\u0275cmp=X({type:t,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Tn],ngContentSelectors:D9,decls:1,vars:0,template:function(n,r){n&1&&(Dd(),xd(0))},encapsulation:2}),t})(),Q2=class{constructor(e){this.icons=e}},T9=t=>new ls(t??{}),xo=(()=>{class t{static pick(n){return{ngModule:t,providers:[{provide:X2,multi:!0,useValue:new ls(n)},{provide:X2,multi:!0,useFactory:T9,deps:[[new Jc,Q2]]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xt({type:t}),t.\u0275inj=at({imports:[[]]}),t})();var au=class t{place=ei.required();onSave=i0();onDelete=i0();save(e){this.onSave.emit({id:this.place().id,name:e})}delete(){this.onDelete.emit(this.place().id)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-place-popup"]],inputs:{place:[1,"place"]},outputs:{onSave:"onSave",onDelete:"onDelete"},decls:8,vars:1,consts:[["nameInput",""],[1,"apple-popup"],[1,"popup-input",3,"keydown.enter","value"],[1,"popup-actions"],[1,"save-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(n,r){if(n&1){let i=ke();Le(0,"div",1)(1,"input",2,0),no("keydown.enter",function(){B(i);let a=Bt(2);return q(r.save(a.value))}),Ae(),Le(3,"div",3)(4,"button",4),no("click",function(){B(i);let a=Bt(2);return q(r.save(a.value))}),G(5,"Save"),Ae(),Le(6,"button",5),no("click",function(){return B(i),q(r.delete())}),G(7,"Delete"),Ae()()()}n&2&&(D(),Sd("value",r.place().name()))},styles:[".apple-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;min-width:200px}.popup-input[_ngcontent-%COMP%]{background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;padding:8px 12px;font-size:14px;outline:none;transition:border-color .2s}.popup-input[_ngcontent-%COMP%]:focus{border-color:#007aff}.popup-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.save-btn[_ngcontent-%COMP%]{flex:2;background:#007aff;color:#fff;border:none;border-radius:8px;padding:8px;font-weight:600;font-size:13px;cursor:pointer}.delete-btn[_ngcontent-%COMP%]{flex:1;background:#ff453a26;color:#ff453a;border:1px solid rgba(255,69,58,.3);border-radius:8px;padding:8px;font-weight:500;font-size:13px;cursor:pointer}.save-btn[_ngcontent-%COMP%]:hover{background:#0063cc}.delete-btn[_ngcontent-%COMP%]:hover{background:#ff453a40}"]})};function L9(t,e){t&1&&(Le(0,"span",1),G(1,"-"),Ae())}function A9(t,e){t&1&&Yr(0,"div",2)}function R9(t,e){if(t&1&&(Le(0,"span",1),G(1),Ae(),ue(2,A9,1,0,"div",2)),t&2){let n=e.$implicit,r=e.$index,i=e.$count;D(),nt(n.nights()),D(),he(r!==i-1?2:-1)}}function P9(t,e){if(t&1&&or(0,R9,3,2,null,null,qp),t&2){let n=V();ar(n.visits)}}var su=class t{visits;zoom;isZoomLow=pe(()=>(this.zoom?.()??0)<3);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-place-marker"]],inputs:{visits:"visits",zoom:"zoom"},decls:4,vars:1,consts:[[1,"marker-pill"],[1,"night-count"],[1,"marker-divider"]],template:function(n,r){n&1&&(Le(0,"div")(1,"div",0),ue(2,L9,2,0,"span",1)(3,P9,2,0),Ae()()),n&2&&(D(2),he(!r.visits||r.visits.length===0||r.isZoomLow()?2:3))},styles:[".marker-pill[_ngcontent-%COMP%]{display:flex;align-items:center;background:#2d2d32d9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:20px;padding:4px 10px;color:#fff;font-size:12px;font-weight:500;box-shadow:0 4px 12px #0000004d;white-space:nowrap}.marker-divider[_ngcontent-%COMP%]{width:1px;height:12px;background:#ffffff4d;margin:0 6px}.night-count[_ngcontent-%COMP%]{min-width:8px;text-align:center;cursor:pointer}.marker-pill[_ngcontent-%COMP%]{transition:transform .2s cubic-bezier(.175,.885,.32,1.275),background .2s}.marker-pill[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#3c3c41f2;border-color:#007aff80}"]})};var cu=class t{place;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-place-tooltip"]],inputs:{place:"place"},decls:2,vars:1,consts:[[1,"tooltip-text"]],template:function(n,r){if(n&1&&(Le(0,"span",0),G(1),Ae()),n&2){let i;D(),nt((i=r.place())==null?null:i.name())}},styles:[".hover-tooltip .mapboxgl-popup-content{background:#141414cc!important;color:#fff;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:.5px solid rgba(255,255,255,.1);padding:4px 10px;font-size:12px;font-weight:500;box-shadow:0 4px 12px #0000004d;white-space:nowrap;border-radius:20px!important;margin-bottom:3px;pointer-events:none}  .hover-tooltip .mapboxgl-popup-tip{display:none}.tooltip-text[_ngcontent-%COMP%]{color:#fff!important;font-size:12px;font-weight:500;padding:20px;white-space:nowrap}"]})};function O9(t,e){if(t&1&&(Le(0,"span",0),G(1),Ae()),t&2){let n=e;D(),Ed(" ",n.source==null?null:n.source.name()," \u2192 ",n.target==null?null:n.target.name()," ")}}var du=class t{route;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-route-tooltip"]],inputs:{route:"route"},decls:1,vars:1,consts:[[1,"tooltip-text"]],template:function(n,r){if(n&1&&ue(0,O9,2,2,"span",0),n&2){let i;he((i=r.route())?0:-1,i)}},styles:[".hover-tooltip .mapboxgl-popup-content{background:#141414cc!important;color:#fff;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:.5px solid rgba(255,255,255,.1);padding:4px 10px;font-size:12px;font-weight:500;box-shadow:0 4px 12px #0000004d;white-space:nowrap;border-radius:20px!important;margin-bottom:3px;pointer-events:none}  .hover-tooltip .mapboxgl-popup-tip{display:none}.tooltip-text[_ngcontent-%COMP%]{color:#fff!important;font-size:12px;font-weight:500;padding:20px;white-space:nowrap}"]})};var lu={production:!1,mapboxToken:"pk.eyJ1IjoiZG9taW5pcXVlc29tbWVycyIsImEiOiJjbWNoeHNnZG4wMHk1MmtzOGtodnluZHJzIn0.j0bybMxwa2BK4UgPIhxpQw"};var WM=[2.35,48.85],GM=3.2,Wn={LOGGED_OUT:"dark-v11",LOGGED_IN:"light-v11",ACTIVE_TRIP:"streets-v12"},gt={driving:"#3887be",boat:"#ff8c42",flying:"#fcba03",bus:"#e55e5e",train:"#ae8a41",undefined:"#707070"},Gn={driving:"icon_driving",flying:"icon_flying",boat:"icon_boat",bus:"icon_bus",train:"icon_train",undefined:"icon_marker",icon_marker:"icon_marker"},JX=["match",["get","type"],"driving",gt.driving,"flying",gt.flying,"boat",gt.boat,"bus",gt.bus,"train",gt.train,gt.undefined];var uu=class{constructor(e){this.map=e}currentStyle=g("");routesLayerReady=g(!1);getStyle(e,n){return e?n?Wn.ACTIVE_TRIP:Wn.LOGGED_IN:Wn.LOGGED_OUT}updateStyle(e,n){let r=this.getStyle(e,n);this.currentStyle()!==r&&(this.map.setStyle(`mapbox://styles/mapbox/${r}?optimize=true`),this.currentStyle.set(r))}updateRouteData(e){let n=this.map.getSource("all-routes");this.routesLayerReady()&&n&&n.setData(e)}setLayerVisibility(e,n){let r=n?"visible":"none";this.map.setLayoutProperty(`route-layer-${e}`,"visibility",r)}initializeRouteLayers(e){this.routesLayerReady.set(!1),this.map.getSource("all-routes")||this.map.addSource("all-routes",{type:"geojson",data:e||{type:"FeatureCollection",features:[]},generateId:!0}),this.map.getLayer("route-lines")||this.map.addLayer({id:"route-lines",type:"line",source:"all-routes",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":["case",["boolean",["feature-state","hover"],!1],4,2.4],"line-color":["match",["get","type"],"driving",gt.driving,"boat",gt.boat,"flying",gt.flying,"bus",gt.bus,"train",gt.train,gt.undefined],"line-opacity":["case",["boolean",["feature-state","disabled"],!1],.1,.8]}}),this.map.getLayer("route-icons-bg")||this.map.addLayer({id:"route-icons-bg",type:"symbol",source:"all-routes",layout:{"symbol-placement":"line","symbol-spacing":150,"icon-image":"icon_marker","icon-size":1.3,"icon-allow-overlap":!0,"icon-rotate":-90,"icon-rotation-alignment":"map","icon-offset":[0,3],"icon-keep-upright":!1},paint:{"icon-color":"rgba(45, 45, 50, 0.85)","icon-opacity":["case",["boolean",["feature-state","disabled"],!1],.2,1]}}),this.map.getLayer("route-icons")||this.map.addLayer({id:"route-icons",type:"symbol",source:"all-routes",layout:{"symbol-placement":"line","symbol-spacing":150,"icon-image":["match",["get","type"],"driving",Gn.driving,"boat",Gn.boat,"flying",Gn.flying,"bus",Gn.bus,"train",Gn.train,Gn.undefined],"icon-size":.5,"icon-allow-overlap":!0,"icon-keep-upright":!0,"icon-rotation-alignment":"viewport"},paint:{"icon-color":"#ffffff","icon-opacity":["case",["boolean",["feature-state","disabled"],!1],.2,1]}}),this.routesLayerReady.set(!0)}highlightRoute(e){this.map.setFilter("route-highlight-layer",["==",["get","id"],e??""]),e?this.map.setPaintProperty("all-routes-layer","line-opacity",.2):this.map.setPaintProperty("all-routes-layer","line-opacity",1)}setSourceData(e){this.map.getSource("all-routes")?.setData(e)}};var hu=class{constructor(e){this.map=e}async loadRouteIcons(){console.log("load icons");let e=Object.entries(Gn);for(let[n,r]of e){if(this.map.hasImage(r))continue;let i=`/icons/${r}.png`,o=await new Promise(a=>{this.map.loadImage(i,(s,c)=>{s?(console.error(`Failed to load icon: ${i}`,s),a(void 0)):a(c)})});o&&!this.map.hasImage(r)&&this.map.addImage(r,o,{sdf:!0,pixelRatio:4})}}};var us=class{constructor(e,n,r,i,o,a,s,c,d){this.map=e;this.mapbox=n;this.tripService=r;this.uiService=i;this.activePlacePopupEL=o;this.placeTooltipEl=a;this.routeTooltipEl=s;this.hoveredPlace=c;this.hoveredRoute=d}activePlacePopup;hoverTimer;placeHoverPopup;routeHoverPopup;attachGlobalListeners(e,n){this.map.on("click",()=>{this.tripService.selectedPlace.set(null),this.uiService.isSearchExpanded()&&this.uiService.closeSearch()}),this.map.on("move",()=>{let r=this.map.getCenter();e.set([r.lng,r.lat]),n.set(this.map.getZoom())})}wireMarker(e,n,r){r.addEventListener("click",i=>{i.stopPropagation(),this.handleOpenPopup(e,n),this.uiService.isSearchExpanded()&&this.uiService.closeSearch()})}handleOpenPopup(e,n){this.tripService.selectedPlace.set(e),this.showActivePlacePopup(n.getLngLat())}showActivePlacePopup(e){this.activePlacePopup&&this.activePlacePopup.remove(),setTimeout(()=>{this.activePlacePopup=new this.mapbox.Popup({offset:25,closeButton:!1,className:"apple-glass-popup"}).setDOMContent(this.activePlacePopupEL).setLngLat(e).addTo(this.map),this.activePlacePopup?.on("close",()=>{this.tripService.selectedPlace.set(null),this.activePlacePopup=void 0})},0)}closeActivePopup(){this.activePlacePopup&&(this.activePlacePopup.remove(),this.activePlacePopup=void 0,this.tripService.selectedPlace.set(null))}handleMarkerHover(e){this.clearTimers(),!this.tripService.selectedPlace()&&(this.hoverTimer=setTimeout(()=>{this.hoveredPlace.set(e),this.placeHoverPopup||(this.placeHoverPopup=new this.mapbox.Popup({closeButton:!1,closeOnClick:!1,offset:15,className:"hover-tooltip"})),this.placeHoverPopup.setLngLat([e.lng,e.lat]).setDOMContent(this.placeTooltipEl).addTo(this.map)},120))}handleMarkerUnhover(){this.clearTimers(),this.hoveredPlace.set(null),this.placeHoverPopup?.remove()}attachLayerListeners(){this.map.on("mouseenter",["route-icons"],e=>{let n=e.features?.[0],r=n?.properties?.routeId,i=n?.id;!r||i===void 0||(this.map.getCanvas().style.cursor="pointer",this.clearTimers(),this.hoverTimer=setTimeout(()=>{let o=this.tripService.trip()?.routes()?.get(r);this.hoveredRoute.set(o??null),this.map.setFeatureState({source:"all-routes",id:i},{hover:!0}),this.routeHoverPopup||(this.routeHoverPopup=new this.mapbox.Popup({closeButton:!1,closeOnClick:!1,offset:15,className:"hover-tooltip"})),this.routeHoverPopup.setLngLat(e.lngLat).setDOMContent(this.routeTooltipEl).addTo(this.map)},120))}),this.map.on("mouseleave",["route-icons"],()=>{this.hoveredRoute.set(null),this.routeHoverPopup?.remove(),this.map.getCanvas().style.cursor="",this.clearTimers(),this.map.removeFeatureState({source:"all-routes"})})}clearTimers(){this.hoverTimer&&(clearTimeout(this.hoverTimer),this.hoverTimer=void 0)}destroy(){this.clearTimers(),this.placeHoverPopup?.remove(),this.routeHoverPopup?.remove()}};var N9=["searchWrapper"],pu=class t{uiService=p(vn);map;searchWrapper;SearchIcon=UM;searchBoxElement;async ngOnInit(){let{MapboxSearchBox:e}=await import("./chunk-LW6QE4FR.js");this.searchBoxElement=new e,this.searchBoxElement.accessToken=lu.mapboxToken,this.searchBoxElement.bindMap(this.map),this.searchBoxElement.theme={variables:{colorBackground:"rgba(30, 30, 35, 0.7)",backdropFilter:"blur(30px) saturate(180%)",colorText:"#fff",borderRadius:"20px",width:"100%",boxShadow:"none"},cssText:`
        .SearchIcon {
          display: none !important;
        }
        .Input {
          width: 100% !important;
          padding-left: 12px !important;
          color: #fff !important;
        }
        ::placeholder {
          color: #fff !important;
        }
        .Results {
          bottom: 53px !important;
          top: auto !important;
          margin-bottom: 6px !important;
          margin-top: 0 !important;
          transform: translateX(-37px) !important;
        }
        .Suggestion {
          color: #fff !important;          /* suggestion text white */
          background-color: rgba(0, 0, 0, 0.25) !important; /* hover background */
        }
        .Suggestion:hover,
        .Suggestion[aria-selected="true"] {
          background-color: rgba(0, 0, 0, 0.5) !important; /* selected item */
        }
      `},this.searchWrapper.nativeElement.appendChild(this.searchBoxElement),this.searchBoxElement.addEventListener("retrieve",n=>{this.handleSearchResult(n)})}toggleSearch(){this.uiService.toggleSearch(),this.uiService.isSearchExpanded()&&setTimeout(()=>this.searchBoxElement.focus(),100)}handleSearchResult(e){console.log(e);let n=e.detail.features[0];this.uiService.closeSearch(),this.searchBoxElement.blur(),console.log("searched for",n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-map-search"]],viewQuery:function(n,r){if(n&1&&Xr(N9,7),n&2){let i;dn(i=ln())&&(r.searchWrapper=i.first)}},inputs:{map:"map"},decls:6,vars:8,consts:[["searchWrapper",""],[1,"search-container"],[1,"search-toggle-btn",3,"click"],["color","white",3,"name","size"],[1,"search-input-wrapper"],[1,"search-wrapper"]],template:function(n,r){if(n&1){let i=ke();_(0,"div",1)(1,"button",2),Q("click",function(a){return B(i),a.stopPropagation(),q(r.toggleSearch())}),K(2,"lucide-icon",3),L(),_(3,"div",4),K(4,"div",5,0),L()()}n&2&&(Ia("left",r.uiService.sidePanelWidth()+12,"px"),De("expanded",r.uiService.isSearchExpanded()),D(2),me("name",r.SearchIcon)("size",18),D(),De("show",r.uiService.isSearchExpanded()))},dependencies:[xo,ou],styles:[".search-container[_ngcontent-%COMP%]{position:absolute;bottom:16px;z-index:100;display:flex;align-items:center;height:37px;width:37px;background:#2d2d32b3;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:.5px solid rgba(255,255,255,.15);border-radius:18.5px;overflow:visible!important;transition:all .4s cubic-bezier(.165,.84,.44,1),left .3s ease;cursor:pointer}.search-container.expanded[_ngcontent-%COMP%]{width:300px;background:#1e1e23e6}.search-toggle-btn[_ngcontent-%COMP%]{min-width:37px;height:37px;background:none;border:none;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;outline:none}.search-input-wrapper[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;align-items:center;height:100%;opacity:0;pointer-events:none;transition:opacity .2s ease}.search-container.expanded[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}"]})};var F9=["mapContainer"],j9=["popupContainer"],H9=["placeTooltipContainer"],V9=["routeTooltipContainer"],z9=["markerElement"],B9=(t,e)=>e.id;function q9(t,e){t&1&&K(0,"app-map-search",5),t&2&&me("map",e)}function U9(t,e){if(t&1){let n=ke();_(0,"app-place-popup",11),Q("onSave",function(i){B(n);let o=V();return q(o.handleSave(i))})("onDelete",function(i){B(n);let o=V();return q(o.handleDelete(i))}),L()}t&2&&me("place",e)}function $9(t,e){if(t&1&&K(0,"app-place-tooltip",8),t&2){let n=V();me("place",n.hoveredPlace)}}function W9(t,e){if(t&1&&K(0,"app-route-tooltip",9),t&2){let n=V();me("route",n.hoveredRoute)}}function G9(t,e){if(t&1){let n=ke();_(0,"div",12,4),Q("mouseenter",function(i){let o=B(n).$implicit,a=V();return i.stopPropagation(),q(a.interactionManager.handleMarkerHover(o))})("mouseleave",function(){B(n);let i=V();return q(i.interactionManager.handleMarkerUnhover())}),K(2,"app-place-marker",13),L()}if(t&2){let n=e.$implicit,r=V();to("data-id",n.id),D(2),me("visits",n.visits())("zoom",r.zoom)}}var fu=class t{authService=p(kn);tripService=p(Lt);uiService=p(vn);platformId=p(Ln);cdr=p(qt);mapbox;map=g(null);center=g(WM);zoom=g(GM);layerManager;interactionManager;iconLoader;mapContainer;markerElements;popupEl;placeTooltipEl;routeTooltipEl;isMapVisible=g(!1);layersReady=g(!1);markers=new Map;placePopup;hoveredPlace=g(null);hoveredRoute=g(null);constructor(){Ye(()=>this.syncUI()),Ye(()=>this.syncTheme()),Ye(()=>this.syncMarkers()),Ye(()=>this.syncRoutes()),Ye(()=>this.syncSelectedPlace())}async ngOnInit(){Bd(this.platformId)&&await this.initializeMap()}async initializeMap(){this.mapbox=(await import("./chunk-XCCOAETQ.js")).default,this.mapbox.accessToken=lu.mapboxToken;let e=new this.mapbox.Map({container:this.mapContainer.nativeElement,style:`mapbox://styles/mapbox/${Wn.LOGGED_OUT}`,center:this.center(),zoom:this.zoom()});e.on("load",()=>{this.interactionManager=new us(e,this.mapbox,this.tripService,this.uiService,this.popupEl.nativeElement,this.placeTooltipEl.nativeElement,this.routeTooltipEl.nativeElement,this.hoveredPlace,this.hoveredRoute),this.interactionManager.attachGlobalListeners(this.center,this.zoom)}),e.on("style.load",async()=>{this.layersReady.set(!1),this.iconLoader||(this.iconLoader=new hu(e)),this.layerManager||(this.layerManager=new uu(e)),this.interactionManager||(this.interactionManager=new us(e,this.mapbox,this.tripService,this.uiService,this.popupEl.nativeElement,this.placeTooltipEl.nativeElement,this.routeTooltipEl.nativeElement,this.hoveredPlace,this.hoveredRoute)),await this.iconLoader.loadRouteIcons();let n=Xe(()=>this.tripService.trip()?.routesGeoJson());this.layerManager.initializeRouteLayers(n),this.interactionManager?.attachLayerListeners(),this.layersReady.set(!0),this.isMapVisible.set(!0)}),this.map.set(e)}syncUI(){let e=this.uiService.sidePanelWidth(),n=this.map();n&&n.easeTo({padding:{left:e},duration:500})}syncTheme(){let e=this.authService.user(),n=this.tripService.plan();this.map()&&this.layerManager?.updateStyle(e,n)}syncSelectedPlace(){this.tripService.selectedPlace()&&this.interactionManager.handleMarkerUnhover()}syncMarkers(){let e=this.tripService.trip()?.placesArray()??[],n=this.map();console.log("updateMarkers?",n),n&&(console.log("nr of places",e.length),setTimeout(()=>{let r=this.markerElements;console.log("markerElement length:",r.length),r.length>0&&this.updateMarkers(e,r)},10))}syncRoutes(){let e=this.tripService.trip()?.routesGeoJson();this.layersReady()&&e&&this.layerManager&&this.layerManager.updateRouteData(e)}updateMarkers(e,n){let r=this.map();!r||!this.interactionManager||(n.forEach(i=>{let o=i.nativeElement,a=o.getAttribute("data-id"),s=e.find(c=>c.id===a);if(s&&!this.markers.has(a)){let c=new this.mapbox.Marker({element:o}).setLngLat([s.lng,s.lat]).addTo(r);this.markers.set(a,c),this.interactionManager.wireMarker(s,c,o)}}),this.markers.forEach((i,o)=>{e.find(a=>a.id===o)||(i.remove(),this.markers.delete(o))}))}handleSave(e){console.log("place saved from its popup.",e),this.interactionManager.closeActivePopup()}handleDelete(e){console.log("place deleted from its popup."),confirm("Are you sure?")&&this.interactionManager.closeActivePopup()}ngOnDestroy(){this.interactionManager?.destroy();let e=this.map();e&&e.remove(),this.map.set(null)}getInitialStyle(){let e=this.authService.user(),n=this.tripService.plan();return e?n?Wn.ACTIVE_TRIP:Wn.LOGGED_IN:Wn.LOGGED_OUT}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-map"]],viewQuery:function(n,r){if(n&1&&Xr(F9,7)(j9,5)(H9,7)(V9,7)(z9,5),n&2){let i;dn(i=ln())&&(r.mapContainer=i.first),dn(i=ln())&&(r.popupEl=i.first),dn(i=ln())&&(r.placeTooltipEl=i.first),dn(i=ln())&&(r.routeTooltipEl=i.first),dn(i=ln())&&(r.markerElements=i)}},decls:18,vars:6,consts:[["mapContainer",""],["popupContainer",""],["placeTooltipContainer",""],["routeTooltipContainer",""],["markerElement",""],[3,"map"],["id","map-container",1,"map-container"],[2,"position","absolute","left","-9999px","top","0"],[3,"place"],[3,"route"],[2,"position","absolute","left","-9999px"],[3,"onSave","onDelete","place"],[3,"mouseenter","mouseleave"],[3,"visits","zoom"]],template:function(n,r){if(n&1&&(ue(0,q9,1,1,"app-map-search",5),K(1,"div",6,0),_(3,"div",7)(4,"div",null,1),ue(6,U9,1,1,"app-place-popup",8),L()(),_(7,"div",7)(8,"div",null,2),ue(10,$9,1,1,"app-place-tooltip",8),L()(),_(11,"div",7)(12,"div",null,3),ue(14,W9,1,1,"app-route-tooltip",9),L()(),_(15,"div",10),or(16,G9,3,3,"div",null,B9),L()),n&2){let i,o,a;he((i=r.map())?0:-1,i),D(),De("visible",r.isMapVisible()),D(5),he((o=r.tripService.selectedPlace())?6:-1,o),D(4),he(r.hoveredPlace()?10:-1),D(4),he(r.hoveredRoute()?14:-1),D(2),ar((a=r.tripService.trip())==null?null:a.placesArray())}},dependencies:[Tt,su,au,cu,du,xo,pu],styles:["#map-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:100%;opacity:0;transition:opacity 1.2s ease-in-out;background-color:#1a1a1a}#map-container.visible[_ngcontent-%COMP%]{opacity:1}.map-loading[_ngcontent-%COMP%]{opacity:.5}.toolbar[_ngcontent-%COMP%]{background-color:#23374be5;color:#fff;padding:6px 12px;font-family:monospace;z-index:1;position:absolute;top:0;left:0;margin:12px;border-radius:4px}.reset-button[_ngcontent-%COMP%]{background-color:#23374be5;color:#fff;position:absolute;top:45px;z-index:1;left:11px;padding:4px 10px;border-radius:10px;cursor:pointer}  .mapboxgl-popup-content{background:#1e1e23b3!important;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border:.5px solid rgba(255,255,255,.15);border-radius:16px!important;padding:12px!important;box-shadow:0 8px 32px #0006}  .apple-glass-popup .mapboxgl-popup-content{padding:0!important;background:none!important;border:none!important;box-shadow:none!important}  .mapboxgl-popup-tip{border-top-color:#1e1e23b3!important;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px)}.apple-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:150px}.popup-input[_ngcontent-%COMP%]{background:#0000004d;border:.5px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;padding:6px 10px;font-size:14px;outline:none}.popup-input[_ngcontent-%COMP%]:focus{border-color:#007aff80}.save-btn[_ngcontent-%COMP%]{background:#007aff;color:#fff;border:none;border-radius:8px;padding:6px;cursor:pointer;font-weight:500;transition:opacity .2s}.save-btn[_ngcontent-%COMP%]:hover{opacity:.8}@keyframes _ngcontent-%COMP%_tooltipFadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}  .hover-tooltip .mapboxgl-popup-content{background-color:#1e1e23e6!important;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.2);border-radius:8px;padding:6px 12px!important;pointer-events:none!important;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out forwards}  .hover-tooltip .mapboxgl-popup-tip{border-top-color:#1e1e23e6!important;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out forwards}"]})};var J2;function Z9(){if(J2==null){let t=typeof document<"u"?document.head:null;J2=!!(t&&(t.createShadowRoot||t.attachShadow))}return J2}function yu(t){if(Z9()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function hs(t){return t.composedPath?t.composedPath()[0]:t.target}function ZM(t){return t.buttons===0||t.detail===0}function KM(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function gu(t,e=0){return K9(t)?Number(t):arguments.length===2?e:0}function K9(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Kt(t){return t instanceof Te?t.nativeElement:t}var mu=new WeakMap,YM=(()=>{class t{_appRef;_injector=p(Ie);_environmentInjector=p(ye);load(n){let r=this._appRef=this._appRef||this._injector.get($e),i=mu.get(r);i||(i={loaders:new Set,refs:[]},mu.set(r,i),r.onDestroy(()=>{mu.get(r)?.refs.forEach(o=>o.destroy()),mu.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(jv(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Y9=new M("cdk-dir-doc",{providedIn:"root",factory:()=>p(oe)}),X9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Q9(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?X9.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ef=(()=>{class t{get value(){return this.valueSignal()}valueSignal=g("ltr");change=new se;constructor(){let n=p(Y9,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(Q9(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var J9=20,XM=(()=>{class t{_ngZone=p(fe);_platform=p(ss);_renderer=p(pt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new A;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=J9){return this._platform.isBrowser?new O(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=n>0?this._scrolled.pipe(Ks(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):S()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Ve(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=Kt(r),o=n.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var eT=20,QM=(()=>{class t{_platform=p(ss);_listeners;_viewportSize;_change=new A;_document=p(oe);constructor(){let n=p(fe),r=p(pt).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect(),a=-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,s=-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:a,left:s}}change(n=eT){return n>0?this._change.pipe(Ks(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var JM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=xt({type:t});static \u0275inj=at({})}return t})();var tf={},ku=class t{_appId=p(_t);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,n=!1){return this._appId!=="ng"&&(e+=this._appId),tf.hasOwnProperty(e)||(tf[e]=0),`${e}${n?t._infix+"-":""}${tf[e]++}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})};function of(t){let e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return r==="canvas"?n3(t,e):(r==="input"||r==="select"||r==="textarea")&&t3(t,e),e3("canvas",t,e,n3),e3("input, textarea, select",t,e,t3),e}function e3(t,e,n,r){let i=e.querySelectorAll(t);if(i.length){let o=n.querySelectorAll(t);for(let a=0;a<i.length;a++)r(i[a],o[a])}}var tT=0;function t3(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${tT++}`)}function n3(t,e){let n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch{}}function uf(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function af(t,e,n){let{top:r,bottom:i,left:o,right:a}=t;return n>=r&&n<=i&&e>=o&&e<=a}function nT(t,e){let n=e.left<t.left,r=e.left+e.width>t.right,i=e.top<t.top,o=e.top+e.height>t.bottom;return n||r||i||o}function ys(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function r3(t,e,n,r){let{top:i,right:o,bottom:a,left:s,width:c,height:d}=t,l=c*e,u=d*e;return r>i-u&&r<a+u&&n>s-l&&n<o+l}var vu=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:uf(n)})})}handleScroll(e){let n=hs(e),r=this.positions.get(n);if(!r)return null;let i=r.scrollPosition,o,a;if(n===this._document){let d=this.getViewportScrollPosition();o=d.top,a=d.left}else o=n.scrollTop,a=n.scrollLeft;let s=i.top-o,c=i.left-a;return this.positions.forEach((d,l)=>{d.clientRect&&n!==l&&n.contains(l)&&ys(d.clientRect,s,c)}),i.top=o,i.left=a,{top:s,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function y3(t,e){let n=t.rootNodes;if(n.length===1&&n[0].nodeType===e.ELEMENT_NODE)return n[0];let r=e.createElement("div");return n.forEach(i=>r.appendChild(i)),r}function hf(t,e,n){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?t.setProperty(r,i,n?.has(r)?"important":""):t.removeProperty(r)}return t}function Eo(t,e){let n=e?"":"none";hf(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function i3(t,e,n){hf(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},n)}function Mu(t,e){return e&&e!="none"?t+" "+e:t}function o3(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=gs(e.left,e.top)}function gs(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function a3(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function rT(t){let e=getComputedStyle(t),n=nf(e,"transition-property"),r=n.find(s=>s==="transform"||s==="all");if(!r)return 0;let i=n.indexOf(r),o=nf(e,"transition-duration"),a=nf(e,"transition-delay");return a3(o[i])+a3(a[i])}function nf(t,e){return t.getPropertyValue(e).split(",").map(r=>r.trim())}var iT=new Set(["position"]),sf=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,n,r,i,o,a,s,c,d,l){this._document=e,this._rootElement=n,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=c,this._zIndex=d,this._renderer=l}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),s3(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return rT(this._preview)}addEventListener(e,n){return this._renderer.listen(this._preview,e,n)}_createPreview(){let e=this._previewTemplate,n=this._previewClass,r=e?e.template:null,i;if(r&&e){let o=e.matchSize?this._initialDomRect:null,a=e.viewContainer.createEmbeddedView(r,e.context);a.detectChanges(),i=y3(a,this._document),this._previewEmbeddedView=a,e.matchSize?o3(i,o):i.style.transform=gs(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=of(this._rootElement),o3(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return hf(i.style,{"pointer-events":"none",margin:s3(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},iT),Eo(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(o=>i.classList.add(o)):i.classList.add(n)),i}};function s3(t){return"showPopover"in t}var oT={passive:!0},c3={passive:!1},aT={passive:!1,capture:!0},sT=800,d3="cdk-drag-placeholder",l3=new Set(["position"]),cf=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=g(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new A;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=ae.EMPTY;_pointerUpSubscription=ae.EMPTY;_scrollSubscription=ae.EMPTY;_resizeSubscription=ae.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Eo(n,e)))}_disabled=!1;beforeStarted=new A;started=new A;released=new A;ended=new A;entered=new A;exited=new A;dropped=new A;moved=this._moveEvents;data;constrainPosition;constructor(e,n,r,i,o,a,s){this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(e).withParent(n.parentDragRef||null),this._parentPositions=new vu(r),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Kt(r)),this._handles.forEach(r=>Eo(r,this.disabled)),this._toggleNativeDragInteractions();let n=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&n.add(r)}),this._disabledHandles=n,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let n=Kt(e);if(n!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(n,"mousedown",this._pointerDown,c3),r.listen(n,"touchstart",this._pointerDown,oT),r.listen(n,"dragstart",this._nativeDragStart,c3)]),this._initialTransform=void 0,this._rootElement=n}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Kt(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&nT(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect(),r=0,i=0;n.left<e.left?r=e.left-n.left:n.right>e.right&&(r=e.right-n.right),n.top<e.top?i=e.top-n.top:n.bottom>e.bottom&&(i=e.bottom-n.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+r,c=a+i;this._rootElement.style.transform=gs(s,c),this._activeTransform={x:s,y:c},this._passiveTransform={x:s,y:c}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Eo(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Eo(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&this._initializeDragSequence(n,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let n=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(n.x-this._pickupPositionOnPage.x),o=Math.abs(n.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),c=this._dropContainer;if(!s){this._endDragSequence(e);return}(!c||!c.isDragging()&&!c.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(n);if(this._hasMoved=!0,this._lastKnownPointerPosition=n,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,n);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){ps(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._getShadowRoot(),r=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(n,"selectstart",cT,aT)}),r){let i=this._rootElement,o=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=new sf(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,n)),i3(i,!1,l3),this._document.body.appendChild(o.replaceChild(a,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,n){this._parentDragRef&&n.stopPropagation();let r=this.isDragging(),i=ps(n),o=!i&&n.button!==0,a=this._rootElement,s=hs(n),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+sT>Date.now(),d=i?KM(n):ZM(n);if(s&&s.draggable&&n.type==="mousedown"&&n.preventDefault(),r||o||c||d)return;if(this._handles.length){let h=a.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=uf(this._boundaryElement));let l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,n);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(e){i3(this._rootElement,!0,l3),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,r=n.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),a=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:i,event:e}),n.drop(this,r,this._initialIndex,this._initialContainer,a,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:n},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,e,n,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,n):this._applyPreviewTransform(e-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let n=this._preview.getTransitionDuration();return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=s=>{(!s||this._preview&&hs(s)===this._preview.element&&s.propertyName==="transform")&&(a(),r(),clearTimeout(o))},o=setTimeout(i,n*1.5),a=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,n=e?e.template:null,r;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),r=y3(this._placeholderRef,this._document)):r=of(this._rootElement),r.style.pointerEvents="none",r.classList.add(d3),r}_getPointerPositionInElement(e,n,r){let i=n===this._rootElement?null:n,o=i?i.getBoundingClientRect():e,a=ps(r)?r.targetTouches[0]:r,s=this._getViewportScrollPosition(),c=a.pageX-o.left-s.left,d=a.pageY-o.top-s.top;return{x:o.left-e.left+c,y:o.top-e.top+d}}_getPointerPositionOnPage(e){let n=this._getViewportScrollPosition(),r=ps(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-n.left,o=r.pageY-n.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=i,s.y=o,s.matrixTransform(a.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||n==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),l=s.top+a,u=s.bottom-(d-a),h=s.left+o,f=s.right-(c-o);r=u3(r,h,f),i=u3(i,l,u)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:n,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(n-o.x),s=Math.abs(r-o.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=n>o.x?1:-1,o.x=n),s>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Eo(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,n){let r=1/this.scale,i=gs(e*r,n*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Mu(i,this._initialTransform)}_applyPreviewTransform(e,n){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=gs(e,n);this._preview.setTransform(Mu(i,r))}_getDragDistance(e){let n=this._pickupPositionOnPage;return n?{x:e.x-n.x,y:e.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:n}=this._passiveTransform;if(e===0&&n===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,a=r.right-i.right,s=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,i.height>r.height?(s>0&&(n+=s),c>0&&(n-=c)):n=0,(e!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:e})}_getDragStartDelay(e){let n=this.dragStartDelay;return typeof n=="number"?n:ps(e)?n.touch:n?n.mouse:0}_updateOnScroll(e){let n=this._parentPositions.handleScroll(e);if(n){let r=hs(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&ys(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=yu(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,n){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Kt(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(n=>e.target&&(e.target===n||n.contains(e.target)))}_conditionallyInsertAnchor(e,n,r){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(n===this._initialContainer&&n.hasAnchor){let i=this._anchor??=of(this._placeholder);i.classList.remove(d3),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):Kt(n.element).appendChild(i)}}};function u3(t,e,n){return Math.max(e,Math.min(n,t))}function ps(t){return t.type[0]==="t"}function cT(t){t.preventDefault()}function g3(t,e,n){let r=h3(e,t.length-1),i=h3(n,t.length-1);if(r===i)return;let o=t[r],a=i<r?-1:1;for(let s=r;s!==i;s+=a)t[s]=t[s+a];t[i]=o}function h3(t,e){return Math.max(0,Math.min(e,t))}var wu=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,n,r,i){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,n,r,i);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",c=o.findIndex(k=>k.drag===e),d=o[a],l=o[c].clientRect,u=d.clientRect,h=c>a?1:-1,f=this._getItemOffsetPx(l,u,h),y=this._getSiblingOffsetPx(c,o,h),I=o.slice();return g3(o,c,a),o.forEach((k,w)=>{if(I[w]===k)return;let ee=k.drag===e,ve=ee?f:y,ce=ee?e.getPlaceholderElement():k.drag.getRootElement();k.offset+=ve;let Yt=Math.round(k.offset*(1/k.drag.scale));s?(ce.style.transform=Mu(`translate3d(${Yt}px, 0, 0)`,k.initialTransform),ys(k.clientRect,0,ve)):(ce.style.transform=Mu(`translate3d(0, ${Yt}px, 0)`,k.initialTransform),ys(k.clientRect,ve,0))}),this._previousSwap.overlaps=af(u,n,r),this._previousSwap.drag=d.drag,this._previousSwap.delta=s?i.x:i.y,{previousIndex:c,currentIndex:a}}enter(e,n,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,n,r):i,a=this._activeDraggables,s=a.indexOf(e),c=e.getPlaceholderElement(),d=a[o];if(d===e&&(d=a[o+1]),!d&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(n,r)&&(d=a[0]),s>-1&&a.splice(s,1),d&&!this._dragDropRegistry.isDragging(d)){let l=d.getRootElement();l.parentElement.insertBefore(c,l),a.splice(o,0,e)}else this._element.appendChild(c),a.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let n=e.getRootElement();if(n){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;n.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(n=>n.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,n){this._itemPositions.forEach(({clientRect:r})=>{ys(r,e,n)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let r=n.getVisibleElement();return{drag:n,offset:0,initialTransform:r.style.transform||"",clientRect:uf(r)}}).sort((n,r)=>e?n.clientRect.left-r.clientRect.left:n.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,n,r){let i=this.orientation==="horizontal",o=i?n.left-e.left:n.top-e.top;return r===-1&&(o+=i?n.width-e.width:n.height-e.height),o}_getSiblingOffsetPx(e,n,r){let i=this.orientation==="horizontal",o=n[e].clientRect,a=n[e+r*-1],s=o[i?"width":"height"]*r;if(a){let c=i?"left":"top",d=i?"right":"bottom";r===-1?s-=a.clientRect[c]-o[d]:s+=o[c]-a.clientRect[d]}return s}_shouldEnterAsFirstChild(e,n){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let a=r[r.length-1].clientRect;return i?e>=a.right:n>=a.bottom}else{let a=r[0].clientRect;return i?e<=a.left:n<=a.top}}_getItemIndexFromPointerPosition(e,n,r,i){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:c})=>{if(s===e)return!1;if(i){let d=o?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return o?n>=Math.floor(c.left)&&n<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return a===-1||!this._sortPredicate(a,e)?-1:a}},df=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,n){this._document=e,this._dragDropRegistry=n}start(e){let n=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<n.length;r++){let i=n[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,n,r,i){let o=this._getItemIndexFromPointerPosition(e,n,r),a=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===i.x&&a.deltaY===i.y)return null;let c=this.getItemIndex(e),d=e.getPlaceholderElement(),l=s.getRootElement();o>c?l.after(d):l.before(d),g3(this._activeItems,c,o);let u=this._getRootNode().elementFromPoint(n,r);return a.deltaX=i.x,a.deltaY=i.y,a.drag=s,a.overlaps=l===u||l.contains(u),{previousIndex:c,currentIndex:o}}enter(e,n,r,i){let o=this._activeItems.indexOf(e);o>-1&&this._activeItems.splice(o,1);let a=i==null||i<0?this._getItemIndexFromPointerPosition(e,n,r):i;a===-1&&(a=this._getClosestItemIndexToPointer(e,n,r));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,n=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==o&&(o===null?e.appendChild(i):o.parentNode===e&&e.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],n.drag=null,n.deltaX=n.deltaY=0,n.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,n,r){let i=this._getRootNode().elementFromPoint(Math.floor(n),Math.floor(r)),o=i?this._activeItems.findIndex(a=>{let s=a.getRootElement();return i===s||s.contains(i)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=yu(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,n,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==e){let{x:c,y:d}=s.getRootElement().getBoundingClientRect(),l=Math.hypot(n-c,r-d);l<i&&(i=l,o=a)}}return o}},p3=.05,m3=.05,At=(function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t})(At||{}),Je=(function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t})(Je||{}),lf=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new A;entered=new A;exited=new A;dropped=new A;sorted=new A;receivingStarted=new A;receivingStopped=new A;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=ae.EMPTY;_verticalScrollDirection=At.NONE;_horizontalScrollDirection=Je.NONE;_scrollNode;_stopScrollTimers=new A;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,n,r,i,o){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o;let a=this.element=Kt(e);this._document=r,this.withOrientation("vertical").withElementContainer(a),n.registerDropContainer(this),this._parentPositions=new vu(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,n,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,n,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,n,r,i,o,a,s,c={}){this._reset(),this.dropped.next({item:e,currentIndex:n,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:a,dropPoint:s,event:c})}withItems(e){let n=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof wu&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new df(this._document,this._dragDropRegistry);else{let n=new wu(this._dragDropRegistry);n.direction=this._direction,n.orientation=e,this._sortStrategy=n}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((n,r)=>this.sortPredicate(n,r,this)),this}withScrollableParents(e){let n=this._container;return this._scrollableElements=e.indexOf(n)===-1?[n,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let n=Kt(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,n,r,i){if(this.sortingDisabled||!this._domRect||!r3(this._domRect,p3,n,r))return;let o=this._sortStrategy.sort(e,n,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,n){if(this.autoScrollDisabled)return;let r,i=At.NONE,o=Je.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||r||r3(a.clientRect,p3,e,n)&&([i,o]=dT(s,a.clientRect,this._direction,e,n),(i||o)&&(r=s))}),!i&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),c={width:a,height:s,top:0,right:a,bottom:s,left:0};i=k3(c,n),o=v3(c,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),r1(0,Ts).pipe(it(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,n=this.autoScrollStep;this._verticalScrollDirection===At.UP?e.scrollBy(0,-n):this._verticalScrollDirection===At.DOWN&&e.scrollBy(0,n),this._horizontalScrollDirection===Je.LEFT?e.scrollBy(-n,0):this._horizontalScrollDirection===Je.RIGHT&&e.scrollBy(n,0)})};_isOverContainer(e,n){return this._domRect!=null&&af(this._domRect,e,n)}_getSiblingContainerFromPosition(e,n,r){return this._siblings.find(i=>i._canReceive(e,n,r))}_canReceive(e,n,r){if(!this._domRect||!af(this._domRect,n,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(n,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,n){let r=this._activeSiblings;!r.has(e)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:n}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(e);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=yu(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,e))}};function k3(t,e){let{top:n,bottom:r,height:i}=t,o=i*m3;return e>=n-o&&e<=n+o?At.UP:e>=r-o&&e<=r+o?At.DOWN:At.NONE}function v3(t,e){let{left:n,right:r,width:i}=t,o=i*m3;return e>=n-o&&e<=n+o?Je.LEFT:e>=r-o&&e<=r+o?Je.RIGHT:Je.NONE}function dT(t,e,n,r,i){let o=k3(e,i),a=v3(e,r),s=At.NONE,c=Je.NONE;if(o){let d=t.scrollTop;o===At.UP?d>0&&(s=At.UP):t.scrollHeight-d>t.clientHeight&&(s=At.DOWN)}if(a){let d=t.scrollLeft;n==="rtl"?a===Je.RIGHT?d<0&&(c=Je.RIGHT):t.scrollWidth+d>t.clientWidth&&(c=Je.LEFT):a===Je.LEFT?d>0&&(c=Je.LEFT):t.scrollWidth-d>t.clientWidth&&(c=Je.RIGHT)}return[s,c]}var fs={capture:!0},rf={passive:!1,capture:!0},lT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=X({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return t})(),pf=(()=>{class t{_ngZone=p(fe);_document=p(oe);_styleLoader=p(YM);_renderer=p(pt).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new A;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=g([]);_globalListeners;_draggingPredicate=n=>n.isDragging();_domNodesToDirectives=null;pointerMove=new A;pointerUp=new A;constructor(){}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,rf)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(n,r){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._styleLoader.load(lT),this._activeDragInstances.update(i=>[...i,n]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),fs],["selectstart",this._preventDefaultWhileDragging,rf]];i?a.push(["touchend",o,fs],["touchcancel",o,fs]):a.push(["mouseup",o,fs]),i||a.push(["mousemove",s=>this.pointerMove.next(s),rf]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,c,d])=>this._renderer.listen(this._document,s,c,d))})}}stopDragging(n){this._activeDragInstances.update(r=>{let i=r.indexOf(n);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){let r=[this._scroll];return n&&n!==this._document&&r.push(new O(i=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(n,"scroll",a=>{this._activeDragInstances().length&&i.next(a)},fs);return()=>{o()}}))),Ho(...r)}registerDirectiveNode(n,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(n,r)}removeDirectiveNode(n){this._domNodesToDirectives?.delete(n)}getDragDirectiveForNode(n){return this._domNodesToDirectives?.get(n)||null}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=n=>{this._activeDragInstances().length>0&&n.preventDefault()};_persistentTouchmoveListener=n=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))};_clearGlobalListeners(){this._globalListeners?.forEach(n=>n()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uT={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ff=(()=>{class t{_document=p(oe);_ngZone=p(fe);_viewportRuler=p(QM);_dragDropRegistry=p(pf);_renderer=p(pt).createRenderer(null,null);constructor(){}createDrag(n,r=uT){return new cf(n,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(n){return new lf(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=v({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Iu=new M("CDK_DRAG_PARENT");var M3=new M("CdkDragHandle"),w3=(()=>{class t{element=p(Te);_parentDrag=p(Iu,{optional:!0,skipSelf:!0});_dragDropRegistry=p(pf);_stateChanges=new A;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let n=this.element.nativeElement.parentElement;for(;n;){let r=this._dragDropRegistry.getDragDirectiveForNode(n);if(r){this._parentDrag=r,r._addHandle(this);break}n=n.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=zt({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Rn]},features:[Qr([{provide:M3,useExisting:t}])]})}return t})(),I3=new M("CDK_DRAG_CONFIG"),C3=new M("CdkDropList"),Cu=(()=>{class t{element=p(Te);dropContainer=p(C3,{optional:!0,skipSelf:!0});_ngZone=p(fe);_viewContainerRef=p(Vt);_dir=p(ef,{optional:!0});_changeDetectorRef=p(qt);_selfHandle=p(M3,{optional:!0,self:!0});_parentDrag=p(Iu,{optional:!0,skipSelf:!0});_dragDropRegistry=p(pf);_destroyed=new A;_handles=new xe([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new se;released=new se;ended=new se;entered=new se;exited=new se;dropped=new se;moved=new O(n=>{let r=this._dragRef.moved.pipe(j(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(n);return()=>{r.unsubscribe()}});_injector=p(Ie);constructor(){let n=this.dropContainer,r=p(I3,{optional:!0}),i=p(ff);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),n&&(n.addItem(this),n._dropListRef.beforeStarted.pipe(it(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){Zi(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){let r=n.rootElementSelector,i=n.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let r=this._handles.getValue();r.push(n),this._handles.next(r)}_removeHandle(n){let r=this._handles.getValue(),i=r.indexOf(n);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,r=n;this.rootElementSelector&&(r=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):Kt(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay=typeof i=="object"&&i?i:gu(i),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),r&&n.withDirection(r.value)}}),n.beforeStarted.pipe(ze(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){n.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(n){n.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),n.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(n){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:c,rootElementSelector:d,previewContainer:l}=n;this.disabled=c??!1,this.dragStartDelay=i||0,this.lockAxis=r||null,o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),d&&(this.rootElementSelector=d),l&&(this.previewContainer=l)}_setupHandlesListener(){this._handles.pipe(Me(n=>{let r=n.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Ee(n=>Ho(...n.map(r=>r._stateChanges.pipe(In(r))))),it(this._destroyed)).subscribe(n=>{let r=this._dragRef,i=n.element.nativeElement;n.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=zt({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&De("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Rn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Fv]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Qr([{provide:Iu,useExisting:t}]),Tn]})}return t})(),f3=new M("CdkDropListGroup");var b3=(()=>{class t{element=p(Te);_changeDetectorRef=p(qt);_scrollDispatcher=p(XM);_dir=p(ef,{optional:!0});_group=p(f3,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new A;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=p(ku).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new se;entered=new se;exited=new se;sorted=new se;_unsortedItems=new Set;constructor(){let n=p(ff),r=p(I3,{optional:!0});this._dropListRef=n.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,a)=>this.sortPredicate(i,o.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(n){this._unsortedItems.add(n),n._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef))}removeItem(n){if(this._unsortedItems.delete(n),this._latestSortedRefs){let r=this._latestSortedRefs.indexOf(n._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((n,r)=>n._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let n=t._dropLists.indexOf(this);n>-1&&t._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(In(this._dir.value),it(this._destroyed)).subscribe(r=>n.withDirection(r)),n.beforeStarted.subscribe(()=>{let r=cs(this.connectedTo).map(i=>{if(typeof i=="string"){let o=t._dropLists.find(a=>a.id===i);return o}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(i)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=gu(this.autoScrollStep,2),n.hasAnchor=this.hasAnchor,n.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef)),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),Ho(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){let{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:s}=n;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=s||"vertical",this.lockAxis=r||null}_syncItemsWithRef(n){this._latestSortedRefs=n,this._dropListRef.withItems(n)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=zt({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(to("id",i.id),De("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Rn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Rn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Rn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",Rn]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Qr([{provide:f3,useValue:void 0},{provide:C3,useExisting:t}])]})}return t})();var hT=new M("CdkDragPlaceholder"),_3=(()=>{class t{templateRef=p(cn);_drag=p(Iu,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=zt({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[Qr([{provide:hT,useExisting:t}])]})}return t})();var bu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=xt({type:t});static \u0275inj=at({providers:[ff],imports:[JM]})}return t})();var pT=()=>[],D3=(t,e)=>e.id;function fT(t,e){if(t&1){let n=ke();K(0,"div",8),_(1,"div",5),Q("click",function(i){B(n);let o=V(2);return q(o.togglePlanMenu(i))}),_(2,"span",6),G(3),L()()}if(t&2){let n,r=V(2);D(),De("active",r.showPlanMenu),D(2),nt(((n=r.tripService.plan())==null?null:n.name())||"Select Plan")}}function yT(t,e){t&1&&K(0,"div",19)}function gT(t,e){if(t&1){let n=ke();_(0,"div",14),rr(1,yT,1,0,"div",15),_(2,"div",16),G(3,"\u22EE\u22EE"),L(),_(4,"input",17,1),Q("change",function(i){let o=B(n).$implicit,a=V(3);return q(a.renameTrip(o,i.target.value))})("keydown.enter",function(){B(n);let i=Bt(5);return q(i.blur())})("keydown.escape",function(){let i=B(n).$implicit,o=Bt(5);return o.value=i.name,q(o.blur())})("focus",function(i){return B(n),q(i.target.select())}),L(),_(6,"button",18),Q("click",function(){let i=B(n).$implicit,o=V(3);return q(o.selectTrip(i))}),G(7,"\u2794"),L()()}if(t&2){let n,r=e.$implicit;V();let i=Bt(4),o=V(2);De("selected",r.id===((n=o.tripService.trip())==null?null:n.id)),me("cdkDragBoundary",i),D(4),me("value",r.name)}}function mT(t,e){if(t&1){let n=ke();_(0,"div",7)(1,"div",9),G(2,"My Trips"),L(),_(3,"div",10,0),Q("cdkDropListDropped",function(i){B(n);let o=V(2);return q(o.dropTrip(i))}),or(5,gT,8,4,"div",11,D3),L(),_(7,"button",12),Q("click",function(){B(n);let i=V(2);return q(i.addTrip())}),_(8,"span",13),G(9,"+"),L(),G(10," Add New Trip "),L()()}if(t&2){let n=V(2);D(3),me("cdkDropListConnectedTo",$p(1,pT)),D(2),ar(n.tripService.trips())}}function kT(t,e){t&1&&K(0,"div",19)}function vT(t,e){if(t&1){let n=ke();_(0,"div",21),Q("click",function(){let i=B(n).$implicit,o=V(3);return q(o.selectPlan(i))}),rr(1,kT,1,0,"div",15),_(2,"div",22),G(3,"\u22EE\u22EE"),L(),_(4,"input",23,2),Q("click",function(i){return B(n),q(i.stopPropagation())})("change",function(){let i=B(n).$implicit,o=Bt(5),a=V(3);return q(a.renamePlan(i,o.value))})("keydown.enter",function(){B(n);let i=Bt(5);return q(i.blur())}),L(),_(6,"div",24),Q("click",function(i){return B(n),q(i.stopPropagation())}),_(7,"button",25),Q("click",function(i){let o=B(n).$implicit,a=V(3);return q(a.toggleItemMenu(o,i))}),G(8,"\u22EF"),L()()()}if(t&2){let n,r=e.$implicit;V();let i=Bt(4),o=V(2);De("selected",r.id===((n=o.tripService.plan())==null?null:n.id)),me("cdkDragBoundary",i),D(4),me("value",r.name)}}function MT(t,e){if(t&1){let n=ke();_(0,"div",7)(1,"div",9),G(2),L(),_(3,"div",20,0),Q("cdkDropListDropped",function(i){B(n);let o=V(2);return q(o.dropPlan(i))}),or(5,vT,9,4,"div",11,D3),L(),_(7,"button",12),Q("click",function(){B(n);let i=V(2);return q(i.addPlan())}),_(8,"span",13),G(9,"+"),L(),G(10," Add New Plan "),L()()}if(t&2){let n,r=V(2);D(2),Ca("Plans for ",(n=r.tripService.trip())==null?null:n.name()),D(3),ar(r.tripService.plans())}}function wT(t,e){if(t&1){let n=ke();_(0,"div",3)(1,"div",4)(2,"div",5),Q("click",function(i){B(n);let o=V();return q(o.toggleTripMenu(i))}),_(3,"span",6),G(4),L()(),ue(5,fT,4,3),L(),ue(6,mT,11,2,"div",7),ue(7,MT,11,1,"div",7),L()}if(t&2){let n,r=V();D(2),De("active",r.showTripMenu),D(2),nt(((n=r.tripService.trip())==null?null:n.name())||"Select Trip"),D(),he(r.tripService.trip()?5:-1),D(),he(r.showTripMenu?6:-1),D(),he(r.showPlanMenu&&r.tripService.trip()?7:-1)}}var _u=class t{eRef=p(Te);tripService=p(Lt);router=p(pn);showPlanMenu=!1;showTripMenu=!1;activeMenuId=g(null);constructor(){}onDocumentClick(e){this.eRef.nativeElement.contains(e.target)||(this.showPlanMenu=!1,this.showTripMenu=!1,this.activeMenuId.set(null))}onEscape(){this.showPlanMenu=!1,this.showTripMenu=!1}toggleTripMenu(e){e.stopPropagation(),this.showPlanMenu=!1,this.showTripMenu=!this.showTripMenu}togglePlanMenu(e){e.stopPropagation(),this.showTripMenu=!1,this.showPlanMenu=!this.showPlanMenu}toggleItemMenu(e,n){n.stopPropagation(),this.activeMenuId()===e.id?this.activeMenuId.set(null):this.activeMenuId.set(e.id)}selectTrip(e){console.log("select trip."),this.router.navigate(["trip",e.id]),this.showTripMenu=!1}selectPlan(e){console.log("select plan.");let n=this.tripService.trip();n&&this.router.navigate(["trip",n.id,e.id]),this.showPlanMenu=!1}renameTrip(e,n){console.log("rename trip."),e.name=n}renamePlan(e,n){console.log("rename plan."),e.name=n}dropPlan(e){console.log("dropped plan.")}dropTrip(e){console.log("dropped trip.")}addTrip(){console.log("add trip")}addPlan(){console.log("add plan");let e=this.tripService.trip()}copyPlan(e,n){console.log("copy plan",e.id),n.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-trip-bubble"]],hostBindings:function(n,r){n&1&&Q("click",function(o){return r.onDocumentClick(o)},Gi)("keydown.escape",function(){return r.onEscape()},Gi)},decls:1,vars:1,consts:[["listBoundary",""],["tripInput",""],["planInput",""],[1,"bubble-pill-container"],[1,"bubble-pill"],[1,"pill-segment",3,"click"],[1,"value"],[1,"bubble-dropdown","shadow-lg"],[1,"pill-divider"],[1,"dropdown-header"],["cdkDropList","",1,"drag-list",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"cdkDragBoundary","selected"],[1,"add-btn",3,"click"],[1,"plus"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"cdkDragBoundary"],["class","drag-placeholder",4,"cdkDragPlaceholder"],["cdkDragHandle","",1,"drag-handle"],["type","text",1,"edit-input",3,"change","keydown.enter","keydown.escape","focus","value"],[1,"select-btn",3,"click"],[1,"drag-placeholder"],["cdkDropList","",1,"drag-list",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"click","cdkDragBoundary"],[1,"drag-indicator"],["type","text",1,"edit-input",3,"click","change","keydown.enter","value"],[1,"item-actions",3,"click"],[1,"action-trigger",3,"click"]],template:function(n,r){n&1&&ue(0,wT,8,6,"div",3),n&2&&he(r.tripService.trips()?0:-1)},dependencies:[Tt,bu,b3,Cu,w3,_3],styles:["[_nghost-%COMP%]{display:block;margin-top:12px;display:flex;justify-content:center}.bubble-pill[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:50px;padding:6px 0;cursor:default;position:relative;max-width:calc(100vw - 120px);z-index:1001;background:#1e1e23b3;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border:.5px solid rgba(255,255,255,.15);box-shadow:0 8px 32px #0000004d;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.pill-segment[_ngcontent-%COMP%]:hover{background:#ffffff1a}.pill-segment[_ngcontent-%COMP%]:active{background:#ffffff26;transform:scale(.98)}.pill-segment[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 8px;margin:0 7px;cursor:pointer;border-radius:40px;transition:background .2s cubic-bezier(.25,1,.5,1)}.pill-segment[_ngcontent-%COMP%]:hover, .pill-segment[_ngcontent-%COMP%]:active{background:#ffffff1a}.label[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;color:#ffffff80;letter-spacing:1px}.value[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.pill-divider[_ngcontent-%COMP%]{width:1px;height:24px;background:#ffffff1a}.bubble-dropdown[_ngcontent-%COMP%]{position:absolute;top:60px;left:50%;z-index:1002;transform:translate(-50%);background:#2d2d32d9;backdrop-filter:blur(40px) saturate(180%);-webkit-backdrop-filter:blur(40px) saturate(180%);border-radius:20px;width:300px;padding:12px;border:.5px solid rgba(255,255,255,.15);box-shadow:0 15px 45px #0006;color:#fff}.dropdown-header[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;color:#fff6;padding:4px 12px 12px;letter-spacing:.8px;font-weight:600}.drag-list[_ngcontent-%COMP%]{display:block;min-height:50px}.drag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;border-radius:12px;background:transparent;margin-bottom:4px;transition:background .2s cubic-bezier(.25,1,.5,1)}.drag-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.drag-item.selected[_ngcontent-%COMP%]{background:#ffffff26;box-shadow:0 0 0 .5px #ffffff1a}.drag-handle[_ngcontent-%COMP%]{cursor:grab;margin-right:12px;color:#ffffff4d;font-size:18px;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.edit-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:1px solid transparent;color:#fff;font-size:14px;padding:6px 8px;border-radius:8px;outline:none;font-family:inherit;transition:background .2s}.edit-input[_ngcontent-%COMP%]:focus{background:#0003;border:.5px solid rgba(255,255,255,.2)}.select-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;width:32px;height:32px;border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-left:8px;transition:background .2s,transform .1s}.select-btn[_ngcontent-%COMP%]:hover{background:#fff3}.select-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.1;background:#ffffff0d;border:1px dashed rgba(255,255,255,.2);border-radius:12px;min-height:51px;margin-bottom:4px}.cdk-drag-preview[_ngcontent-%COMP%]{background:#2d2d32f2!important;-webkit-backdrop-filter:blur(30px) saturate(180%);backdrop-filter:blur(30px) saturate(180%);box-shadow:0 10px 40px #0009;border-radius:12px;color:#fff;padding:8px 12px;border:.5px solid rgba(255,255,255,.2);display:flex;align-items:center;font-family:-apple-system,sans-serif;width:280px;box-sizing:border-box}.item-actions[_ngcontent-%COMP%]{display:flex;gap:4px;margin-left:8px}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff6;font-size:14px;cursor:pointer;padding:4px;border-radius:6px;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}.add-btn[_ngcontent-%COMP%]{width:100%;margin-top:8px;padding:10px;background:#ffffff0d;border:1px dashed rgba(255,255,255,.2);border-radius:12px;color:#fff9;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s}.add-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff;border-color:#fff6}.add-btn[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-right:6px;font-size:16px}.drag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;border-radius:12px;gap:10px;cursor:grab;-webkit-user-select:none;user-select:none;transition:background .2s,transform .2s}.drag-item[_ngcontent-%COMP%]:active{cursor:grabbing}.drag-indicator[_ngcontent-%COMP%]{color:#fff3;font-size:16px;flex-shrink:0}.edit-input[_ngcontent-%COMP%]{cursor:text;flex:1;background:transparent;border:none;color:#fff;outline:none}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;opacity:.9;transform:scale(1.02)}.edit-input[_ngcontent-%COMP%], .item-actions[_ngcontent-%COMP%]{pointer-events:auto}"]})};function IT(t,e){if(t&1){let n=ke();_(0,"div",5)(1,"div",6),K(2,"img",7),_(3,"div",8)(4,"span",9),G(5),L(),_(6,"span",10),G(7),L()()(),K(8,"div",11),_(9,"button",12),Q("click",function(){B(n);let i=V(2);return q(i.authService.logout())}),K(10,"lucide-icon",13),G(11," Sign out "),L()()}if(t&2){let n,r,i,o=V(2);D(2),me("src",(n=o.authService.user())==null?null:n.photoURL,dd),D(3),nt((r=o.authService.user())==null?null:r.displayName),D(2),nt((i=o.authService.user())==null?null:i.email),D(3),me("img",o.LogOut)}}function CT(t,e){if(t&1){let n=ke();bd(0),_(1,"div",2),Q("click",function(i){B(n);let o=V();return q(o.toggleMenu(i))}),_(2,"img",3),Q("error",function(i){B(n);let o=V();return q(o.handleImageError(i,o.authService.user()))}),L()(),rr(3,IT,12,4,"div",4),_d()}if(t&2){let n,r=V();D(),De("active",r.showMenu),D(),me("src",(n=r.authService.user())==null?null:n.photoURL,dd),D(),me("ngIf",r.showMenu)}}function bT(t,e){if(t&1){let n=ke();_(0,"button",14),Q("click",function(){B(n);let i=V();return q(i.handleLogin())}),K(1,"img",15),_(2,"span"),G(3,"Sign in"),L()()}}var Su=class t{constructor(e,n){this.authService=e;this.eRef=n}showMenu=!1;LogOut=qM;async handleLogin(){this.showMenu=!1;try{await this.authService.login()}catch(e){console.error("Login failed",e)}}toggleMenu(e){e.stopPropagation(),this.showMenu=!this.showMenu}clickout(e){this.showMenu&&!this.eRef.nativeElement.contains(e.target)&&(this.showMenu=!1)}handleImageError(e,n){let r=n.displayName||"User";e.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r)}&background=555&color=fff`}static \u0275fac=function(n){return new(n||t)(Ue(kn),Ue(Te))};static \u0275cmp=X({type:t,selectors:[["app-auth-widget"]],hostBindings:function(n,r){n&1&&Q("click",function(o){return r.clickout(o)},Gi)},decls:4,vars:1,consts:[["loggedOut",""],[1,"auth-wrapper"],[1,"profile-trigger",3,"click"],[1,"avatar",3,"error","src"],["class","menu-card",4,"ngIf"],[1,"menu-card"],[1,"menu-header"],["alt","Profile",1,"avatar-large",3,"src"],[1,"user-details"],[1,"name"],[1,"email"],[1,"menu-divider"],[1,"menu-item",3,"click"],[1,"icon-left",3,"img"],[1,"google-signin-btn",3,"click"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","G",1,"google-icon"]],template:function(n,r){n&1&&(_(0,"div",1),ue(1,CT,4,4,"ng-container"),rr(2,bT,4,0,"ng-template",null,0,Wp),L()),n&2&&(D(),he(r.authService.user()?1:-1))},dependencies:[Tt,a0,xo,ou],styles:[".auth-wrapper[_ngcontent-%COMP%]{font-family:Inter,sans-serif;position:absolute;right:0;z-index:2000}.profile-trigger[_ngcontent-%COMP%]{width:40px;height:40px;cursor:pointer;border-radius:50%;display:flex;align-items:center;justify-content:center;border:3px solid transparent;background:linear-gradient(#fff,#fff) padding-box,conic-gradient(#ea4335 0deg 45deg,#4285f4 45deg 135deg,#34a853 135deg 235deg,#fbbc05 235deg 305deg,#ea4335 305deg 360deg) border-box;box-shadow:0 4px 10px #0003}.profile-trigger[_ngcontent-%COMP%]:hover, .google-signin-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.menu-card[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;width:260px;background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;padding:16px;overflow:hidden}.menu-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.avatar-large[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%}.name[_ngcontent-%COMP%]{font-weight:700;display:block;font-size:14px}.email[_ngcontent-%COMP%]{font-size:12px;color:#666}.menu-divider[_ngcontent-%COMP%]{height:1px;background:#eee;margin:12px 0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;padding:8px 16px;width:100%;border:none;background:#f1f3f4;border-radius:8px;cursor:pointer;font-weight:500;color:#3c4043;transition:all .2s;margin-top:8px}.menu-item[_ngcontent-%COMP%]:hover{background:#e8f0fe;color:#1967d2}.icon-left[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0}.google-icon[_ngcontent-%COMP%]{width:25px;height:25px;flex-shrink:0;display:block}.google-signin-btn[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;gap:12px;white-space:nowrap;width:max-content;padding:8px 8px 8px 5px;cursor:pointer;font-weight:500;border:3px solid transparent;background:linear-gradient(#fff,#fff) padding-box,conic-gradient(#ea4335 0deg 45deg,#4285f4 45deg 135deg,#34a853 135deg 235deg,#fbbc05 235deg 305deg,#ea4335 305deg 360deg) border-box;border-radius:24px;box-shadow:0 2px 4px #0000001a;transition:transform .2s}"]})};function _T(t,e){if(t&1){let n=ke();_(0,"button",5),Q("click",function(){B(n);let i=V();return q(i.uiService.toggleSidebar())}),_(1,"div",6),K(2,"div",7),L()()}}function ST(t,e){if(t&1){let n=ke();_(0,"div",8),Q("click",function(){B(n);let i=V();return q(i.toggleMobileSheet())}),L()}}function DT(t,e){if(t&1){let n=ke();_(0,"div",3)(1,"button",9),Q("click",function(){B(n);let i=V();return q(i.uiService.toggleSidebar())}),_(2,"div",6),K(3,"div",7),L()()()}}function xT(t,e){t&1&&(_(0,"div",4)(1,"h2"),G(2),L(),_(3,"p"),G(4,"This is where your place info will live."),L()()),t&2&&(D(2),nt(e.name()))}function ET(t,e){t&1&&(_(0,"div",4)(1,"h2"),G(2,"Trip Details"),L(),_(3,"p"),G(4,"This is where your itinerary, notes, and local info will live."),L()())}var Du=class t{tripService=p(Lt);uiService=p(vn);destroy$=new A;sheetState="peek";constructor(){}onDragEnd(e){let n=e.distance.y;n<-100?this.sheetState="open":n>100&&(this.sheetState="peek"),e.source._dragRef.reset()}toggleMobileSheet(){this.sheetState=this.sheetState==="peek"?"open":"peek"}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-side-panel"]],decls:6,vars:14,consts:[[1,"floating-open-btn"],["cdkDrag","","cdkDragLockAxis","y",1,"panel-container",3,"cdkDragEnded","cdkDragDisabled"],[1,"drag-handle"],[1,"header-actions"],[1,"content"],[1,"floating-open-btn",3,"click"],[1,"icon-box"],[1,"sidebar-icon-bar"],[1,"drag-handle",3,"click"],["title","Toggle Sidebar",1,"toggle-btn",3,"click"]],template:function(n,r){if(n&1&&(ue(0,_T,3,0,"button",0),_(1,"div",1),Q("cdkDragEnded",function(o){return r.onDragEnd(o)}),ue(2,ST,1,0,"div",2)(3,DT,4,0,"div",3),ue(4,xT,5,1,"div",4)(5,ET,5,0,"div",4),L()),n&2){let i;he(!r.uiService.isSidebarOpen()&&!r.uiService.isMobile()?0:-1),D(),De("desktop-sidebar",!r.uiService.isMobile())("mobile-sheet",r.uiService.isMobile())("closed",!r.uiService.isSidebarOpen()&&!r.uiService.isMobile())("sheet-open",r.sheetState==="open"&&r.uiService.isMobile())("sheet-peek",r.sheetState==="peek"&&r.uiService.isMobile()),me("cdkDragDisabled",!r.uiService.isMobile()),D(),he(r.uiService.isMobile()?2:3),D(2),he((i=r.tripService.selectedPlace())?4:5,i)}},dependencies:[Tt,bu,Cu],styles:[".panel-container[_ngcontent-%COMP%]{position:fixed;padding:12px;z-index:1000;display:flex;flex-direction:column;background:#1e1e23b3;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border-right:.5px solid rgba(255,255,255,.1);box-shadow:10px 0 30px #0000004d;transition:transform .4s cubic-bezier(.25,1,.5,1);color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.desktop-sidebar[_ngcontent-%COMP%]{top:15px;left:15px;width:430px;height:calc(100vh - 30px);border-radius:20px;border:.5px solid rgba(255,255,255,.15)}.mobile-sheet[_ngcontent-%COMP%]{bottom:0;left:0;width:100%;height:85vh;border-radius:25px 25px 0 0;transform:translateY(calc(85vh - 80px))}.desktop-sidebar.closed[_ngcontent-%COMP%]{transform:translate(-445px)}.toggle-btn[_ngcontent-%COMP%], .floating-open-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:8px;border-radius:6px;transition:background .2s}.toggle-btn[_ngcontent-%COMP%]:hover, .floating-open-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.drag-handle[_ngcontent-%COMP%]{width:36px;height:5px;background:#fff3;border-radius:10px;margin:10px auto 0;flex-shrink:0}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.icon-box[_ngcontent-%COMP%]{width:20px;height:15px;border:1.2px solid rgba(255,255,255,.9);border-radius:3px;display:flex}.sidebar-icon-bar[_ngcontent-%COMP%]{width:7px;height:100%;border-right:1.2px solid rgba(255,255,255,.9)}.toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:5px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s}.toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.floating-open-btn[_ngcontent-%COMP%]{position:fixed;top:15px;left:15px;z-index:1001;background:#1e1e23b3;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:.5px solid rgba(255,255,255,.1);box-shadow:0 4px 12px #0003}.mobile-sheet[_ngcontent-%COMP%]{bottom:0;left:0;width:100%;height:93vh;position:fixed;transition:transform .4s cubic-bezier(.25,1,.5,1);max-height:93vh}.mobile-sheet.sheet-peek[_ngcontent-%COMP%]{transform:translateY(calc(93vh - 50px))}.mobile-sheet.sheet-open[_ngcontent-%COMP%]{transform:translateY(0)}.panel-container[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none}.cdk-drag-dragging[_ngcontent-%COMP%]{transition:none!important}.content[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.sheet-open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .desktop-sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{opacity:1}"]})};var xu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-loading-spinner"]],decls:4,vars:0,consts:[[1,"spinner-overlay"],[1,"loader"],[1,"loading-text"]],template:function(n,r){n&1&&(Le(0,"div",0),Yr(1,"div",1),Le(2,"p",2),G(3,"Loading..."),Ae()())},styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#fff9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loader[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #4285F4;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-text[_ngcontent-%COMP%]{margin-top:15px;font-family:Inter,sans-serif;font-weight:500;color:#5f6368;letter-spacing:.5px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function TT(t,e){t&1&&K(0,"app-loading-spinner")}function LT(t,e){t&1&&K(0,"app-side-panel")}function AT(t,e){t&1&&K(0,"app-trip-bubble")}var To=class t{tripService=p(Lt);uiService=p(vn);router=p(pn);tripId=ei();planId=ei();constructor(){Ye(()=>this.syncTripWithUrl()),Ye(()=>this.syncPlanWithUrl())}syncTripWithUrl(){let e=this.tripId();if(!e){this.tripService.clearTrip();return}let n=this.tripService.trip();(!n||n.id!==e)&&this.tripService.loadTrip(e).subscribe()}syncPlanWithUrl(){let e=this.tripId(),n=this.planId(),r=this.tripService.trip(),i=this.tripService.trips();if(!(!e||!r||r.id!==e)){if(!n&&i){let o=i.find(a=>a.id===e)?.plans[0]?.id;o&&this.router.navigate(["trip",e,o],{replaceUrl:!0});return}n&&this.tripService.plan()?.id!==n&&(console.log("Trip ready, loading plan:",n),this.tripService.loadPlan(n))}}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-trip-view"]],inputs:{tripId:[1,"tripId"],planId:[1,"planId"]},decls:7,vars:3,consts:[[1,"viewport-container"],[1,"ui-overlay"]],template:function(n,r){n&1&&(_(0,"div",0),ue(1,TT,1,0,"app-loading-spinner"),ue(2,LT,1,0,"app-side-panel"),K(3,"app-map"),_(4,"div",1),ue(5,AT,1,0,"app-trip-bubble"),K(6,"app-auth-widget"),L()()),n&2&&(D(),he(r.uiService.isLoading()?1:-1),D(),he(r.tripService.trip()&&r.tripService.plan()?2:-1),D(3),he(r.tripService.trips()?5:-1))},dependencies:[Tt,fu,_u,Su,Du,xu],styles:[".viewport-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;overflow:hidden}app-map[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.ui-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10;display:flex;flex-direction:column;align-items:center}app-trip-bubble[_ngcontent-%COMP%], app-auth-widget[_ngcontent-%COMP%]{pointer-events:auto}app-auth-widget[_ngcontent-%COMP%]{position:absolute;top:12px;right:16px}.selection-card[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;background:#ffffffe6;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.4);border-radius:24px;padding:40px;box-shadow:0 20px 50px #00000026;text-align:center;pointer-events:auto}h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:24px;color:#202124}p[_ngcontent-%COMP%]{color:#5f6368;margin-bottom:30px}.trip-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:30px;max-height:300px;overflow-y:auto}.trip-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;background:#fff;border:1px solid #e0e0e0;border-radius:16px;cursor:pointer;transition:all .2s ease}.trip-item[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8faff;transform:translateY(-2px);box-shadow:0 4px 12px #4285f41a}.trip-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:15px}.trip-details[_ngcontent-%COMP%]{flex-grow:1;text-align:left;display:flex;flex-direction:column}.trip-name[_ngcontent-%COMP%]{font-weight:600;color:#3c4043}.trip-meta[_ngcontent-%COMP%]{font-size:12px;color:#70757a}.btn-create[_ngcontent-%COMP%]{width:100%;padding:14px;border-radius:12px;border:none;background:#4285f4;color:#fff;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px}"]})};var x3=[{path:"",component:To},{path:"trip/:tripId",component:To},{path:"trip/:tripId/:planId",component:To}];var E3={providers:[uh(),W0(x3,Z0(),G0({paramsInheritanceStrategy:"always"})),f4(p4()),w0()]};var Eu=class t{title=g("tripl");router=p(pn);constructor(){this.router.events.subscribe(e=>{e instanceof Fn&&console.log("\u{1F680} Navigation Start:",e.url),e instanceof si&&console.log("\u2705 Route Recognized:",e.state.url)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=X({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&K(0,"router-outlet")},dependencies:[Ua],encapsulation:2})};y0(Eu,E3).catch(t=>console.error(t));
