import{a as g,b as V,c as di}from"./chunk-C6Q5SG76.js";var Ne=null,ds=!1,wu=1,f3=null,Qe=Symbol("SIGNAL");function _(t){let e=Ne;return Ne=t,e}function us(){return Ne}var li={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _o(t){if(ds)throw new Error("");if(Ne===null)return;Ne.consumerOnSignalRead(t);let e=Ne.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ne.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ne.producers,n!==void 0&&n.producer===t)){Ne.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Ne&&(!r||g3(i,Ne)))return;let o=hi(Ne),a={producer:t,consumer:Ne,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Ne.producersTail=a,e!==void 0?e.nextProducer=a:Ne.producers=a,o&&of(t,a)}function tf(){wu++}function Iu(t){if(!(hi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===wu)){if(!t.producerMustRecompute(t)&&!Do(t)){Mu(t);return}t.producerRecomputeValue(t),Mu(t)}}function Cu(t){if(t.consumers===void 0)return;let e=ds;ds=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||y3(r)}}finally{ds=e}}function bu(){return Ne?.consumerAllowSignalWrites!==!1}function y3(t){t.dirty=!0,Cu(t),t.consumerMarkedDirty?.(t)}function Mu(t){t.dirty=!1,t.lastCleanEpoch=wu}function ui(t){return t&&nf(t),_(t)}function nf(t){t.producersTail=void 0,t.recomputing=!0}function So(t,e){_(e),t&&rf(t)}function rf(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(hi(t))do n=_u(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Do(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Iu(n),r!==n.version))return!0}return!1}function yr(t){if(hi(t)){let e=t.producers;for(;e!==void 0;)e=_u(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function of(t,e){let n=t.consumersTail,r=hi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)of(i.producer,i)}function _u(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!hi(e)){let o=e.producers;for(;o!==void 0;)o=_u(o)}return n}function hi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Su(t){f3?.(t)}function g3(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Du(t,e){return Object.is(t,e)}function hs(t,e){let n=Object.create(m3);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Iu(n),_o(n),n.value===ls)throw n.error;return n.value};return r[Qe]=n,Su(n),r}var ku=Symbol("UNSET"),vu=Symbol("COMPUTING"),ls=Symbol("ERRORED"),m3=V(g({},li),{value:ku,dirty:!0,error:null,equal:Du,kind:"computed",producerMustRecompute(t){return t.value===ku||t.value===vu},producerRecomputeValue(t){if(t.value===vu)throw new Error("");let e=t.value;t.value=vu;let n=ui(t),r,i=!1;try{r=t.computation(),_(null),i=e!==ku&&e!==ls&&r!==ls&&t.equal(e,r)}catch(o){r=ls,t.error=o}finally{So(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function k3(){throw new Error}var af=k3;function sf(t){af(t)}function xu(t){af=t}var v3=null;function Eu(t,e){let n=Object.create(ps);n.value=t,e!==void 0&&(n.equal=e);let r=()=>cf(n);return r[Qe]=n,Su(n),[r,a=>xo(n,a),a=>df(n,a)]}function cf(t){return _o(t),t.value}function xo(t,e){bu()||sf(t),t.equal(t.value,e)||(t.value=e,M3(t))}function df(t,e){bu()||sf(t),xo(t,e(t.value))}var ps=V(g({},li),{equal:Du,value:void 0,kind:"signal"});function M3(t){t.version++,tf(),Cu(t),v3?.(t)}function Tu(t){let e=_(null);try{return t()}finally{_(e)}}var Lu=V(g({},li),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Au(t){if(t.dirty=!1,t.version>0&&!Do(t))return;t.version++;let e=ui(t);try{t.cleanup(),t.fn()}finally{So(t,e)}}function N(t){return typeof t=="function"}function pi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var fs=pi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function gr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(o){e=o instanceof fs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{lf(o)}catch(a){e=e??[],a instanceof fs?e=[...e,...a.errors]:e.push(a)}}if(e)throw new fs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)lf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&gr(n,e)}remove(e){let{_finalizers:n}=this;n&&gr(n,e),e instanceof t&&e._removeParent(this)}};oe.EMPTY=(()=>{let t=new oe;return t.closed=!0,t})();var Ru=oe.EMPTY;function ys(t){return t instanceof oe||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function lf(t){N(t)?t():t.unsubscribe()}var Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fi={setTimeout(t,e,...n){let{delegate:r}=fi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function gs(t){fi.setTimeout(()=>{let{onUnhandledError:e}=Dt;if(e)e(t);else throw t})}function mr(){}var uf=Pu("C",void 0,void 0);function hf(t){return Pu("E",void 0,t)}function pf(t){return Pu("N",t,void 0)}function Pu(t,e,n){return{kind:t,value:e,error:n}}var kr=null;function yi(t){if(Dt.useDeprecatedSynchronousErrorHandling){let e=!kr;if(e&&(kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=kr;if(kr=null,n)throw r}}else t()}function ff(t){Dt.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=t)}var vr=class extends oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ys(e)&&e.add(this)):this.destination=C3}static create(e,n,r){return new gi(e,n,r)}next(e){this.isStopped?Nu(pf(e),this):this._next(e)}error(e){this.isStopped?Nu(hf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nu(uf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},w3=Function.prototype.bind;function Ou(t,e){return w3.call(t,e)}var Fu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ms(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ms(r)}else ms(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ms(n)}}},gi=class extends vr{constructor(e,n,r){super();let i;if(N(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Dt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ou(e.next,o),error:e.error&&Ou(e.error,o),complete:e.complete&&Ou(e.complete,o)}):i=e}this.destination=new Fu(i)}};function ms(t){Dt.useDeprecatedSynchronousErrorHandling?ff(t):gs(t)}function I3(t){throw t}function Nu(t,e){let{onStoppedNotification:n}=Dt;n&&fi.setTimeout(()=>n(t,e))}var C3={closed:!0,next:mr,error:I3,complete:mr};var mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xt(t){return t}function ju(...t){return Hu(t)}function Hu(t){return t.length===0?xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var P=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=_3(n)?n:new gi(n,r,i);return yi(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=yf(r),new r((i,o)=>{let a=new gi({next:s=>{try{n(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[mi](){return this}pipe(...n){return Hu(n)(this)}toPromise(n){return n=yf(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function yf(t){var e;return(e=t??Dt.Promise)!==null&&e!==void 0?e:Promise}function b3(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}function _3(t){return t&&t instanceof vr||b3(t)&&ys(t)}function S3(t){return N(t?.lift)}function W(t){return e=>{if(S3(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(t,e,n,r,i){return new Vu(t,e,n,r,i)}var Vu=class extends vr{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(c){e.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){e.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var ki={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=ki;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(o=>{n=void 0,t(o)});return new oe(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=ki;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=ki;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var gf=pi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var T=(()=>{class t extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ks(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new gf}next(n){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ru:(this.currentObservers=null,o.push(n),new oe(()=>{this.currentObservers=null,gr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new P;return n.source=this,n}}return t.create=(e,n)=>new ks(e,n),t})(),ks=class extends T{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ru}};var Se=class extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zu={now(){return(zu.delegate||Date).now()},delegate:void 0};var vs=class extends oe{constructor(e,n){super()}schedule(e,n=0){return this}};var Eo={setInterval(t,e,...n){let{delegate:r}=Eo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Eo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var vi=class extends vs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Eo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Eo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,gr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Mi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Mi.now=zu.now;var wi=class extends Mi{constructor(e,n=Mi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var gn=new wi(vi),mf=gn;var Ms=class extends vi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=ki.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:o}=e;n!=null&&n===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(ki.cancelAnimationFrame(n),e._scheduled=void 0)}};var ws=class extends wi{flush(e){this._active=!0;let n;e?n=e.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var Is=new ws(Ms);var Fe=new P(t=>t.complete());function Cs(t){return t&&N(t.schedule)}function Bu(t){return t[t.length-1]}function bs(t){return N(Bu(t))?t.pop():void 0}function Wt(t){return Cs(Bu(t))?t.pop():void 0}function kf(t,e){return typeof Bu(t)=="number"?t.pop():e}function Mf(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(l){try{d(r.next(l))}catch(u){a(u)}}function c(l){try{d(r.throw(l))}catch(u){a(u)}}function d(l){l.done?o(l.value):i(l.value).then(s,c)}d((r=r.apply(t,e||[])).next())})}function vf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(t){return this instanceof Mr?(this.v=t,this):new Mr(t)}function wf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(f){return function(y){return Promise.resolve(y).then(f,u)}}function s(f,y){r[f]&&(i[f]=function(w){return new Promise(function(m,M){o.push([f,w,m,M])>1||c(f,w)})},y&&(i[f]=y(i[f])))}function c(f,y){try{d(r[f](y))}catch(w){h(o[0][3],w)}}function d(f){f.value instanceof Mr?Promise.resolve(f.value.v).then(l,u):h(o[0][2],f)}function l(f){c("next",f)}function u(f){c("throw",f)}function h(f,y){f(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function If(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vf=="function"?vf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(s,c){a=t[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(d){o({value:d,done:s})},a)}}var _s=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ss(t){return N(t?.then)}function Ds(t){return N(t[mi])}function xs(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function Es(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function D3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ts=D3();function Ls(t){return N(t?.[Ts])}function As(t){return wf(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Mr(n.read());if(i)return yield Mr(void 0);yield yield Mr(r)}}finally{n.releaseLock()}})}function Rs(t){return N(t?.getReader)}function le(t){if(t instanceof P)return t;if(t!=null){if(Ds(t))return x3(t);if(_s(t))return E3(t);if(Ss(t))return T3(t);if(xs(t))return Cf(t);if(Ls(t))return L3(t);if(Rs(t))return A3(t)}throw Es(t)}function x3(t){return new P(e=>{let n=t[mi]();if(N(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function E3(t){return new P(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function T3(t){return new P(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,gs)})}function L3(t){return new P(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Cf(t){return new P(e=>{R3(t,e).catch(n=>e.error(n))})}function A3(t){return Cf(As(t))}function R3(t,e){var n,r,i,o;return Mf(this,void 0,void 0,function*(){try{for(n=If(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Je(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ps(t,e=0){return W((n,r)=>{n.subscribe(U(r,i=>Je(r,t,()=>r.next(i),e),()=>Je(r,t,()=>r.complete(),e),i=>Je(r,t,()=>r.error(i),e)))})}function Os(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function bf(t,e){return le(t).pipe(Os(e),Ps(e))}function _f(t,e){return le(t).pipe(Os(e),Ps(e))}function Sf(t,e){return new P(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Df(t,e){return new P(n=>{let r;return Je(n,e,()=>{r=t[Ts](),Je(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}function Ns(t,e){if(!t)throw new Error("Iterable cannot be null");return new P(n=>{Je(n,e,()=>{let r=t[Symbol.asyncIterator]();Je(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function xf(t,e){return Ns(As(t),e)}function Ef(t,e){if(t!=null){if(Ds(t))return bf(t,e);if(_s(t))return Sf(t,e);if(Ss(t))return _f(t,e);if(xs(t))return Ns(t,e);if(Ls(t))return Df(t,e);if(Rs(t))return xf(t,e)}throw Es(t)}function ve(t,e){return e?Ef(t,e):le(t)}function S(...t){let e=Wt(t);return ve(t,e)}function qu(t,e){let n=N(t)?t:()=>t,r=i=>i.error(n());return new P(e?i=>e.schedule(r,0,i):r)}function To(t){return!!t&&(t instanceof P||N(t.lift)&&N(t.subscribe))}var wr=pi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Tf(t){return t instanceof Date&&!isNaN(t)}function F(t,e){return W((n,r)=>{let i=0;n.subscribe(U(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:P3}=Array;function O3(t,e){return P3(e)?t(...e):t(e)}function Fs(t){return F(e=>O3(t,e))}var{isArray:N3}=Array,{getPrototypeOf:F3,prototype:j3,keys:H3}=Object;function js(t){if(t.length===1){let e=t[0];if(N3(e))return{args:e,keys:null};if(V3(e)){let n=H3(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function V3(t){return t&&typeof t=="object"&&F3(t)===j3}function Hs(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ii(...t){let e=Wt(t),n=bs(t),{args:r,keys:i}=js(t);if(r.length===0)return ve([],e);let o=new P(z3(r,e,i?a=>Hs(i,a):xt));return n?o.pipe(Fs(n)):o}function z3(t,e,n=xt){return r=>{Lf(e,()=>{let{length:i}=t,o=new Array(i),a=i,s=i;for(let c=0;c<i;c++)Lf(e,()=>{let d=ve(t[c],e),l=!1;d.subscribe(U(r,u=>{o[c]=u,l||(l=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Lf(t,e,n){t?Je(n,t,e):e()}function Af(t,e,n,r,i,o,a,s){let c=[],d=0,l=0,u=!1,h=()=>{u&&!c.length&&!d&&e.complete()},f=w=>d<r?y(w):c.push(w),y=w=>{o&&e.next(w),d++;let m=!1;le(n(w,l++)).subscribe(U(e,M=>{i?.(M),o?f(M):e.next(M)},()=>{m=!0},void 0,()=>{if(m)try{for(d--;c.length&&d<r;){let M=c.shift();a?Je(e,a,()=>y(M)):y(M)}h()}catch(M){e.error(M)}}))};return t.subscribe(U(e,f,()=>{u=!0,h()})),()=>{s?.()}}function Ae(t,e,n=1/0){return N(e)?Ae((r,i)=>F((o,a)=>e(r,o,i,a))(le(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>Af(r,i,t,n)))}function Vs(t=1/0){return Ae(xt,t)}function Rf(){return Vs(1)}function Gt(...t){return Rf()(ve(t,Wt(t)))}function Lo(t){return new P(e=>{le(t()).subscribe(e)})}function Uu(...t){let e=bs(t),{args:n,keys:r}=js(t),i=new P(o=>{let{length:a}=n;if(!a){o.complete();return}let s=new Array(a),c=a,d=a;for(let l=0;l<a;l++){let u=!1;le(n[l]).subscribe(U(o,h=>{u||(u=!0,d--),s[l]=h},()=>c--,void 0,()=>{(!c||!u)&&(d||o.next(r?Hs(r,s):s),o.complete())}))}});return e?i.pipe(Fs(e)):i}function Ci(t=0,e,n=mf){let r=-1;return e!=null&&(Cs(e)?n=e:r=e),new P(i=>{let o=Tf(t)?+t-n.now():t;o<0&&(o=0);let a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function $u(t=0,e=gn){return t<0&&(t=0),Ci(t,t,e)}function Ao(...t){let e=Wt(t),n=kf(t,1/0),r=t;return r.length?r.length===1?le(r[0]):Vs(n)(ve(r,e)):Fe}function je(t,e){return W((n,r)=>{let i=0;n.subscribe(U(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Pf(t){return W((e,n)=>{let r=!1,i=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let d=i;i=null,n.next(d)}a&&n.complete()},c=()=>{o=null,a&&n.complete()};e.subscribe(U(n,d=>{r=!0,i=d,o||le(t(d)).subscribe(o=U(n,s,c))},()=>{a=!0,(!r||!o||o.closed)&&n.complete()}))})}function zs(t,e=gn){return Pf(()=>Ci(t,e))}function Ro(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe(U(n,void 0,void 0,a=>{o=le(t(a,Ro(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function bi(t,e){return N(e)?Ae(t,e,1):Ae(t,1)}function Wu(t,e=gn){return W((n,r)=>{let i=null,o=null,a=null,s=()=>{if(i){i.unsubscribe(),i=null;let d=o;o=null,r.next(d)}};function c(){let d=a+t,l=e.now();if(l<d){i=this.schedule(void 0,d-l),r.add(i);return}s()}n.subscribe(U(r,d=>{o=d,a=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{s(),r.complete()},void 0,()=>{o=i=null}))})}function Gu(t){return W((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function He(t){return t<=0?()=>Fe:W((e,n)=>{let r=0;e.subscribe(U(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Of(){return W((t,e)=>{t.subscribe(U(e,mr))})}function Nf(t){return F(()=>t)}function Zu(t,e){return e?n=>Gt(e.pipe(He(1),Of()),n.pipe(Zu(t))):Ae((n,r)=>le(t(n,r)).pipe(He(1),Nf(n)))}function Zt(t,e=gn){let n=Ci(t,e);return Zu(()=>n)}function Ff(t=B3){return W((e,n)=>{let r=!1;e.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function B3(){return new wr}function Po(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function mn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?je((i,o)=>t(i,o,r)):xt,He(1),n?Gu(e):Ff(()=>new wr))}function Bs(t){return t<=0?()=>Fe:W((e,n)=>{let r=[];e.subscribe(U(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ku(t){return je((e,n)=>t<=n)}function kn(...t){let e=Wt(t);return W((n,r)=>{(e?Gt(t,n,e):Gt(t,n)).subscribe(r)})}function De(t,e){return W((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe(U(r,c=>{i?.unsubscribe();let d=0,l=o++;le(t(c,l)).subscribe(i=U(r,u=>r.next(e?e(c,u,l,d++):u),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function et(t){return W((e,n)=>{le(t).subscribe(U(n,()=>n.complete(),mr)),!n.closed&&e.subscribe(n)})}function Me(t,e,n){let r=N(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(U(o,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var d;s=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},()=>{var c,d;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):xt}var Yu;function qs(){return Yu}function Kt(t){let e=Yu;return Yu=t,e}var jf=Symbol("NotFound");function _i(t){return t===jf||t?.name==="\u0275NotFound"}var Ys="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",I=class extends Error{code;constructor(e,n){super(Et(e,n)),this.code=e}};function q3(t){return`NG0${Math.abs(t)}`}function Et(t,e){return`${q3(t)}${e?": "+e:""}`}function ee(t){for(let e in t)if(t[e]===ee)return e;throw Error("")}function Mn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Mn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function l1(t,e){return t?e?`${t} ${e}`:t:e||""}var U3=ee({__forward_ref__:ee});function zo(t){return t.__forward_ref__=zo,t.toString=function(){return Mn(this())},t}function Re(t){return u1(t)?t():t}function u1(t){return typeof t=="function"&&t.hasOwnProperty(U3)&&t.__forward_ref__===zo}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Bo(t){return $3(t,Xs)}function h1(t){return Bo(t)!==null}function $3(t,e){return t.hasOwnProperty(e)&&t[e]||null}function W3(t){let e=t?.[Xs]??null;return e||null}function Qu(t){return t&&t.hasOwnProperty($s)?t[$s]:null}var Xs=ee({\u0275prov:ee}),$s=ee({\u0275inj:ee}),v=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function p1(t){return t&&!!t.\u0275providers}var f1=ee({\u0275cmp:ee}),y1=ee({\u0275dir:ee}),g1=ee({\u0275pipe:ee}),m1=ee({\u0275mod:ee}),No=ee({\u0275fac:ee}),Dr=ee({__NG_ELEMENT_ID__:ee}),Hf=ee({__NG_ENV_ID__:ee});function k1(t){return Js(t,"@NgModule"),t[m1]||null}function Tt(t){return Js(t,"@Component"),t[f1]||null}function Qs(t){return Js(t,"@Directive"),t[y1]||null}function v1(t){return Js(t,"@Pipe"),t[g1]||null}function Js(t,e){if(t==null)throw new I(-919,!1)}function qo(t){return typeof t=="string"?t:t==null?"":String(t)}function qf(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():qo(t)}var Uf=ee({ngErrorCode:ee}),G3=ee({ngErrorMessage:ee}),Z3=ee({ngTokenPath:ee});function M1(t,e){return $f("",-200,e)}function ec(t,e){throw new I(-201,!1)}function $f(t,e,n){let r=new I(e,t);return r[Uf]=e,r[G3]=t,n&&(r[Z3]=n),r}function K3(t){return t[Uf]}var Ju;function Wf(){return Ju}function tt(t){let e=Ju;return Ju=t,e}function w1(t,e,n){let r=Bo(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;ec(t,"")}var Y3={},Ir=Y3,e1="__NG_DI_FLAG__",t1=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Cr(n)||0;try{return this.injector.get(e,r&8?null:Ir,r)}catch(i){if(_i(i))return i;throw i}}};function X3(t,e=0){let n=qs();if(n===void 0)throw new I(-203,!1);if(n===null)return w1(t,void 0,e);{let r=Q3(e),i=n.retrieve(t,r);if(_i(i)){if(r.optional)return null;throw i}return i}}function x(t,e=0){return(Wf()||X3)(Re(t),e)}function p(t,e){return x(t,Cr(e))}function Cr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Q3(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function n1(t){let e=[];for(let n=0;n<t.length;n++){let r=Re(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],c=J3(s);typeof c=="number"?c===-1?i=s.token:o|=c:i=s}e.push(x(i,o))}else e.push(x(r))}return e}function Gf(t,e){return t[e1]=e,t.prototype[e1]=e,t}function J3(t){return t[e1]}function br(t,e){let n=t.hasOwnProperty(No);return n?t[No]:null}function Zf(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Kf(t){return t.flat(Number.POSITIVE_INFINITY)}function tc(t,e){t.forEach(n=>Array.isArray(n)?tc(n,e):e(n))}function I1(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Yf(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Xf(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Qf(t,e,n){let r=Di(t,e);return r>=0?t[r|1]=n:(r=~r,Xf(t,r,e,n)),r}function nc(t,e){let n=Di(t,e);if(n>=0)return t[n|1]}function Di(t,e){return ew(t,e,1)}function ew(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var xr={},pt=[],Yt=new v(""),C1=new v("",-1),b1=new v(""),Fo=class{get(e,n=Ir){if(n===Ir){let i=$f("",-201);throw i.name="\u0275NotFound",i}return n}};function yt(t){return{\u0275providers:t}}function Jf(t){return yt([{provide:Yt,multi:!0,useValue:t}])}function ey(...t){return{\u0275providers:rc(!0,t),\u0275fromNgModule:!0}}function rc(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return tc(e,a=>{let s=a;Ws(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&ty(i,o),n}function ty(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];_1(i,o=>{e(o,r)})}}function Ws(t,e,n,r){if(t=Re(t),!t)return!1;let i=null,o=Qu(t),a=!o&&Tt(t);if(!o&&!a){let c=t.ngModule;if(o=Qu(c),o)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=t}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let d of c)Ws(d,e,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let d;try{tc(o.imports,l=>{Ws(l,e,n,r)&&(d||=[],d.push(l))})}finally{}d!==void 0&&ty(d,e)}if(!s){let d=br(i)||(()=>new i);e({provide:i,useFactory:d,deps:pt},i),e({provide:b1,useValue:i,multi:!0},i),e({provide:Yt,useValue:()=>x(i),multi:!0},i)}let c=o.providers;if(c!=null&&!s){let d=t;_1(c,l=>{e(l,d)})}}else return!1;return i!==t&&t.providers!==void 0}function _1(t,e){for(let n of t)p1(n)&&(n=n.\u0275providers),Array.isArray(n)?_1(n,e):e(n)}var tw=ee({provide:String,useValue:ee});function ny(t){return t!==null&&typeof t=="object"&&tw in t}function nw(t){return!!(t&&t.useExisting)}function rw(t){return!!(t&&t.useFactory)}function _r(t){return typeof t=="function"}function ry(t){return!!t.useClass}var $o=new v(""),Us={},Vf={},Xu;function xi(){return Xu===void 0&&(Xu=new Fo),Xu}var he=class{},Sr=class extends he{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,i1(e,a=>this.processProvider(a)),this.records.set(C1,Si(void 0,this)),i.has("environment")&&this.records.set(he,Si(void 0,this));let o=this.records.get($o);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(b1,pt,{self:!0}))}retrieve(e,n){let r=Cr(n)||0;try{return this.get(e,Ir,r)}catch(i){if(_i(i))return i;throw i}}destroy(){Oo(this),this._destroyed=!0;let e=_(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_(e)}}onDestroy(e){return Oo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Oo(this);let n=Kt(this),r=tt(void 0),i;try{return e()}finally{Kt(n),tt(r)}}get(e,n=Ir,r){if(Oo(this),e.hasOwnProperty(Hf))return e[Hf](this);let i=Cr(r),o,a=Kt(this),s=tt(void 0);try{if(!(i&4)){let d=this.records.get(e);if(d===void 0){let l=cw(e)&&Bo(e);l&&this.injectableDefInScope(l)?d=Si(r1(e),Us):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,i)}let c=i&2?xi():this.parent;return n=i&8&&n===Ir?null:n,c.get(e,n)}catch(c){let d=K3(c);throw d===-200||d===-201?new I(d,null):c}finally{tt(s),Kt(a)}}resolveInjectorInitializers(){let e=_(null),n=Kt(this),r=tt(void 0),i;try{let o=this.get(Yt,pt,{self:!0});for(let a of o)a()}finally{Kt(n),tt(r),_(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Mn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Re(e);let n=_r(e)?e:Re(e&&e.provide),r=ow(e);if(!_r(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Si(void 0,Us,!0),i.factory=()=>n1(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=_(null);try{if(n.value===Vf)throw M1(Mn(e));return n.value===Us&&(n.value=Vf,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&sw(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Re(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function r1(t){let e=Bo(t),n=e!==null?e.factory:br(t);if(n!==null)return n;if(t instanceof v)throw new I(204,!1);if(t instanceof Function)return iw(t);throw new I(204,!1)}function iw(t){if(t.length>0)throw new I(204,!1);let n=W3(t);return n!==null?()=>n.factory(t):()=>new t}function ow(t){if(ny(t))return Si(void 0,t.useValue);{let e=S1(t);return Si(e,Us)}}function S1(t,e,n){let r;if(_r(t)){let i=Re(t);return br(i)||r1(i)}else if(ny(t))r=()=>Re(t.useValue);else if(rw(t))r=()=>t.useFactory(...n1(t.deps||[]));else if(nw(t))r=(i,o)=>x(Re(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Re(t&&(t.useClass||t.provide));if(aw(t))r=()=>new i(...n1(t.deps));else return br(i)||r1(i)}return r}function Oo(t){if(t.destroyed)throw new I(205,!1)}function Si(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aw(t){return!!t.deps}function sw(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cw(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function i1(t,e){for(let n of t)Array.isArray(n)?i1(n,e):n&&p1(n)?i1(n.\u0275providers,e):e(n)}function Pe(t,e){let n;t instanceof Sr?(Oo(t),n=t):n=new t1(t);let r,i=Kt(n),o=tt(void 0);try{return e()}finally{Kt(i),tt(o)}}function iy(){return Wf()!==void 0||qs()!=null}var $e=0,C=1,A=2,ge=3,gt=4,We=5,Ge=6,Ei=7,ke=8,rt=9,Xt=10,te=11,Ti=12,D1=13,Er=14,Oe=15,qn=16,Tr=17,Qt=18,Wo=19,x1=20,vn=21,ic=22,zn=23,it=24,Lr=25,Ar=26,X=27,oy=1,Lt=6,Jt=7,Go=8,Rr=9,pe=10;function ot(t){return Array.isArray(t)&&typeof t[oy]=="object"}function at(t){return Array.isArray(t)&&t[oy]===!0}function E1(t){return(t.flags&4)!==0}function In(t){return t.componentOffset>-1}function Li(t){return(t.flags&1)===1}function Un(t){return!!t.template}function Pr(t){return(t[A]&512)!==0}function $n(t){return(t[A]&256)===256}var ay="svg",sy="math";function st(t){for(;Array.isArray(t);)t=t[$e];return t}function T1(t,e){return st(e[t])}function mt(t,e){return st(e[t.index])}function Or(t,e){return t.data[e]}function cy(t,e){return t[e]}function kt(t,e){let n=e[t];return ot(n)?n:n[$e]}function dy(t){return(t[A]&4)===4}function oc(t){return(t[A]&128)===128}function ly(t){return at(t[ge])}function vt(t,e){return e==null?null:t[e]}function L1(t){t[Tr]=0}function A1(t){t[A]&1024||(t[A]|=1024,oc(t)&&Nr(t))}function uy(t,e){for(;t>0;)e=e[Er],t--;return e}function Zo(t){return!!(t[A]&9216||t[it]?.dirty)}function ac(t){t[Xt].changeDetectionScheduler?.notify(8),t[A]&64&&(t[A]|=1024),Zo(t)&&Nr(t)}function Nr(t){t[Xt].changeDetectionScheduler?.notify(0);let e=Bn(t);for(;e!==null&&!(e[A]&8192||(e[A]|=8192,!oc(e)));)e=Bn(e)}function R1(t,e){if($n(t))throw new I(911,!1);t[vn]===null&&(t[vn]=[]),t[vn].push(e)}function hy(t,e){if(t[vn]===null)return;let n=t[vn].indexOf(e);n!==-1&&t[vn].splice(n,1)}function Bn(t){let e=t[ge];return at(e)?e[ge]:e}function P1(t){return t[Ei]??=[]}function O1(t){return t.cleanup??=[]}function py(t,e,n,r){let i=P1(e);i.push(n),t.firstCreatePass&&O1(t).push(r,i.length-1)}var H={lFrame:Dy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var o1=!1;function fy(){return H.lFrame.elementDepthCount}function yy(){H.lFrame.elementDepthCount++}function N1(){H.lFrame.elementDepthCount--}function sc(){return H.bindingsEnabled}function cc(){return H.skipHydrationRootTNode!==null}function F1(t){return H.skipHydrationRootTNode===t}function gy(t){H.skipHydrationRootTNode=t}function j1(){H.skipHydrationRootTNode=null}function j(){return H.lFrame.lView}function we(){return H.lFrame.tView}function z(t){return H.lFrame.contextLView=t,t[ke]}function B(t){return H.lFrame.contextLView=null,t}function Ve(){let t=H1();for(;t!==null&&t.type===64;)t=t.parent;return t}function H1(){return H.lFrame.currentTNode}function my(){let t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ai(t,e){let n=H.lFrame;n.currentTNode=t,n.isParent=e}function V1(){return H.lFrame.isParent}function z1(){H.lFrame.isParent=!1}function ky(){return H.lFrame.contextLView}function B1(){return o1}function jo(t){let e=o1;return o1=t,e}function vy(){let t=H.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function My(t){return H.lFrame.bindingIndex=t}function Fr(){return H.lFrame.bindingIndex++}function wy(t){let e=H.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Iy(){return H.lFrame.inI18n}function Cy(t,e){let n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,dc(e)}function by(){return H.lFrame.currentDirectiveIndex}function dc(t){H.lFrame.currentDirectiveIndex=t}function _y(t){let e=H.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function q1(){return H.lFrame.currentQueryIndex}function lc(t){H.lFrame.currentQueryIndex=t}function dw(t){let e=t[C];return e.type===2?e.declTNode:e.type===1?t[We]:null}function U1(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=dw(o),i===null||(o=o[Er],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=H.lFrame=Sy();return r.currentTNode=e,r.lView=t,!0}function uc(t){let e=Sy(),n=t[C];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Sy(){let t=H.lFrame,e=t===null?null:t.child;return e===null?Dy(t):e}function Dy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function xy(){let t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var $1=xy;function hc(){let t=xy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ey(t){return(H.lFrame.contextLView=uy(t,H.lFrame.contextLView))[ke]}function Wn(){return H.lFrame.selectedIndex}function Gn(t){H.lFrame.selectedIndex=t}function pc(){let t=H.lFrame;return Or(t.tView,t.selectedIndex)}function W1(){return H.lFrame.currentNamespace}var Ty=!0;function fc(){return Ty}function Cn(t){Ty=t}function a1(t,e=null,n=null,r){let i=G1(t,e,n,r);return i.resolveInjectorInitializers(),i}function G1(t,e=null,n=null,r,i=new Set){let o=[n||pt,ey(t)];return r=r||(typeof t=="object"?void 0:Mn(t)),new Sr(o,e||xi(),r||null,i)}var me=class t{static THROW_IF_NOT_FOUND=Ir;static NULL=new Fo;static create(e,n){if(Array.isArray(e))return a1({name:""},n,e,"");{let r=e.name??"";return a1({name:r},e.parent,e.providers,r)}}static \u0275prov=k({token:t,providedIn:"any",factory:()=>x(C1)});static __NG_ELEMENT_ID__=-1},ne=new v(""),ze=(()=>{class t{static __NG_ELEMENT_ID__=lw;static __NG_ENV_ID__=n=>n}return t})(),Gs=class extends ze{_lView;constructor(e){super(),this._lView=e}get destroyed(){return $n(this._lView)}onDestroy(e){let n=this._lView;return R1(n,e),()=>hy(n,e)}};function lw(){return new Gs(j())}var Ly=!1,en=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Se(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new P(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=k({token:t,providedIn:"root",factory:()=>new t})}return t})(),s1=class extends T{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,iy()&&(this.destroyRef=p(ze,{optional:!0})??void 0,this.pendingTasks=p(en,{optional:!0})??void 0)}emit(e){let n=_(null);try{super.next(e)}finally{_(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return e instanceof oe&&e.add(s),s}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ae=s1;function Zs(...t){}function Z1(t){let e,n;function r(){t=Zs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function K1(t){return queueMicrotask(()=>t()),()=>{t=Zs}}var Y1="isAngularZone",Ho=Y1+"_ID",uw=0,ue=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ae(!1);onMicrotaskEmpty=new ae(!1);onStable=new ae(!1);onError=new ae(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ly}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,fw(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Y1)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,hw,Zs,Zs);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hw={};function X1(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pw(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Z1(()=>{t.callbackScheduled=!1,c1(t),t.isCheckStableRunning=!0,X1(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),c1(t)}function fw(t){let e=()=>{pw(t)},n=uw++;t._inner=t._inner.fork({name:"angular",properties:{[Y1]:!0,[Ho]:n,[Ho+n]:!0},onInvokeTask:(r,i,o,a,s,c)=>{if(yw(c))return r.invokeTask(o,a,s,c);try{return zf(t),r.invokeTask(o,a,s,c)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Bf(t)}},onInvoke:(r,i,o,a,s,c,d)=>{try{return zf(t),r.invoke(o,a,s,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!gw(c)&&e(),Bf(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,c1(t),X1(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function c1(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bf(t){t._nesting--,X1(t)}var Vo=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ae;onMicrotaskEmpty=new ae;onStable=new ae;onError=new ae;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function yw(t){return Ay(t,"__ignore_ng_zone__")}function gw(t){return Ay(t,"__scheduler_tick__")}function Ay(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ft=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mt=new v("",{factory:()=>{let t=p(ue),e=p(he),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(ft),n.handleError(r))})}}}),Ry={provide:Yt,useValue:()=>{let t=p(ft,{optional:!0})},multi:!0},mw=new v("",{factory:()=>{let t=p(ne).defaultView;if(!t)return;let e=p(Mt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),p(ze).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Q1(){return yt([Jf(()=>void p(mw))])}function $(t,e){let[n,r,i]=Eu(t,e?.equal),o=n,a=o[Qe];return o.set=r,o.update=i,o.asReadonly=J1.bind(o),o}function J1(){let t=this[Qe];if(t.readonlyFn===void 0){let e=()=>this();e[Qe]=t,t.readonlyFn=e}return t.readonlyFn}var Ko=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=kw}return t})();function kw(){return new Ko(j(),Ve())}var wn=class{},Yo=new v("",{factory:()=>!0});var eh=new v(""),jr=(()=>{class t{internalPendingTasks=p(en);scheduler=p(wn);errorHandler=p(Mt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=k({token:t,providedIn:"root",factory:()=>new t})}return t})(),yc=(()=>{class t{static \u0275prov=k({token:t,providedIn:"root",factory:()=>new d1})}return t})(),d1=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Ks=class{[Qe];constructor(e){this[Qe]=e}destroy(){this[Qe].destroy()}};function ct(t,e){let n=e?.injector??p(me),r=e?.manualCleanup!==!0?n.get(ze):null,i,o=n.get(Ko,null,{optional:!0}),a=n.get(wn);return o!==null?(i=ww(o.view,a,t),r instanceof Gs&&r._lView===o.view&&(r=null)):i=Iw(t,n.get(yc),a),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new Ks(i)}var Py=V(g({},Lu),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=jo(!1);try{Au(this)}finally{jo(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=_(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],_(t)}}}),vw=V(g({},Py),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(yr(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),Mw=V(g({},Py),{consumerMarkedDirty(){this.view[A]|=8192,Nr(this.view),this.notifier.notify(13)},destroy(){if(yr(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[zn]?.delete(this)}});function ww(t,e,n){let r=Object.create(Mw);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=Oy(r,n),t[zn]??=new Set,t[zn].add(r),r.consumerMarkedDirty(r),r}function Iw(t,e,n){let r=Object.create(vw);return r.fn=Oy(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function Oy(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function Ze(t){return Tu(t)}var gc={JSACTION:"jsaction"};function Hi(t){return{toString:t}.toString()}var mc="__parameters__";function Lw(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Aw(t,e,n){return Hi(()=>{let r=Lw(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(c,d,l){let u=c.hasOwnProperty(mc)?c[mc]:Object.defineProperty(c,mc,{value:[]})[mc];for(;u.length<=l;)u.push(null);return(u[l]=u[l]||[]).push(a),c}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var $c=Gf(Aw("Optional"),8);function Rw(t){return typeof t=="function"}function Mg(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Sc=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},bn=(()=>{let t=()=>wg;return t.ngInherit=!0,t})();function wg(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ow),Pw}function Pw(){let t=Cg(this),e=t?.current;if(e){let n=t.previous;if(n===xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ow(t,e,n,r,i){let o=this.declaredInputs[r],a=Cg(t)||Nw(t,{previous:xr,current:null}),s=a.current||(a.current={}),c=a.previous,d=c[o];s[o]=new Sc(d&&d.currentValue,n,c===xr),Mg(t,e,i,n)}var Ig="__ngSimpleChanges__";function Cg(t){return t[Ig]||null}function Nw(t,e){return t[Ig]=e}var Ny=[];var Z=function(t,e=null,n){for(let r=0;r<Ny.length;r++){let i=Ny[r];i(t,e,n)}},G=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(G||{});function Fw(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=wg(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function bg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:l}=o;a&&(t.contentHooks??=[]).push(-n,a),s&&((t.contentHooks??=[]).push(n,s),(t.contentCheckHooks??=[]).push(n,s)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function vc(t,e,n){_g(t,e,3,n)}function Mc(t,e,n,r){(t[A]&3)===n&&_g(t,e,n,r)}function th(t,e){let n=t[A];(n&3)===e&&(n&=16383,n+=1,t[A]=n)}function _g(t,e,n,r){let i=r!==void 0?t[Tr]&65535:0,o=r??-1,a=e.length-1,s=0;for(let c=i;c<a;c++)if(typeof e[c+1]=="number"){if(s=e[c],r!=null&&s>=r)break}else e[c]<0&&(t[Tr]+=65536),(s<o||o==-1)&&(jw(t,n,e,c),t[Tr]=(t[Tr]&4294901760)+c+2),c++}function Fy(t,e){Z(G.LifecycleHookStart,t,e);let n=_(null);try{e.call(t)}finally{_(n),Z(G.LifecycleHookEnd,t,e)}}function jw(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=t[a];i?t[A]>>14<t[Tr]>>16&&(t[A]&3)===e&&(t[A]+=16384,Fy(s,o)):Fy(s,o)}var Pi=-1,zr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function Hw(t){return(t.flags&8)!==0}function Vw(t){return(t.flags&16)!==0}function zw(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];t.setAttribute(e,a,s,o)}else{let o=i,a=n[++r];qw(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function Bw(t){return t===3||t===4||t===6}function qw(t){return t.charCodeAt(0)===64}function Wc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?jy(t,n,i,null,e[++r]):jy(t,n,i,null,null))}}return t}function jy(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let s=t[o++];if(typeof s=="number"){if(s===e){a=-1;break}else if(s>e){a=o-1;break}}}for(;o<t.length;){let s=t[o];if(typeof s=="number")break;if(s===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Sg(t){return t!==Pi}function Dc(t){return t&32767}function Uw(t){return t>>16}function xc(t,e){let n=Uw(t),r=e;for(;n>0;)r=r[Er],n--;return r}var ph=!0;function Hy(t){let e=ph;return ph=t,e}var $w=256,Dg=$w-1,xg=5,Ww=0,tn={};function Gw(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Dr)&&(r=n[Dr]),r==null&&(r=n[Dr]=Ww++);let i=r&Dg,o=1<<i;e.data[t+(i>>xg)]|=o}function Ec(t,e){let n=Eg(t,e);if(n!==-1)return n;let r=e[C];r.firstCreatePass&&(t.injectorIndex=e.length,nh(r.data,t),nh(e,null),nh(r.blueprint,null));let i=Bh(t,e),o=t.injectorIndex;if(Sg(i)){let a=Dc(i),s=xc(i,e),c=s[C].data;for(let d=0;d<8;d++)e[o+d]=s[a+d]|c[a+d]}return e[o+8]=i,o}function nh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Eg(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Pg(i),r===null)return Pi;if(n++,i=i[Er],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Pi}function fh(t,e,n){Gw(t,e,n)}function Tg(t,e,n){if(n&8||t!==void 0)return t;ec(e,"NodeInjector")}function Lg(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[rt],o=tt(void 0);try{return i?i.get(e,r,n&8):w1(e,r,n&8)}finally{tt(o)}}return Tg(r,e,n)}function Ag(t,e,n,r=0,i){if(t!==null){if(e[A]&2048&&!(r&2)){let a=Xw(t,e,n,r,tn);if(a!==tn)return a}let o=Rg(t,e,n,r,tn);if(o!==tn)return o}return Lg(e,n,r,i)}function Rg(t,e,n,r,i){let o=Kw(n);if(typeof o=="function"){if(!U1(e,t,r))return r&1?Tg(i,n,r):Lg(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))ec(n);else return a}finally{$1()}}else if(typeof o=="number"){let a=null,s=Eg(t,e),c=Pi,d=r&1?e[Oe][We]:null;for((s===-1||r&4)&&(c=s===-1?Bh(t,e):e[s+8],c===Pi||!zy(r,!1)?s=-1:(a=e[C],s=Dc(c),e=xc(c,e)));s!==-1;){let l=e[C];if(Vy(o,s,l.data)){let u=Zw(s,e,n,a,r,d);if(u!==tn)return u}c=e[s+8],c!==Pi&&zy(r,e[C].data[s+8]===d)&&Vy(o,s,e)?(a=l,s=Dc(c),e=xc(c,e)):s=-1}}return i}function Zw(t,e,n,r,i,o){let a=e[C],s=a.data[t+8],c=r==null?In(s)&&ph:r!=a&&(s.type&3)!==0,d=i&1&&o===s,l=wc(s,a,n,c,d);return l!==null?Jo(e,a,l,s,i):tn}function wc(t,e,n,r,i){let o=t.providerIndexes,a=e.data,s=o&1048575,c=t.directiveStart,d=t.directiveEnd,l=o>>20,u=r?s:s+l,h=i?s+l:d;for(let f=u;f<h;f++){let y=a[f];if(f<c&&n===y||f>=c&&y.type===n)return f}if(i){let f=a[c];if(f&&Un(f)&&f.type===n)return c}return null}function Jo(t,e,n,r,i){let o=t[n],a=e.data;if(o instanceof zr){let s=o;if(s.resolving){let f=qf(a[n]);throw M1(f)}let c=Hy(s.canSeeViewProviders);s.resolving=!0;let d=a[n].type||a[n],l,u=s.injectImpl?tt(s.injectImpl):null,h=U1(t,r,0);try{o=t[n]=s.factory(void 0,i,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&Fw(n,a[n],e)}finally{u!==null&&tt(u),Hy(c),s.resolving=!1,$1()}}return o}function Kw(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Dr)?t[Dr]:void 0;return typeof e=="number"?e>=0?e&Dg:Yw:e}function Vy(t,e,n){let r=1<<t;return!!(n[e+(t>>xg)]&r)}function zy(t,e){return!(t&2)&&!(t&1&&e)}var Vr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ag(this._tNode,this._lView,e,Cr(r),n)}};function Yw(){return new Vr(Ve(),j())}function Gc(t){return Hi(()=>{let e=t.prototype.constructor,n=e[No]||yh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[No]||yh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yh(t){return u1(t)?()=>{let e=yh(Re(t));return e&&e()}:br(t)}function Xw(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[A]&2048&&!Pr(a);){let s=Rg(o,a,n,r|2,tn);if(s!==tn)return s;let c=o.parent;if(!c){let d=a[x1];if(d){let l=d.get(n,tn,r);if(l!==tn)return l}c=Pg(a),a=a[Er]}o=c}return i}function Pg(t){let e=t[C],n=e.type;return n===2?e.declTNode:n===1?t[We]:null}function Qw(){return Vi(Ve(),j())}function Vi(t,e){return new xe(mt(t,e))}var xe=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Qw}return t})();function Jw(t){return t instanceof xe?t.nativeElement:t}function e8(){return this._results[Symbol.iterator]()}var Tc=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new T}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Kf(e);(this._changesDetected=!Zf(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=e8},Og="ngSkipHydration",t8="ngskiphydration";function Ng(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===t8)return!0}return!1}function Fg(t){return t.hasAttribute(Og)}function Lc(t){return(t.flags&128)===128}function jg(t){if(Lc(t))return!0;let e=t.parent;for(;e;){if(Lc(t)||Ng(e))return!0;e=e.parent}return!1}var qh=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(qh||{}),Hg=new Map,n8=0;function r8(){return n8++}function i8(t){Hg.set(t[Wo],t)}function gh(t){Hg.delete(t[Wo])}var By="__ngContext__";function Fi(t,e){ot(e)?(t[By]=e[Wo],i8(e)):t[By]=e}function Vg(t){return Bg(t[Ti])}function zg(t){return Bg(t[gt])}function Bg(t){for(;t!==null&&!at(t);)t=t[gt];return t}var mh;function Uh(t){mh=t}function qg(){if(mh!==void 0)return mh;if(typeof document<"u")return document;throw new I(210,!1)}var wt=new v("",{factory:()=>o8}),o8="ng";var Zc=new v(""),_n=new v("",{providedIn:"platform",factory:()=>"unknown"});var zi=new v("",{factory:()=>p(ne).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Bi=(()=>{class t{static \u0275prov=k({token:t,providedIn:"root",factory:()=>{let n=new t;return n.store=a8(p(ne),p(wt)),n}});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function a8(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Ug="h",$g="b",s8="f",c8="n",Wg="e",Gg="t",Kc="c",$h="x",ea="r",Zg="i",Kg="n",Wh="d";var Yg="di",Xg="s",Qg="p";var sa=new v(""),Jg=!1,Gh=new v("",{factory:()=>Jg});var Zh=new v(""),em=!1,tm=new v(""),Kh=new v("",{factory:()=>new Map});var ca="ngb";var nm=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},rm=(t,e)=>{let n=t,r=n.getAttribute(ca)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var im=t=>{t.removeAttribute(gc.JSACTION),t.removeAttribute(ca),t.__jsaction_fns=void 0},om=new v("",{factory:()=>({})});function Yh(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var kh=new Map;function am(t,e){return kh.set(t,e),()=>kh.delete(t)}var qy=!1,sm=(t,e,n,r)=>{};function d8(t,e,n,r){sm(t,e,n,r)}function cm(){qy||(sm=(t,e,n,r)=>{let i=t[rt].get(wt);kh.get(i)?.(e,n,r)},qy=!0)}var Yc=new v("");function da(t){return(t.flags&32)===32}var l8="__nghData__",Xh=l8,u8="__nghDeferData__",dm=u8;var Ic="ngh",lm="nghm",um=()=>null;function h8(t,e,n=!1){let r=t.getAttribute(Ic);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let a=o?`|${o}`:"",s=n?i:a,c={};if(r!==""){let l=e.get(Bi,null,{optional:!0});l!==null&&(c=l.get(Xh,[])[Number(r)])}let d={data:c,firstChild:t.firstChild??null};return n&&(d.firstChild=t,Xc(d,0,t.nextSibling)),s?t.setAttribute(Ic,s):t.removeAttribute(Ic),d}function hm(){um=h8}function pm(t,e,n=!1){return um(t,e,n)}function fm(t){let e=t._lView;return e[C].type===2?null:(Pr(e)&&(e=e[X]),e)}function p8(t){return t.textContent?.replace(/\s/gm,"")}function f8(t){let e=qg(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let a=p8(o);return a==="ngetn"||a==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Xc(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function vh(t,e){return t.segmentHeads?.[e]??null}function ym(t){return t.get(tm,!1,{optional:!0})}function y8(t,e){let n=t.data,r=n[Wg]?.[e]??null;return r===null&&n[Kc]?.[e]&&(r=Qh(t,e)),r}function gm(t,e){return t.data[Kc]?.[e]??null}function Qh(t,e){let n=gm(t,e)??[],r=0;for(let i of n)r+=i[ea]*(i[$h]??1);return r}function g8(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Wh];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function mm(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Wh];t.disconnectedNodes=n?new Set(n):null}return!!g8(t)?.has(e)}function Qc(t,e){let n=t[Ge];return n!==null&&!cc()&&!da(e)&&!mm(n,e.index-X)}function m8(t,e){let n=e.get(Yc),i=e.get(Bi).get(dm,{}),o=!1,a=t,s=null,c=[];for(;!o&&a;){o=n.has(a);let d=n.hydrating.get(a);if(s===null&&d!=null){s=d.promise;break}c.unshift(a),a=i[a][Qg]}return{parentBlockPromise:s,hydrationQueue:c}}function rh(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===lm}function Uy(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function km(t){for(let r of t.body.childNodes)if(rh(r))return;let e=Uy(t.body.previousSibling);if(rh(e))return;let n=Uy(t.head.lastChild);if(!rh(n))throw new I(-507,!1)}function vm(t,e){let n=t.contentQueries;if(n!==null){let r=_(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=t.data[a];lc(o),s.contentQueries(2,e[a],a)}}}finally{_(r)}}}function Mh(t,e,n){lc(0);let r=_(null);try{e(t,n)}finally{_(r)}}function Jh(t,e,n){if(E1(e)){let r=_(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let s=t.data[a];if(s.contentQueries){let c=n[a];s.contentQueries(1,c,a)}}}finally{_(r)}}}var Rt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Rt||{});var Ac=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ys})`}};function Jc(t){return t instanceof Ac?t.changingThisBreaksApplicationSecurity:t}function ep(t,e){let n=Mm(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ys})`)}return n===e}function Mm(t){return t instanceof Ac&&t.getTypeName()||null}var k8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function tp(t){return t=String(t),t.match(k8)?t:"unsafe:"+t}var v8=/^>|^->|<!--|-->|--!>|<!-$/g,M8=/(<|>)/g,w8="\u200B$1\u200B";function I8(t){return t.replace(v8,e=>e.replace(M8,w8))}function wm(t,e){return t.createText(e)}function C8(t,e,n){t.setValue(e,n)}function Im(t,e){return t.createComment(I8(e))}function np(t,e,n){return t.createElement(e,n)}function Rc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Cm(t,e,n){t.appendChild(e,n)}function $y(t,e,n,r,i){r!==null?Rc(t,e,n,r,i):Cm(t,e,n)}function rp(t,e,n,r){t.removeChild(null,e,n,r)}function bm(t){t.textContent=""}function b8(t,e,n){t.setAttribute(e,"style",n)}function _8(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _m(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&zw(t,e,r),i!==null&&_8(t,e,i),o!==null&&b8(t,e,o)}var ed=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(ed||{});function td(t){let e=S8();return e?e.sanitize(ed.URL,t)||"":ep(t,"URL")?Jc(t):tp(qo(t))}function S8(){let t=j();return t&&t[Xt].sanitizer}function Sn(t){return t.ownerDocument}function Sm(t){return t.ownerDocument.body}function Dm(t){return t instanceof Function?t():t}function D8(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var xm="ng-template";function x8(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&D8(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ip(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ip(t){return t.type===4&&t.value!==xm}function E8(t,e,n){let r=t.type===4&&!n?xm:t.value;return e===r}function T8(t,e,n){let r=4,i=t.attrs,o=i!==null?R8(i):0,a=!1;for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number"){if(!a&&!At(r)&&!At(c))return!1;if(a&&At(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!E8(t,c,n)||c===""&&e.length===1){if(At(r))return!1;a=!0}}else if(r&8){if(i===null||!x8(t,i,c,n)){if(At(r))return!1;a=!0}}else{let d=e[++s],l=L8(c,i,ip(t),n);if(l===-1){if(At(r))return!1;a=!0;continue}if(d!==""){let u;if(l>o?u="":u=i[l+1].toLowerCase(),r&2&&d!==u){if(At(r))return!1;a=!0}}}}return At(r)||a}function At(t){return(t&1)===0}function L8(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=e[++i];for(;typeof s=="string";)s=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return P8(e,t)}function Em(t,e,n=!1){for(let r=0;r<e.length;r++)if(T8(t,e[r],n))return!0;return!1}function A8(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function R8(t){for(let e=0;e<t.length;e++){let n=t[e];if(Bw(n))return e}return t.length}function P8(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function O8(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Wy(t,e){return t?":not("+e.trim()+")":e}function N8(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!At(a)&&(e+=Wy(o,i),i=""),r=a,o=o||!At(r);n++}return i!==""&&(e+=Wy(o,i)),e}function F8(t){return t.map(N8).join(",")}function j8(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!At(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var on={};function op(t,e,n,r,i,o,a,s,c,d,l){let u=X+r,h=u+i,f=H8(u,h),y=typeof d=="function"?d():d;return f[C]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function H8(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:on);return n}function V8(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=op(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ap(t,e,n,r,i,o,a,s,c,d,l){let u=e.blueprint.slice();return u[$e]=i,u[A]=r|4|128|8|64|1024,(d!==null||t&&t[A]&2048)&&(u[A]|=2048),L1(u),u[ge]=u[Er]=t,u[ke]=n,u[Xt]=a||t&&t[Xt],u[te]=s||t&&t[te],u[rt]=c||t&&t[rt]||null,u[We]=o,u[Wo]=r8(),u[Ge]=l,u[x1]=d,u[Oe]=e.type==2?t[Oe]:u,u}function z8(t,e,n){let r=mt(e,t),i=V8(n),o=t[Xt].rendererFactory,a=sp(t,ap(t,i,null,Tm(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=a}function Tm(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Lm(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sp(t,e){return t[Ti]?t[D1][gt]=e:t[Ti]=e,t[D1]=e,e}function E(t=1){Am(we(),j(),Wn()+t,!1)}function Am(t,e,n,r){if(!r)if((e[A]&3)===3){let o=t.preOrderCheckHooks;o!==null&&vc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Mc(e,o,0,n)}Gn(n)}var nd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(nd||{});function wh(t,e,n,r){let i=_(null);try{let[o,a,s]=t.inputs[n],c=null;(a&nd.SignalBased)!==0&&(c=e[o][Qe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,o):Mg(e,c,o,r)}finally{_(i)}}var nn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(nn||{}),B8;function cp(t,e){return B8(t,e)}var Br=new Set,rd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(rd||{}),Dn=new v(""),Gy=new Set;function It(t){Gy.has(t)||(Gy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var dp=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=k({token:t,providedIn:"root",factory:()=>new t})}return t})(),Rm=[0,1,2,3],Pm=(()=>{class t{ngZone=p(ue);scheduler=p(wn);errorHandler=p(ft,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){p(Dn,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Z(G.AfterRenderHooksStart),this.executing=!0;for(let r of Rm)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Z(G.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Lr]??=[]).push(n),Nr(r),r[A]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(rd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=k({token:t,providedIn:"root",factory:()=>new t})}return t})(),Pc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,a=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Lr];e&&(this.view[Lr]=e.filter(n=>n!==this))}};function qi(t,e){let n=e?.injector??p(me);return It("NgAfterNextRender"),U8(t,n,e,!0)}function q8(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function U8(t,e,n,r){let i=e.get(dp);i.impl??=e.get(Pm);let o=e.get(Dn,null,{optional:!0}),a=n?.manualCleanup!==!0?e.get(ze):null,s=e.get(Ko,null,{optional:!0}),c=new Pc(i.impl,q8(t),s?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var Om=new v("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:p(he)})});function Nm(t,e,n){let r=t.get(Om);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function $8(t,e){let n=t.get(Om);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function W8(t,e){for(let[n,r]of e)Nm(t,r.animateFns)}function Zy(t,e,n,r){let i=t?.[Ar]?.enter;e!==null&&i&&i.has(n.index)&&W8(r,i)}function Ri(t,e,n,r,i,o,a,s){if(i!=null){let c,d=!1;at(i)?c=i:ot(i)&&(d=!0,i=i[$e]);let l=st(i);t===0&&r!==null?(Zy(s,r,o,n),a==null?Cm(e,r,l):Rc(e,r,l,a||null,!0)):t===1&&r!==null?(Zy(s,r,o,n),Rc(e,r,l,a||null,!0)):t===2?Ky(s,o,n,u=>{rp(e,l,d,u)}):t===3&&Ky(s,o,n,()=>{e.destroyNode(l)}),c!=null&&r6(e,t,n,c,o,r,a)}}function G8(t,e){Fm(t,e),e[$e]=null,e[We]=null}function Z8(t,e,n,r,i,o){r[$e]=i,r[We]=e,od(t,r,n,1,i,o)}function Fm(t,e){e[Xt].changeDetectionScheduler?.notify(9),od(t,e,e[te],2,null,null)}function K8(t){let e=t[Ti];if(!e)return ih(t[C],t);for(;e;){let n=null;if(ot(e))n=e[Ti];else{let r=e[pe];r&&(n=r)}if(!n){for(;e&&!e[gt]&&e!==t;)ot(e)&&ih(e[C],e),e=e[ge];e===null&&(e=t),ot(e)&&ih(e[C],e),n=e&&e[gt]}e=n}}function lp(t,e){let n=t[Rr],r=n.indexOf(e);n.splice(r,1)}function id(t,e){if($n(e))return;let n=e[te];n.destroyNode&&od(t,e,n,3,null,null),K8(e)}function ih(t,e){if($n(e))return;let n=_(null);try{e[A]&=-129,e[A]|=256,e[it]&&yr(e[it]),Q8(t,e),X8(t,e),e[C].type===1&&e[te].destroy();let r=e[qn];if(r!==null&&at(e[ge])){r!==e[ge]&&lp(r,e);let i=e[Qt];i!==null&&i.detachView(t)}gh(e)}finally{_(n)}}function Ky(t,e,n,r){let i=t?.[Ar];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Br.add(t),Nm(n,()=>{if(i.leave&&i.leave.has(e.index)){let a=i.leave.get(e.index),s=[];if(a){for(let c=0;c<a.animateFns.length;c++){let d=a.animateFns[c],{promise:l}=d();s.push(l)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(s),Y8(t,r)}else t&&Br.delete(t),r(!1)},i)}function Y8(t,e){let n=t[Ar]?.running;if(n){n.then(()=>{t[Ar].running=void 0,Br.delete(t),e(!0)});return}e(!1)}function X8(t,e){let n=t.cleanup,r=e[Ei];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(e[Ei]=null);let i=e[vn];if(i!==null){e[vn]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=e[zn];if(o!==null){e[zn]=null;for(let a of o)a.destroy()}}function Q8(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof zr)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],c=o[a+1];Z(G.LifecycleHookStart,s,c);try{c.call(s)}finally{Z(G.LifecycleHookEnd,s,c)}}else{Z(G.LifecycleHookStart,i,o);try{o.call(i)}finally{Z(G.LifecycleHookEnd,i,o)}}}}}function jm(t,e,n){return J8(t,e.parent,n)}function J8(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[$e];if(In(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Rt.None||i===Rt.Emulated)return null}return mt(r,n)}function Hm(t,e,n){return t6(t,e,n)}function e6(t,e,n){return t.type&40?mt(t,n):null}var t6=e6,Yy;function up(t,e,n,r){let i=jm(t,r,e),o=e[te],a=r.parent||e[We],s=Hm(a,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$y(o,i,n[c],s,!1);else $y(o,i,n,s,!1);Yy!==void 0&&Yy(o,r,e,n,i)}function Xo(t,e){if(e!==null){let n=e.type;if(n&3)return mt(e,t);if(n&4)return Ih(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Xo(t,r);{let i=t[e.index];return at(i)?Ih(-1,i):st(i)}}else{if(n&128)return Xo(t,e.next);if(n&32)return cp(e,t)()||st(t[e.index]);{let r=Vm(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Bn(t[Oe]);return Xo(i,r)}else return Xo(t,e.next)}}}return null}function Vm(t,e){if(e!==null){let r=t[Oe][We],i=e.projection;return r.projection[i]}return null}function Ih(t,e){let n=pe+t+1;if(n<e.length){let r=e[n],i=r[C].firstChild;if(i!==null)return Xo(r,i)}return e[Jt]}function hp(t,e,n,r,i,o,a){for(;n!=null;){let s=r[rt];if(n.type===128){n=n.next;continue}let c=r[n.index],d=n.type;if(a&&e===0&&(c&&Fi(st(c),r),n.flags|=2),!da(n))if(d&8)hp(t,e,n.child,r,i,o,!1),Ri(e,t,s,i,c,n,o,r);else if(d&32){let l=cp(n,r),u;for(;u=l();)Ri(e,t,s,i,u,n,o,r);Ri(e,t,s,i,c,n,o,r)}else d&16?zm(t,e,r,n,i,o):Ri(e,t,s,i,c,n,o,r);n=a?n.projectionNext:n.next}}function od(t,e,n,r,i,o){hp(n,r,t.firstChild,e,i,o,!1)}function n6(t,e,n){let r=e[te],i=jm(t,n,e),o=n.parent||e[We],a=Hm(o,n,e);zm(r,0,e,n,i,a)}function zm(t,e,n,r,i,o){let a=n[Oe],c=a[We].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let l=c[d];Ri(e,t,n[rt],i,l,r,o,n)}else{let d=c,l=a[ge];Lc(r)&&(d.flags|=128),hp(t,e,d,l,i,o,!0)}}function r6(t,e,n,r,i,o,a){let s=r[Jt],c=st(r);s!==c&&Ri(e,t,n,o,s,i,a);for(let d=pe;d<r.length;d++){let l=r[d];od(l[C],l,t,e,o,s)}}function i6(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:nn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=nn.Important),t.setStyle(n,r,i,o))}}function Bm(t,e,n,r,i){let o=Wn(),a=r&2;try{Gn(-1),a&&e.length>X&&Am(t,e,X,!1);let s=a?G.TemplateUpdateStart:G.TemplateCreateStart;Z(s,i,n),n(r,i)}finally{Gn(o);let s=a?G.TemplateUpdateEnd:G.TemplateCreateEnd;Z(s,i,n)}}function ad(t,e,n){u6(t,e,n),(n.flags&64)===64&&h6(t,e,n)}function la(t,e,n=mt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(e,t):t[a];t[i++]=s}}}function o6(t,e,n,r){let o=r.get(Gh,Jg)||n===Rt.ShadowDom||n===Rt.ExperimentalIsolatedShadowDom,a=t.selectRootElement(e,o);return a6(a),a}function a6(t){qm(t)}var qm=()=>null;function s6(t){Fg(t)?bm(t):f8(t)}function Um(){qm=s6}function c6(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function d6(t,e,n,r,i,o){let a=e[C];if(mp(t,a,e,n,r)){In(t)&&l6(e,t.index);return}t.type&3&&(n=c6(n)),$m(t,e,n,r,i,o)}function $m(t,e,n,r,i,o){if(t.type&3){let a=mt(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(a,n,r)}else t.type&12}function l6(t,e){let n=kt(e,t);n[A]&16||(n[A]|=64)}function u6(t,e,n){let r=n.directiveStart,i=n.directiveEnd;In(n)&&z8(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ec(n,e);let o=n.initialInputs;for(let a=r;a<i;a++){let s=t.data[a],c=Jo(e,t,a,n);if(Fi(c,e),o!==null&&g6(e,a-r,c,s,n,o),Un(s)){let d=kt(n.index,e);d[ke]=Jo(e,t,a,n)}}}function h6(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=by();try{Gn(o);for(let s=r;s<i;s++){let c=t.data[s],d=e[s];dc(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&p6(c,d)}}finally{Gn(-1),dc(a)}}function p6(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function pp(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Em(e,o.selectors,!1)&&(r??=[],Un(o)?r.unshift(o):r.push(o))}return r}function f6(t,e,n,r,i,o){let a=mt(t,e);y6(e[te],a,o,t.value,n,r,i)}function y6(t,e,n,r,i,o,a){if(o==null)t.removeAttribute(e,i,n);else{let s=a==null?qo(o):a(o,r||"",i);t.setAttribute(e,i,s,n)}}function g6(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],d=a[s+1];wh(r,n,c,d)}}function fp(t,e,n,r,i){let o=X+n,a=e[C],s=i(a,e,t,r,n);e[o]=s,Ai(t,!0);let c=t.type===2;return c?(_m(e[te],s,t),(fy()===0||Li(t))&&Fi(s,e),yy()):Fi(s,e),fc()&&(!c||!da(t))&&up(a,e,s,t),t}function yp(t){let e=t;return V1()?z1():(e=e.parent,Ai(e,!1)),e}function gp(t,e){let n=t[rt];if(!n)return;let r;try{r=n.get(Mt,null)}catch{r=null}r?.(e)}function mp(t,e,n,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let d=a[c],l=a[c+1],u=e.data[d];wh(u,n[d],l,i),s=!0}if(o)for(let c of o){let d=n[c],l=e.data[c];wh(l,d,r,i),s=!0}return s}function m6(t,e){let n=kt(e,t),r=n[C];k6(r,n);let i=n[$e];i!==null&&n[Ge]===null&&(n[Ge]=pm(i,n[rt])),Z(G.ComponentStart);try{kp(r,n,n[ke])}finally{Z(G.ComponentEnd,n[ke])}}function k6(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function kp(t,e,n){uc(e);try{let r=t.viewQuery;r!==null&&Mh(1,r,n);let i=t.template;i!==null&&Bm(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Qt]?.finishViewCreation(t),t.staticContentQueries&&vm(t,e),t.staticViewQueries&&Mh(2,t.viewQuery,n);let o=t.components;o!==null&&v6(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[A]&=-5,hc()}}function v6(t,e){for(let n=0;n<e.length;n++)m6(t,e[n])}function Ui(t,e,n,r){let i=_(null);try{let o=e.tView,s=t[A]&4096?4096:16,c=ap(t,o,n,s,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];c[qn]=d;let l=t[Qt];return l!==null&&(c[Qt]=l.createEmbeddedView(o)),kp(o,c,n),c}finally{_(i)}}function qr(t,e){return!e||e.firstChild===null||Lc(t)}function ta(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(st(o)),at(o)&&Wm(o,r);let a=n.type;if(a&8)ta(t,e,n.child,r);else if(a&32){let s=cp(n,e),c;for(;c=s();)r.push(c)}else if(a&16){let s=Vm(e,n);if(Array.isArray(s))r.push(...s);else{let c=Bn(e[Oe]);ta(c[C],c,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function Wm(t,e){for(let n=pe;n<t.length;n++){let r=t[n],i=r[C].firstChild;i!==null&&ta(r[C],r,i,e)}t[Jt]!==t[$e]&&e.push(t[Jt])}function Gm(t){if(t[Lr]!==null){for(let e of t[Lr])e.impl.addSequence(e);t[Lr].length=0}}var Zm=[];function M6(t){return t[it]??w6(t)}function w6(t){let e=Zm.pop()??Object.create(C6);return e.lView=t,e}function I6(t){t.lView[it]!==t&&(t.lView=null,Zm.push(t))}var C6=V(g({},li),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Nr(t.lView)},consumerOnSignalRead(){this.lView[it]=this}});function b6(t){let e=t[it]??Object.create(_6);return e.lView=t,e}var _6=V(g({},li),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Bn(t.lView);for(;e&&!Km(e[C]);)e=Bn(e);e&&A1(e)},consumerOnSignalRead(){this.lView[it]=this}});function Km(t){return t.type!==2}function Ym(t){if(t[zn]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[zn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[A]&8192)}}var S6=100;function Xm(t,e=0){let r=t[Xt].rendererFactory,i=!1;i||r.begin?.();try{D6(t,e)}finally{i||r.end?.()}}function D6(t,e){let n=B1();try{jo(!0),Ch(t,e);let r=0;for(;Zo(t);){if(r===S6)throw new I(103,!1);r++,Ch(t,1)}}finally{jo(n)}}function x6(t,e,n,r){if($n(e))return;let i=e[A],o=!1,a=!1;uc(e);let s=!0,c=null,d=null;o||(Km(t)?(d=M6(e),c=ui(d)):us()===null?(s=!1,d=b6(e),c=ui(d)):e[it]&&(yr(e[it]),e[it]=null));try{L1(e),My(t.bindingStartIndex),n!==null&&Bm(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let f=t.preOrderCheckHooks;f!==null&&vc(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Mc(e,f,0,null),th(e,0)}if(a||E6(e),Ym(e),Qm(e,0),t.contentQueries!==null&&vm(t,e),!o)if(l){let f=t.contentCheckHooks;f!==null&&vc(e,f)}else{let f=t.contentHooks;f!==null&&Mc(e,f,1),th(e,1)}L6(t,e);let u=t.components;u!==null&&ek(e,u,0);let h=t.viewQuery;if(h!==null&&Mh(2,h,r),!o)if(l){let f=t.viewCheckHooks;f!==null&&vc(e,f)}else{let f=t.viewHooks;f!==null&&Mc(e,f,2),th(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ic]){for(let f of e[ic])f();e[ic]=null}o||(Gm(e),e[A]&=-73)}catch(l){throw o||Nr(e),l}finally{d!==null&&(So(d,c),s&&I6(d)),hc()}}function Qm(t,e){for(let n=Vg(t);n!==null;n=zg(n))for(let r=pe;r<n.length;r++){let i=n[r];Jm(i,e)}}function E6(t){for(let e=Vg(t);e!==null;e=zg(e)){if(!(e[A]&2))continue;let n=e[Rr];for(let r=0;r<n.length;r++){let i=n[r];A1(i)}}}function T6(t,e,n){Z(G.ComponentStart);let r=kt(e,t);try{Jm(r,n)}finally{Z(G.ComponentEnd,r[ke])}}function Jm(t,e){oc(t)&&Ch(t,e)}function Ch(t,e){let r=t[C],i=t[A],o=t[it],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&Do(o)),a||=!1,o&&(o.dirty=!1),t[A]&=-9217,a)x6(r,t,r.template,t[ke]);else if(i&8192){let s=_(null);try{Ym(t),Qm(t,1);let c=r.components;c!==null&&ek(t,c,1),Gm(t)}finally{_(s)}}}function ek(t,e,n){for(let r=0;r<e.length;r++)T6(t,e[r],n)}function L6(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gn(~i);else{let o=i,a=n[++r],s=n[++r];Cy(a,o);let c=e[o];Z(G.HostBindingsUpdateStart,c);try{s(2,c)}finally{Z(G.HostBindingsUpdateEnd,c)}}}}finally{Gn(-1)}}function sd(t,e){let n=B1()?64:1088;for(t[Xt].changeDetectionScheduler?.notify(e);t;){t[A]|=n;let r=Bn(t);if(Pr(t)&&!r)return t;t=r}return null}function tk(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function nk(t,e){let n=pe+e;if(n<t.length)return t[n]}function $i(t,e,n,r=!0){let i=e[C];if(A6(i,e,t,n),r){let a=Ih(n,t),s=e[te],c=s.parentNode(t[Jt]);c!==null&&Z8(i,t[We],s,e,c,a)}let o=e[Ge];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vp(t,e){let n=na(t,e);return n!==void 0&&id(n[C],n),n}function na(t,e){if(t.length<=pe)return;let n=pe+e,r=t[n];if(r){let i=r[qn];i!==null&&i!==t&&lp(i,r),e>0&&(t[n-1][gt]=r[gt]);let o=Uo(t,pe+e);G8(r[C],r);let a=o[Qt];a!==null&&a.detachView(o[C]),r[ge]=null,r[gt]=null,r[A]&=-129}return r}function A6(t,e,n,r){let i=pe+r,o=n.length;r>0&&(n[i-1][gt]=e),r<o-pe?(e[gt]=n[i],I1(n,pe+r,e)):(n.push(e),e[gt]=null),e[ge]=n;let a=e[qn];a!==null&&n!==a&&rk(a,e);let s=e[Qt];s!==null&&s.insertView(t),ac(e),e[A]|=128}function rk(t,e){let n=t[Rr],r=e[ge];if(ot(r))t[A]|=2;else{let i=r[ge][Oe];e[Oe]!==i&&(t[A]|=2)}n===null?t[Rr]=[e]:n.push(e)}var Zn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[C];return ta(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ke]}set context(e){this._lView[ke]=e}get destroyed(){return $n(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ge];if(at(e)){let n=e[Go],r=n?n.indexOf(this):-1;r>-1&&(na(e,r),Uo(n,r))}this._attachedToViewContainer=!1}id(this._lView[C],this._lView)}onDestroy(e){R1(this._lView,e)}markForCheck(){sd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A]&=-129}reattach(){ac(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,Xm(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Pr(this._lView),n=this._lView[qn];n!==null&&!e&&lp(n,this._lView),Fm(this._lView[C],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=Pr(this._lView),r=this._lView[qn];r!==null&&!n&&rk(r,this._lView),ac(this._lView)}};var rn=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=R6;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Ui(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Zn(o)}}return t})();function R6(){return cd(Ve(),j())}function cd(t,e){return t.type&4?new rn(e,t,Vi(t,e)):null}function Wi(t,e,n,r,i){let o=t.data[e];if(o===null)o=P6(t,e,n,r,i),Iy()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=my();o.injectorIndex=a===null?-1:a.injectorIndex}return Ai(o,!0),o}function P6(t,e,n,r,i){let o=H1(),a=V1(),s=a?o:o&&o.parent,c=t.data[e]=N6(t,s,n,e,r,i);return O6(t,c,o,a),c}function O6(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function N6(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,s=0;return cc()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var F6=new RegExp(`^(\\d+)*(${$g}|${Ug})*(.*)`);function j6(t){let e=t.match(F6),[n,r,i,o]=e,a=r?parseInt(r,10):i,s=[];for(let[c,d,l]of o.matchAll(/(f|n)(\d*)/g)){let u=parseInt(l,10)||1;s.push(d,u)}return[a,...s]}function H6(t){return!t.prev&&t.parent?.type===8}function oh(t){return t.index-X}function V6(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function dd(t,e,n,r){let i=oh(r),o=V6(t,i);if(o===void 0){let a=t.data[Kg];if(a?.[i])o=B6(a[i],n);else if(e.firstChild===r)o=t.firstChild;else{let s=r.prev===null,c=r.prev??r.parent;if(H6(r)){let d=oh(r.parent);o=vh(t,d)}else{let d=mt(c,n);if(s)o=d.firstChild;else{let l=oh(c),u=vh(t,l);if(c.type===2&&u){let f=Qh(t,l)+1;o=ld(f,u)}else o=d.nextSibling}}}}return o}function ld(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function z6(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let a=0;a<o;a++)switch(i){case s8:n=n.firstChild;break;case c8:n=n.nextSibling;break}}return n}function B6(t,e){let[n,...r]=j6(t),i;if(n===Ug)i=e[Oe][$e];else if(n===$g)i=Sm(e[Oe][$e]);else{let o=Number(n);i=st(e[o+X])}return z6(i,r)}var q6=!1;function ik(t){q6=t}function U6(t){let e=t[Ge];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[te];for(let o of r.values())$6(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function $6(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-X);i&&rp(t,i,!1)}}function ud(t){let e=t[Lt]??[],r=t[ge][te],i=[];for(let o of e)o.data[Yg]!==void 0?i.push(o):ok(o,r);t[Lt]=i}function W6(t){let{lContainer:e}=t,n=e[Lt];if(n===null)return;let i=e[ge][te];for(let o of n)ok(o,i)}function ok(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ea];for(;n<i;){let o=r.nextSibling;rp(e,r,!1),r=o,n++}}}function hd(t){ud(t);let e=t[$e];ot(e)&&Oc(e);for(let n=pe;n<t.length;n++)Oc(t[n])}function Oc(t){U6(t);let e=t[C];for(let n=X;n<e.bindingStartIndex;n++)if(at(t[n])){let r=t[n];hd(r)}else ot(t[n])&&Oc(t[n])}function Mp(t){let e=t._views;for(let n of e){let r=fm(n);r!==null&&r[$e]!==null&&(ot(r)?Oc(r):hd(r))}}function G6(t,e,n,r){t!==null&&(n.cleanup(e),hd(t.lContainer),Mp(r))}function Z6(t,e){let n=[];for(let r of e)for(let i=0;i<(r[$h]??1);i++){let o={data:r,firstChild:null};r[ea]>0&&(o.firstChild=t,t=ld(r[ea],t)),n.push(o)}return[t,n]}var ak=()=>null,sk=()=>null;function ck(){ak=K6,sk=Y6}function K6(t,e){return lk(t,e)?t[Lt].shift():(ud(t),null)}function ra(t,e){return ak(t,e)}function Y6(t,e,n){if(e.tView.ssrId===null)return null;let r=ra(t,e.tView.ssrId);return n[C].firstUpdatePass&&r===null&&X6(n,e),r}function dk(t,e,n){return sk(t,e,n)}function X6(t,e){let n=e;for(;n;){if(Xy(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(Xy(t,n))return;n=n.next}}function lk(t,e){let n=t[Lt];return!e||n===null||n.length===0?!1:n[0].data[Zg]===e}function Xy(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return at(r)&&lk(r,n)?(ud(r),!0):!1}var uk=class{},pd=class{},bh=class{resolveComponentFactory(e){throw new I(917,!1)}},ua=class{static NULL=new bh},lt=class{},ha=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Q6()}return t})();function Q6(){let t=j(),e=Ve(),n=kt(e.index,t);return(ot(n)?n:t)[te]}var hk=(()=>{class t{static \u0275prov=k({token:t,providedIn:"root",factory:()=>null})}return t})();var Cc={},Oi=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Cc,r);return i!==Cc||n===Cc?i:this.parentInjector.get(e,n,r)}};function Nc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let s=e[a];if(typeof s=="number")o=s;else if(o==1)i=l1(i,s);else if(o==2){let c=s,d=e[++a];r=l1(r,c+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Te(t,e=0){let n=j();if(n===null)return x(t,e);let r=Ve();return Ag(r,n,Re(t),e)}function pk(t,e,n,r,i){let o=r===null?null:{"":-1},a=i(t,n);if(a!==null){let s=a,c=null,d=null;for(let l of a)if(l.resolveHostDirectives!==null){[s,c,d]=l.resolveHostDirectives(a);break}tI(t,e,n,s,o,c,d)}o!==null&&r!==null&&J6(n,r,o)}function J6(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}function eI(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tI(t,e,n,r,i,o,a){let s=r.length,c=null;for(let h=0;h<s;h++){let f=r[h];c===null&&Un(f)&&(c=f,eI(t,n,h)),fh(Ec(n,e),t,f.type)}sI(n,t.data.length,s),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<s;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let d=!1,l=!1,u=Lm(t,e,s,null);s>0&&(n.directiveToIndex=new Map);for(let h=0;h<s;h++){let f=r[h];if(n.mergedAttrs=Wc(n.mergedAttrs,f.hostAttrs),rI(t,n,e,u,f),aI(u,f,i),a!==null&&a.has(f)){let[w,m]=a.get(f);n.directiveToIndex.set(f.type,[u,w+n.directiveStart,m+n.directiveStart])}else(o===null||!o.has(f))&&n.directiveToIndex.set(f.type,u);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let y=f.type.prototype;!d&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),u++}nI(t,n,o)}function nI(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Qy(0,e,i,r),Qy(1,e,i,r),eg(e,r,!1);else{let o=n.get(i);Jy(0,e,o,r),Jy(1,e,o,r),eg(e,r,!0)}}}function Qy(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(r),fk(e,o)}}function Jy(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;t===0?s=e.hostDirectiveInputs??={}:s=e.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),fk(e,a)}}function fk(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function eg(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ip(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let d=i[c];for(let l of d)if(l===e){a??=[],a.push(c,r[s+1]);break}}else if(n&&o.hasOwnProperty(c)){let d=o[c];for(let l=0;l<d.length;l+=2)if(d[l]===e){a??=[],a.push(d[l+1],r[s+1]);break}}s+=2}t.initialInputs??=[],t.initialInputs.push(a)}function rI(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=br(i.type,!0)),a=new zr(o,Un(i),Te,null);t.blueprint[r]=a,n[r]=a,iI(t,e,r,Lm(t,n,i.hostVars,on),i)}function iI(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let s=~e.index;oI(a)!=s&&a.push(s),a.push(n,r,o)}}function oI(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function aI(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Un(e)&&(n[""]=t)}}function sI(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wp(t,e,n,r,i,o,a,s){let c=e[C],d=c.consts,l=vt(d,a),u=Wi(c,t,n,r,l);return o&&pk(c,e,u,vt(d,s),i),u.mergedAttrs=Wc(u.mergedAttrs,u.attrs),u.attrs!==null&&Nc(u,u.attrs,!1),u.mergedAttrs!==null&&Nc(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function Ip(t,e){bg(t,e),E1(e)&&t.queries.elementEnd(e)}function cI(t,e,n,r,i,o){let a=e.consts,s=vt(a,i),c=Wi(e,t,n,r,s);if(c.mergedAttrs=Wc(c.mergedAttrs,c.attrs),o!=null){let d=vt(a,o);c.localNames=[];for(let l=0;l<d.length;l+=2)c.localNames.push(d[l],-1)}return c.attrs!==null&&Nc(c,c.attrs,!1),c.mergedAttrs!==null&&Nc(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function dI(t,e,n){return t[e]=n}function lI(t,e){return t[e]}function Wr(t,e,n){if(n===on)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function bc(t,e,n){return function r(i){let o=In(t)?kt(t.index,e):e;sd(o,5);let a=e[ke],s=tg(e,a,n,i),c=r.__ngNextListenerFn__;for(;c;)s=tg(e,a,c,i)&&s,c=c.__ngNextListenerFn__;return s}}function tg(t,e,n,r){let i=_(null);try{return Z(G.OutputStart,e,n),n(r)!==!1}catch(o){return gp(t,o),!1}finally{Z(G.OutputEnd,e,n),_(i)}}function yk(t,e,n,r,i,o,a,s){let c=Li(t),d=!1,l=null;if(!r&&c&&(l=hI(e,n,o,t.index)),l!==null){let u=l.__ngLastListenerFn__||l;u.__ngNextListenerFn__=a,l.__ngLastListenerFn__=a,d=!0}else{let u=mt(t,n),h=r?r(u):u;d8(n,h,o,s);let f=i.listen(h,o,s);if(!uI(o)){let y=r?w=>r(st(w[t.index])):t.index;gk(y,e,n,o,s,f,!1)}}return d}function uI(t){return t.startsWith("animation")||t.startsWith("transition")}function hI(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=e[Ei],c=i[o+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(o+=2)}return null}function gk(t,e,n,r,i,o,a){let s=e.firstCreatePass?O1(e):null,c=P1(n),d=c.length;c.push(i,o),s&&s.push(r,t,d,(d+1)*(a?-1:1))}function ng(t,e,n,r,i,o){let a=e[n],s=e[C],d=s.data[n].outputs[r],u=a[d].subscribe(o);gk(t.index,s,e,i,o,u,!0)}var _h=Symbol("BINDING");var Fc=class extends ua{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Tt(e);return new Kn(n,this.ngModule)}};function pI(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&nd.SignalBased)!==0};return i&&(o.transform=i),o})}function fI(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function yI(t,e,n){let r=e instanceof he?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Oi(n,r):n}function gI(t){let e=t.get(lt,null);if(e===null)throw new I(407,!1);let n=t.get(hk,null),r=t.get(wn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function mI(t,e){let n=mk(t);return np(e,n,n==="svg"?ay:n==="math"?sy:null)}function mk(t){return(t.selectors[0][0]||"div").toLowerCase()}var Kn=class extends pd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=pI(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=fI(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=F8(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,a){Z(G.DynamicComponentStart);let s=_(null);try{let c=this.componentDef,d=kI(r,c,a,o),l=yI(c,i||this.ngModule,e),u=gI(l),h=u.rendererFactory.createRenderer(null,c),f=r?o6(h,r,c.encapsulation,l):mI(c,h),y=a?.some(rg)||o?.some(M=>typeof M!="function"&&M.bindings.some(rg)),w=ap(null,d,null,512|Tm(c),null,null,u,h,l,null,pm(f,l,!0));w[X]=f,uc(w);let m=null;try{let M=wp(X,w,2,"#host",()=>d.directiveRegistry,!0,0);_m(h,f,M),Fi(f,w),ad(d,w,M),Jh(d,M,w),Ip(d,M),n!==void 0&&MI(M,this.ngContentSelectors,n),m=kt(M.index,w),w[ke]=m[ke],kp(d,w,null)}catch(M){throw m!==null&&gh(m),gh(w),M}finally{Z(G.DynamicComponentEnd),hc()}return new jc(this.componentType,w,!!y)}finally{_(s)}}};function kI(t,e,n,r){let i=t?["ng-version","21.0.6"]:j8(e.selectors[0]),o=null,a=null,s=0;if(n)for(let l of n)s+=l[_h].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(a??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let u=r[l];if(typeof u!="function")for(let h of u.bindings){s+=h[_h].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(o??=[]).push(h)),h.update&&(h.targetIdx=f,(a??=[]).push(h))}}let c=[e];if(r)for(let l of r){let u=typeof l=="function"?l:l.type,h=Qs(u);c.push(h)}return op(0,null,vI(o,a),1,s,c,null,null,null,[i],null)}function vI(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function rg(t){let e=t[_h].kind;return e==="input"||e==="twoWay"}var jc=class extends uk{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Or(n[C],X),this.location=Vi(this._tNode,n),this.instance=kt(this._tNode.index,n)[ke],this.hostView=this.changeDetectorRef=new Zn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=mp(r,i[C],i,e,n);this.previousInputValues.set(e,n);let a=kt(r.index,i);sd(a,1)}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MI(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Pt=(()=>{class t{static __NG_ELEMENT_ID__=wI}return t})();function wI(){let t=Ve();return vk(t,j())}var II=Pt,kk=class extends II{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vi(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bh(this._hostTNode,this._hostLView);if(Sg(e)){let n=xc(e,this._hostLView),r=Dc(e),i=n[C].data[r+8];return new Vr(i,n)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ig(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=ra(this._lContainer,e.ssrId),s=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,qr(this._hostTNode,a)),s}createComponent(e,n,r,i,o,a,s){let c=e&&!Rw(e),d;if(c)d=n;else{let m=n||{};d=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,a=m.directives,s=m.bindings}let l=c?e:new Kn(Tt(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let M=(c?u:this.parentInjector).get(he,null);M&&(o=M)}let h=Tt(l.componentType??{}),f=ra(this._lContainer,h?.id??null),y=f?.firstChild??null,w=l.create(u,i,y,o,a,s);return this.insertImpl(w.hostView,d,qr(this._hostTNode,f)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ly(i)){let s=this.indexOf(e);if(s!==-1)this.detach(s);else{let c=i[ge],d=new kk(c,c[We],c[ge]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return $i(a,i,o,r),e.attachToViewContainerRef(),I1(ah(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ig(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=na(this._lContainer,n);r&&(Uo(ah(this._lContainer),n),id(r[C],r))}detach(e){let n=this._adjustIndex(e,-1),r=na(this._lContainer,n);return r&&Uo(ah(this._lContainer),n)!=null?new Zn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ig(t){return t[Go]}function ah(t){return t[Go]||(t[Go]=[])}function vk(t,e){let n,r=e[t.index];return at(r)?n=r:(n=tk(r,e,null,t),e[t.index]=n,sp(e,n)),Mk(n,e,t,r),new kk(n,t,e)}function CI(t,e){let n=t[te],r=n.createComment(""),i=mt(e,t),o=n.parentNode(i);return Rc(n,o,r,n.nextSibling(i),!1),r}var Mk=wk,Cp=()=>!1;function bI(t,e,n){return Cp(t,e,n)}function wk(t,e,n,r){if(t[Jt])return;let i;n.type&8?i=st(r):i=CI(e,n),t[Jt]=i}function _I(t,e,n){if(t[Jt]&&t[Lt])return!0;let r=n[Ge],i=e.index-X;if(!r||jg(e)||mm(r,i))return!1;let a=vh(r,i),s=r.data[Kc]?.[i],[c,d]=Z6(a,s);return t[Jt]=c,t[Lt]=d,!0}function SI(t,e,n,r){Cp(t,n,e)||wk(t,e,n,r)}function Ik(){Mk=SI,Cp=_I}var Sh=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Dh=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)bp(e,n).matches!==null&&this.queries[n].setDirty()}},xh=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=PI(e):this.predicate=e}},Eh=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Th=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,DI(n,o)),this.matchTNodeWithReadOption(e,n,wc(n,e,o,!1,!1))}else r===rn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,wc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xe||i===Pt||i===rn&&n.type&4)this.addMatch(n.index,-2);else{let o=wc(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function DI(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function xI(t,e){return t.type&11?Vi(t,e):t.type&4?cd(t,e):null}function EI(t,e,n,r){return n===-1?xI(e,t):n===-2?TI(t,e,r):Jo(t,t[C],n,e)}function TI(t,e,n){if(n===xe)return Vi(e,t);if(n===rn)return cd(e,t);if(n===Pt)return vk(e,t)}function Ck(t,e,n,r){let i=e[Qt].queries[r];if(i.matches===null){let o=t.data,a=n.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let d=a[c];if(d<0)s.push(null);else{let l=o[d];s.push(EI(e,l,a[c+1],n.metadata.read))}}i.matches=s}return i.matches}function Lh(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=Ck(t,e,i,n);for(let s=0;s<o.length;s+=2){let c=o[s];if(c>0)r.push(a[s/2]);else{let d=o[s+1],l=e[-c];for(let u=pe;u<l.length;u++){let h=l[u];h[qn]===h[ge]&&Lh(h[C],h,d,r)}if(l[Rr]!==null){let u=l[Rr];for(let h=0;h<u.length;h++){let f=u[h];Lh(f[C],f,d,r)}}}}}return r}function LI(t,e){return t[Qt].queries[e].queryList}function AI(t,e,n){let r=new Tc((n&4)===4);return py(t,e,r,r.destroy),(e[Qt]??=new Dh).queries.push(new Sh(r))-1}function RI(t,e,n){let r=we();return r.firstCreatePass&&(OI(r,new xh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),AI(r,j(),e)}function PI(t){return t.split(",").map(e=>e.trim())}function OI(t,e,n){t.queries===null&&(t.queries=new Eh),t.queries.track(new Th(e,n))}function bp(t,e){return t.queries.getByIndex(e)}function NI(t,e){let n=t[C],r=bp(n,e);return r.crossesNgTemplate?Lh(n,t,e,[]):Ck(n,t,r,e)}var Ur=class{},fd=class{};var Hc=class extends Ur{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=k1(e);this._bootstrapComponents=Dm(o.bootstrap),this._r3Injector=G1(e,n,[{provide:Ur,useValue:this},{provide:ua,useValue:this.componentFactoryResolver},...r],Mn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vc=class extends fd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Hc(this.moduleType,e,[])}};var ia=class extends Ur{injector;componentFactoryResolver=new Fc(this);instance=null;constructor(e){super();let n=new Sr([...e.providers,{provide:Ur,useValue:this},{provide:ua,useValue:this.componentFactoryResolver}],e.parent||xi(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gi(t,e,n=null){return new ia({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var FI=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=rc(!1,n.type),i=r.length>0?Gi([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:t,providedIn:"environment",factory:()=>new t(x(he))})}return t})();function se(t){return Hi(()=>{let e=bk(t),n=V(g({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(FI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rt.Emulated,styles:t.styles||pt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&It("NgStandalone"),_k(n);let r=t.dependencies;return n.directiveDefs=og(r,jI),n.pipeDefs=og(r,v1),n.id=zI(n),n})}function jI(t){return Tt(t)||Qs(t)}function Ct(t){return Hi(()=>({type:t.type,bootstrap:t.bootstrap||pt,declarations:t.declarations||pt,imports:t.imports||pt,exports:t.exports||pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function HI(t,e){if(t==null)return xr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,s,c;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,c=i[3]||null):(o=i,a=i,s=nd.None,c=null),n[o]=[r,s,c],e[o]=a}return n}function VI(t){if(t==null)return xr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ot(t){return Hi(()=>{let e=bk(t);return _k(e),e})}function bk(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||xr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:HI(t.inputs,e),outputs:VI(t.outputs),debugInfo:null}}function _k(t){t.features?.forEach(e=>e(t))}function og(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function zI(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Sk(t,e,n,r,i,o,a,s){if(n.firstCreatePass){t.mergedAttrs=Wc(t.mergedAttrs,t.attrs);let l=t.tView=op(2,t,i,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}s&&(t.flags|=s),Ai(t,!1);let c=Dk(n,e,t,r);fc()&&up(n,e,c,t),Fi(c,e);let d=tk(c,e,c,t);e[r+X]=d,sp(e,d),bI(d,t,e)}function BI(t,e,n,r,i,o,a,s,c,d,l){let u=n+X,h;return e.firstCreatePass?(h=Wi(e,u,4,a||null,s||null),sc()&&pk(e,t,h,vt(e.consts,d),pp),bg(e,h)):h=e.data[u],Sk(h,t,e,n,r,i,o,c),Li(h)&&ad(e,t,h),d!=null&&la(t,h,l),h}function oa(t,e,n,r,i,o,a,s,c,d,l){let u=n+X,h;if(e.firstCreatePass){if(h=Wi(e,u,4,a||null,s||null),d!=null){let f=vt(e.consts,d);h.localNames=[];for(let y=0;y<f.length;y+=2)h.localNames.push(f[y],-1)}}else h=e.data[u];return Sk(h,t,e,n,r,i,o,c),d!=null&&la(t,h,l),h}function Yn(t,e,n,r,i,o,a,s){let c=j(),d=we(),l=vt(d.consts,o);return BI(c,d,t,e,n,r,i,l,void 0,a,s),Yn}var Dk=xk;function xk(t,e,n,r){return Cn(!0),e[te].createComment("")}function qI(t,e,n,r){let i=!Qc(e,n);Cn(i);let o=e[Ge]?.data[Gg]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return xk(t,e);let a=e[Ge],s=dd(a,t,e,n);Xc(a,r,s);let c=Qh(a,r);return ld(c,s)}function Ek(){Dk=qI}var dt=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(dt||{}),ag=0,UI=1,Ie=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Ie||{});var $I=0,pa=1;var WI=4,GI=5;var ZI=7,Ni=8,KI=9,_p=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(_p||{});function _c(t,e){let n=XI(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function YI(t){_c(1,t),_c(0,t),_c(2,t)}function XI(t){let e=WI;return t===1?e=GI:t===2&&(e=KI),e}function Tk(t){return t+1}function Zi(t,e){let n=t[C],r=Tk(e.index);return t[r]}function fa(t,e){let n=Tk(e.index);return t.data[n]}function QI(t,e,n){let r=e[C],i=fa(r,n);switch(t){case Ie.Complete:return i.primaryTmplIndex;case Ie.Loading:return i.loadingTmplIndex;case Ie.Error:return i.errorTmplIndex;case Ie.Placeholder:return i.placeholderTmplIndex;default:return null}}function sg(t,e){return e===Ie.Placeholder?t.placeholderBlockConfig?.[ag]??null:e===Ie.Loading?t.loadingBlockConfig?.[ag]??null:null}function JI(t){return t.loadingBlockConfig?.[UI]??null}function cg(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function eC(t,e){let n=e.primaryTmplIndex+X;return Or(t,n)}var tC=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let a=i.length>0?Gi(i,r,o):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:t,providedIn:"environment",factory:()=>new t})}return t})();var Lk=new v("");function sh(t,e,n){return t.get(tC).getOrCreateInjector(e,t,n,"")}function nC(t,e,n){if(t instanceof Oi){let i=t.injector,o=t.parentInjector,a=sh(o,e,n);return new Oi(i,a)}let r=t.get(he);if(r!==t){let i=sh(r,e,n);return new Oi(t,i)}return sh(t,e,n)}function Hr(t,e,n,r=!1){let i=n[ge],o=i[C];if($n(i))return;let a=Zi(i,e),s=a[pa],c=a[ZI];if(!(c!==null&&t<c)&&dg(s,t)&&dg(a[$I]??-1,t)){let d=fa(o,e),u=!r&&!0&&(JI(d)!==null||sg(d,Ie.Loading)!==null||sg(d,Ie.Placeholder))?oC:iC;try{u(t,a,n,e,i)}catch(h){gp(i,h)}}}function rC(t,e){let n=t[Lt]?.findIndex(i=>i.data[Xg]===e[pa])??-1;return{dehydratedView:n>-1?t[Lt][n]:null,dehydratedViewIx:n}}function iC(t,e,n,r,i){Z(G.DeferBlockStateStart);let o=QI(t,i,r);if(o!==null){e[pa]=t;let a=i[C],s=o+X,c=Or(a,s),d=0;vp(n,d);let l;if(t===Ie.Complete){let y=fa(a,r),w=y.providers;w&&w.length>0&&(l=nC(i[rt],y,w))}let{dehydratedView:u,dehydratedViewIx:h}=rC(n,e),f=Ui(i,c,null,{injector:l,dehydratedView:u});if($i(n,f,d,qr(c,u)),sd(f,2),h>-1&&n[Lt]?.splice(h,1),(t===Ie.Complete||t===Ie.Error)&&Array.isArray(e[Ni])){for(let y of e[Ni])y();e[Ni]=null}}Z(G.DeferBlockStateEnd)}function dg(t,e){return t<e}function lg(t,e,n){t.loadingPromise.then(()=>{t.loadingState===dt.COMPLETE?Hr(Ie.Complete,e,n):t.loadingState===dt.FAILED&&Hr(Ie.Error,e,n)})}var oC=null;var yd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Sp=new v("");function Ki(t){return!!t&&typeof t.then=="function"}function Dp(t){return!!t&&typeof t.subscribe=="function"}var Ak=new v("");var xp=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=p(Ak,{optional:!0})??[];injector=p(me);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Pe(this.injector,i);if(Ki(o))n.push(o);else if(Dp(o)){let a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xn=new v("");function Rk(){xu(()=>{let t="";throw new I(600,t)})}function Pk(t){return t.isBoundToModule}var aC=10;var Be=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=p(Mt);afterRenderManager=p(dp);zonelessEnabled=p(Yo);rootEffectScheduler=p(yc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new T;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=p(en);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(F(n=>!n))}constructor(){p(Dn,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=p(he);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=me.NULL){return this._injector.get(ue).run(()=>{Z(G.BootstrapComponentStart);let a=n instanceof pd;if(!this._injector.get(xp).done){let y="";throw new I(405,y)}let c;a?c=n:c=this._injector.get(ua).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=Pk(c)?void 0:this._injector.get(Ur),l=r||c.selector,u=c.create(i,[],l,d),h=u.location.nativeElement,f=u.injector.get(Sp,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Qo(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),Z(G.BootstrapComponentEnd,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Z(G.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(rd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Z(G.ChangeDetectionEnd),new I(101,!1);let n=_(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,_(n),this.afterTick.next(),Z(G.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(lt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<aC;){Z(G.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Z(G.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Zo(i))continue;let o=r&&!this.zonelessEnabled?0:1;Xm(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Zo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Qo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Xn,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qo(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sC(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Ok(t,e,n){let r=e[rt],i=e[C];if(t.loadingState!==dt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Zi(e,n),a=eC(i,t);t.loadingState=dt.IN_PROGRESS,_c(1,o);let s=t.dependencyResolverFn,c=r.get(jr).add();return s?(t.loadingPromise=Promise.allSettled(s()).then(d=>{let l=!1,u=[],h=[];for(let f of d)if(f.status==="fulfilled"){let y=f.value,w=Tt(y)||Qs(y);if(w)u.push(w);else{let m=v1(y);m&&h.push(m)}}else{l=!0;break}if(l){if(t.loadingState=dt.FAILED,t.errorTmplIndex===null){let y=new I(-750,!1);gp(e,y)}}else{t.loadingState=dt.COMPLETE;let f=a.tView;if(u.length>0){f.directiveRegistry=cg(f.directiveRegistry,u);let y=u.map(m=>m.type),w=rc(!1,...y);t.providers=w}h.length>0&&(f.pipeRegistry=cg(f.pipeRegistry,h))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,c()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=dt.COMPLETE,c()}),t.loadingPromise)}function cC(t,e){return e[rt].get(Lk,null,{optional:!0})?.behavior!==_p.Manual}function dC(t,e,n){let r=e[C],i=e[n.index];if(!cC(t,e))return;let o=Zi(e,n),a=fa(r,n);switch(YI(o),a.loadingState){case dt.NOT_STARTED:Hr(Ie.Loading,n,i),Ok(a,e,n),a.loadingState===dt.IN_PROGRESS&&lg(a,n,i);break;case dt.IN_PROGRESS:Hr(Ie.Loading,n,i),lg(a,n,i);break;case dt.COMPLETE:Hr(Ie.Complete,n,i);break;case dt.FAILED:Hr(Ie.Error,n,i);break;default:}}async function Nk(t,e,n){let r=t.get(Yc);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:a}=m8(e,t);if(a.length===0)return;o!==null&&a.shift(),hC(r,a),o!==null&&await o;let s=a[0];r.has(s)?await ug(t,a,n):r.awaitParentBlock(s,async()=>await ug(t,a,n))}async function ug(t,e,n){let r=t.get(Yc),i=r.hydrating,o=t.get(en),a=o.add();for(let c=0;c<e.length;c++){let d=e[c],l=r.get(d);if(l!=null){if(await fC(l),await pC(t),lC(l)){W6(l),hg(e.slice(c),r);break}i.get(d).resolve()}else{uC(c,e,r),hg(e.slice(c),r);break}}let s=e[e.length-1];await i.get(s)?.promise,o.remove(a),n&&n(e),G6(r.get(s),e,r,t.get(Be))}function lC(t){return Zi(t.lView,t.tNode)[pa]===Ie.Error}function uC(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&hd(i.lContainer)}function hg(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function hC(t,e){for(let n of e)t.hydrating.set(n,sC())}function pC(t){return new Promise(e=>qi(e,{injector:t}))}async function fC(t){let{tNode:e,lView:n}=t,r=Zi(n,e);return new Promise(i=>{yC(r,i),dC(2,n,e)})}function yC(t,e){Array.isArray(t[Ni])||(t[Ni]=[]),t[Ni].push(e)}function gd(t,e,n,r){let i=j(),o=Fr();if(Wr(i,o,e)){let a=we(),s=pc();f6(s,i,t,e,n,r)}return gd}var Aj=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Ah=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function ch(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function gC(t,e,n,r){let i,o,a=0,s=t.length-1,c=void 0;if(Array.isArray(e)){_(r);let d=e.length-1;for(_(null);a<=s&&a<=d;){let l=t.at(a),u=e[a],h=ch(a,l,a,u,n);if(h!==0){h<0&&t.updateValue(a,u),a++;continue}let f=t.at(s),y=e[d],w=ch(s,f,d,y,n);if(w!==0){w<0&&t.updateValue(s,y),s--,d--;continue}let m=n(a,l),M=n(s,f),Y=n(a,u);if(Object.is(Y,M)){let fe=n(d,y);Object.is(fe,m)?(t.swap(a,s),t.updateValue(s,y),d--,s--):t.move(s,a),t.updateValue(a,u),a++;continue}if(i??=new zc,o??=fg(t,a,s,n),Rh(t,i,a,Y))t.updateValue(a,u),a++,s++;else if(o.has(Y))i.set(m,t.detach(a)),s--;else{let fe=t.create(a,e[a]);t.attach(a,fe),a++,s++}}for(;a<=d;)pg(t,i,n,a,e[a]),a++}else if(e!=null){_(r);let d=e[Symbol.iterator]();_(null);let l=d.next();for(;!l.done&&a<=s;){let u=t.at(a),h=l.value,f=ch(a,u,a,h,n);if(f!==0)f<0&&t.updateValue(a,h),a++,l=d.next();else{i??=new zc,o??=fg(t,a,s,n);let y=n(a,h);if(Rh(t,i,a,y))t.updateValue(a,h),a++,s++,l=d.next();else if(!o.has(y))t.attach(a,t.create(a,h)),a++,s++,l=d.next();else{let w=n(a,u);i.set(w,t.detach(a)),s--}}}for(;!l.done;)pg(t,i,n,t.length,l.value),l=d.next()}for(;a<=s;)t.destroy(t.detach(s--));i?.forEach(d=>{t.destroy(d)})}function Rh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function pg(t,e,n,r,i){if(Rh(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function fg(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var zc=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Ce(t,e,n,r,i,o,a,s){It("NgControlFlow");let c=j(),d=we(),l=vt(d.consts,o);return oa(c,d,t,e,n,r,i,l,256,a,s),Ep}function Ep(t,e,n,r,i,o,a,s){It("NgControlFlow");let c=j(),d=we(),l=vt(d.consts,o);return oa(c,d,t,e,n,r,i,l,512,a,s),Ep}function be(t,e){It("NgControlFlow");let n=j(),r=Fr(),i=n[r]!==on?n[r]:-1,o=i!==-1?Bc(n,X+i):void 0,a=0;if(Wr(n,r,t)){let s=_(null);try{if(o!==void 0&&vp(o,a),t!==-1){let c=X+t,d=Bc(n,c),l=Fh(n[C],c),u=dk(d,l,n),h=Ui(n,l,e,{dehydratedView:u});$i(d,h,a,qr(l,u))}}finally{_(s)}}else if(o!==void 0){let s=nk(o,a);s!==void 0&&(s[ke]=e)}}var Ph=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-pe}};function Tp(t){return t}var Oh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Qn(t,e,n,r,i,o,a,s,c,d,l,u,h){It("NgControlFlow");let f=j(),y=we(),w=c!==void 0,m=j(),M=s?a.bind(m[Oe][ke]):a,Y=new Oh(w,M);m[X+t]=Y,oa(f,y,t+1,e,n,r,i,vt(y.consts,o),256),w&&oa(f,y,t+2,c,d,l,u,vt(y.consts,h),512)}var Nh=class extends Ah{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-pe}at(e){return this.getLView(e)[ke].$implicit}attach(e,n){let r=n[Ge];this.needsIndexUpdate||=e!==this.length,$i(this.lContainer,n,e,qr(this.templateTNode,r)),mC(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,kC(this.lContainer,e),vC(this.lContainer,e)}create(e,n){let r=ra(this.lContainer,this.templateTNode.tView.ssrId);return Ui(this.hostLView,this.templateTNode,new Ph(this.lContainer,n,e),{dehydratedView:r})}destroy(e){id(e[C],e)}updateValue(e,n){this.getLView(e)[ke].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ke].$index=e}getLView(e){return MC(this.lContainer,e)}};function Jn(t){let e=_(null),n=Wn();try{let r=j(),i=r[C],o=r[n],a=n+1,s=Bc(r,a);if(o.liveCollection===void 0){let d=Fh(i,a);o.liveCollection=new Nh(s,r,d)}else o.liveCollection.reset();let c=o.liveCollection;if(gC(c,t,o.trackByFn,e),c.updateIndexes(),o.hasEmptyBlock){let d=Fr(),l=c.length===0;if(Wr(r,d,l)){let u=n+2,h=Bc(r,u);if(l){let f=Fh(i,u),y=dk(h,f,r),w=Ui(r,f,void 0,{dehydratedView:y});$i(h,w,0,qr(f,y))}else i.firstUpdatePass&&ud(h),vp(h,0)}}}finally{_(e)}}function Bc(t,e){return t[e]}function mC(t,e){if(t.length<=pe)return;let n=pe+e,r=t[n],i=r?r[Ar]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[rt];$8(o,i),Br.delete(r),i.detachedLeaveAnimationFns=void 0}}function kC(t,e){if(t.length<=pe)return;let n=pe+e,r=t[n],i=r?r[Ar]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function vC(t,e){return na(t,e)}function MC(t,e){return nk(t,e)}function Fh(t,e){return Or(t,e)}function _e(t,e,n){let r=j(),i=Fr();if(Wr(r,i,e)){let o=we(),a=pc();d6(a,r,t,e,r[te],n)}return _e}function yg(t,e,n,r,i){mp(e,t,n,i?"class":"style",r)}function b(t,e,n,r){let i=j(),o=i[C],a=t+X,s=o.firstCreatePass?wp(a,i,2,e,pp,sc(),n,r):o.data[a];if(fp(s,i,t,e,Lp),Li(s)){let c=i[C];ad(c,i,s),Jh(c,s,i)}return r!=null&&la(i,s),b}function R(){let t=we(),e=Ve(),n=yp(e);return t.firstCreatePass&&Ip(t,n),F1(n)&&j1(),N1(),n.classesWithoutHost!=null&&Hw(n)&&yg(t,n,j(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Vw(n)&&yg(t,n,j(),n.stylesWithoutHost,!1),R}function re(t,e,n,r){return b(t,e,n,r),R(),re}function qe(t,e,n,r){let i=j(),o=i[C],a=t+X,s=o.firstCreatePass?cI(a,o,2,e,n,r):o.data[a];return fp(s,i,t,e,Lp),r!=null&&la(i,s),qe}function Ke(){let t=Ve(),e=yp(t);return F1(e)&&j1(),N1(),Ke}function Gr(t,e,n,r){return qe(t,e,n,r),Ke(),Gr}var Lp=(t,e,n,r,i)=>(Cn(!0),np(e[te],r,W1()));function wC(t,e,n,r,i){let o=!Qc(e,n);if(Cn(o),o)return np(e[te],r,W1());let a=e[Ge],s=dd(a,t,e,n);return gm(a,i)&&Xc(a,i,s.nextSibling),a&&(Ng(n)||Fg(s))&&In(n)&&(gy(n),bm(s)),s}function Fk(){Lp=wC}function md(t,e,n){let r=j(),i=r[C],o=t+X,a=i.firstCreatePass?wp(o,r,8,"ng-container",pp,sc(),e,n):i.data[o];if(fp(a,r,t,"ng-container",jk),Li(a)){let s=r[C];ad(s,r,a),Jh(s,a,r)}return n!=null&&la(r,a),md}function kd(){let t=we(),e=Ve(),n=yp(e);return t.firstCreatePass&&Ip(t,n),kd}var jk=(t,e,n,r,i)=>(Cn(!0),Im(e[te],""));function IC(t,e,n,r,i){let o,a=!Qc(e,n);if(Cn(a),a)return Im(e[te],"");let s=e[Ge],c=dd(s,t,e,n),d=y8(s,i);return Xc(s,i,c),o=ld(d,c),o}function Hk(){jk=IC}function ye(){return j()}function vd(t,e,n){let r=j(),i=Fr();if(Wr(r,i,e)){let o=we(),a=pc();$m(a,r,t,e,r[te],n)}return vd}var ya="en-US";var CC=ya;function Vk(t){typeof t=="string"&&(CC=t.toLowerCase().replace(/_/g,"-"))}function K(t,e,n){let r=j(),i=we(),o=Ve();return bC(i,r,r[te],o,t,e,n),K}function Yi(t,e,n){let r=j(),i=we(),o=Ve();return(o.type&3||n)&&yk(o,i,r,n,r[te],t,e,bc(o,r,e)),Yi}function bC(t,e,n,r,i,o,a){let s=!0,c=null;if((r.type&3||a)&&(c??=bc(r,e,o),yk(r,t,e,a,n,i,o,c)&&(s=!1)),s){let d=r.outputs?.[i],l=r.hostDirectiveOutputs?.[i];if(l&&l.length)for(let u=0;u<l.length;u+=2){let h=l[u],f=l[u+1];c??=bc(r,e,o),ng(r,e,h,f,i,c)}if(d&&d.length)for(let u of d)c??=bc(r,e,o),ng(r,e,u,i,i,c)}}function q(t=1){return Ey(t)}function _C(t,e){let n=null,r=A8(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?Em(t,o,!0):O8(r,o))return i}return n}function Md(t){let e=j()[Oe][We];if(!e.projection){let n=t?t.length:1,r=e.projection=Yf(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let a=t?_C(o,t):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function wd(t,e=0,n,r,i,o){let a=j(),s=we(),c=r?t+1:null;c!==null&&oa(a,s,c,r,i,o,null,n);let d=Wi(s,X+t,16,null,n||null);d.projection===null&&(d.projection=e),z1();let u=!a[Ge]||cc();a[Oe][We].projection[d.projection]===null&&c!==null?SC(a,s,c):u&&!da(d)&&n6(s,a,d)}function SC(t,e,n){let r=X+n,i=e.data[r],o=t[r],a=ra(o,i.tView.ssrId),s=Ui(t,i,void 0,{dehydratedView:a});$i(o,s,0,qr(i,a))}function ga(t,e,n){return RI(t,e,n),ga}function er(t){let e=j(),n=we(),r=q1();lc(r+1);let i=bp(n,r);if(t.dirty&&dy(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=NI(e,r);t.reset(o,Jw),t.notifyOnChanges()}return!0}return!1}function tr(){return LI(j(),q1())}function Nt(t){let e=ky();return cy(e,X+t)}function kc(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function DC(t){return(t&2)==2}function xC(t,e){return t&131071|e<<17}function jh(t){return t|2}function ji(t){return(t&131068)>>2}function dh(t,e){return t&-131069|e<<2}function EC(t){return(t&1)===1}function Hh(t){return t|1}function TC(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,s=$r(a),c=ji(a);t[r]=n;let d=!1,l;if(Array.isArray(n)){let u=n;l=u[1],(l===null||Di(u,l)>0)&&(d=!0)}else l=n;if(i)if(c!==0){let h=$r(t[s+1]);t[r+1]=kc(h,s),h!==0&&(t[h+1]=dh(t[h+1],r)),t[s+1]=xC(t[s+1],r)}else t[r+1]=kc(s,0),s!==0&&(t[s+1]=dh(t[s+1],r)),s=r;else t[r+1]=kc(c,0),s===0?s=r:t[c+1]=dh(t[c+1],r),c=r;d&&(t[r+1]=jh(t[r+1])),gg(t,l,r,!0),gg(t,l,r,!1),LC(e,l,t,r,o),a=kc(s,c),o?e.classBindings=a:e.styleBindings=a}function LC(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Di(o,e)>=0&&(n[r+1]=Hh(n[r+1]))}function gg(t,e,n,r){let i=t[n+1],o=e===null,a=r?$r(i):ji(i),s=!1;for(;a!==0&&(s===!1||o);){let c=t[a],d=t[a+1];AC(c,e)&&(s=!0,t[a+1]=r?Hh(d):jh(d)),a=r?$r(d):ji(d)}s&&(t[n+1]=r?jh(i):Hh(i))}function AC(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Di(t,e)>=0:!1}function ma(t,e,n){return zk(t,e,n,!1),ma}function Ee(t,e){return zk(t,e,null,!0),Ee}function zk(t,e,n,r){let i=j(),o=we(),a=wy(2);if(o.firstUpdatePass&&PC(o,t,a,r),e!==on&&Wr(i,a,e)){let s=o.data[Wn()];HC(o,s,i,i[te],t,i[a+1]=VC(e,n),r,a)}}function RC(t,e){return e>=t.expandoStartIndex}function PC(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Wn()],a=RC(t,n);zC(o,r)&&e===null&&!a&&(e=!1),e=OC(i,o,e,r),TC(i,o,e,n,a,r)}}function OC(t,e,n,r){let i=_y(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=lh(null,t,e,n,r),n=aa(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=lh(i,t,e,n,r),o===null){let c=NC(t,e,r);c!==void 0&&Array.isArray(c)&&(c=lh(null,t,e,c[1],r),c=aa(c,e.attrs,r),FC(t,e,r,c))}else o=jC(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function NC(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ji(r)!==0)return t[$r(r)]}function FC(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[$r(i)]=r}function jC(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=aa(r,a,n)}return aa(r,e.attrs,n)}function lh(t,e,n,r,i){let o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(o=e[s],r=aa(r,o.hostAttrs,i),o!==t);)s++;return t!==null&&(n.directiveStylingLast=s),r}function aa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Qf(t,a,n?!0:e[++o]))}return t===void 0?null:t}function HC(t,e,n,r,i,o,a,s){if(!(e.type&3))return;let c=t.data,d=c[s+1],l=EC(d)?mg(c,e,n,i,ji(d),a):void 0;if(!qc(l)){qc(o)||DC(d)&&(o=mg(c,null,n,i,s,a));let u=T1(Wn(),n);i6(r,a,u,i,o)}}function mg(t,e,n,r,i,o){let a=e===null,s;for(;i>0;){let c=t[i],d=Array.isArray(c),l=d?c[1]:c,u=l===null,h=n[i+1];h===on&&(h=u?pt:void 0);let f=u?nc(h,r):l===r?h:void 0;if(d&&!qc(f)&&(f=nc(c,r)),qc(f)&&(s=f,a))return s;let y=t[i+1];i=a?$r(y):ji(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(s=nc(c,r))}return s}function qc(t){return t!==void 0}function VC(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mn(Jc(t)))),t}function zC(t,e){return(t.flags&(e?8:16))!==0}function Q(t,e=""){let n=j(),r=we(),i=t+X,o=r.firstCreatePass?Wi(r,i,1,e,null):r.data[i],a=Bk(r,n,o,e,t);n[i]=a,fc()&&up(r,n,a,o),Ai(o,!1)}var Bk=(t,e,n,r,i)=>(Cn(!0),wm(e[te],r));function BC(t,e,n,r,i){let o=!Qc(e,n);if(Cn(o),o)return wm(e[te],r);let a=e[Ge];return dd(a,t,e,n)}function qk(){Bk=BC}function qC(t,e,n,r=""){return Wr(t,Fr(),n)?e+qo(n)+r:on}function bt(t){return ka("",t),bt}function ka(t,e,n){let r=j(),i=qC(r,t,e,n);return i!==on&&UC(r,Wn(),i),ka}function UC(t,e,n){let r=T1(e,t);C8(t[te],r,n)}function kg(t,e,n){let r=we();r.firstCreatePass&&Uk(e,r.data,r.blueprint,Un(t),n)}function Uk(t,e,n,r,i){if(t=Re(t),Array.isArray(t))for(let o=0;o<t.length;o++)Uk(t[o],e,n,r,i);else{let o=we(),a=j(),s=Ve(),c=_r(t)?t:Re(t.provide),d=S1(t),l=s.providerIndexes&1048575,u=s.directiveStart,h=s.providerIndexes>>20;if(_r(t)||!t.multi){let f=new zr(d,i,Te,null),y=hh(c,e,i?l:l+h,u);y===-1?(fh(Ec(s,a),o,c),uh(o,t,e.length),e.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(f),a.push(f)):(n[y]=f,a[y]=f)}else{let f=hh(c,e,l+h,u),y=hh(c,e,l,l+h),w=f>=0&&n[f],m=y>=0&&n[y];if(i&&!m||!i&&!w){fh(Ec(s,a),o,c);let M=GC(i?WC:$C,n.length,i,r,d,t);!i&&m&&(n[y].providerFactory=M),uh(o,t,e.length,0),e.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(M),a.push(M)}else{let M=$k(n[i?y:f],d,!i&&r);uh(o,t,f>-1?f:y,M)}!i&&r&&m&&n[y].componentProviders++}}}function uh(t,e,n,r){let i=_r(e),o=ry(e);if(i||o){let c=(o?Re(e.useClass):e).prototype.ngOnDestroy;if(c){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=d.indexOf(n);l===-1?d.push(n,[r,c]):d[l+1].push(r,c)}else d.push(n,c)}}}function $k(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function $C(t,e,n,r,i){return Vh(this.multi,[])}function WC(t,e,n,r,i){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Jo(r,r[C],this.providerFactory.index,i);a=c.slice(0,s),Vh(o,a);for(let d=s;d<c.length;d++)a.push(c[d])}else a=[],Vh(o,a);return a}function Vh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function GC(t,e,n,r,i,o){let a=new zr(t,n,Te,null);return a.multi=[],a.index=e,a.componentProviders=0,$k(a,i,r&&!n),a}function Zr(t,e){return n=>{n.providersResolver=(r,i)=>kg(r,i?i(t):t,!1),e&&(n.viewProvidersResolver=(r,i)=>kg(r,i?i(e):e,!0))}}function Ap(t,e,n){let r=vy()+t,i=j();return i[r]===on?dI(i,r,n?e.call(n):e()):lI(i,r)}function Rp(t,e){return cd(t,e)}var Uc=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Pp=(()=>{class t{compileModuleSync(n){return new Vc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=k1(n),o=Dm(i.declarations).reduce((a,s)=>{let c=Tt(s);return c&&a.push(new Kn(c)),a},[]);return new Uc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wk=(()=>{class t{applicationErrorHandler=p(Mt);appRef=p(Be);taskService=p(en);ngZone=p(ue);zonelessEnabled=p(Yo);tracing=p(Dn,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new oe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ho):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(p(eh,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?K1:Z1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ho+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,K1(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gk(){return[{provide:wn,useExisting:Wk},{provide:ue,useClass:Vo},{provide:Yo,useValue:!0}]}function ZC(){return typeof $localize<"u"&&$localize.locale||ya}var Id=new v("",{factory:()=>p(Id,{optional:!0,skipSelf:!0})||ZC()});var Cd=class{destroyed=!1;listeners=null;errorHandler=p(ft,{optional:!0});destroyRef=p(ze);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new I(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(Et(953,!1));return}if(this.listeners===null)return;let n=_(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{_(n)}}};function nr(t,e){return hs(t,e?.equal)}var Hp={JSACTION:"__jsaction",OWNER:"__owner"},Xk={};function KC(t){return t[Hp.JSACTION]}function Zk(t,e){t[Hp.JSACTION]=e}function YC(t){return Xk[t]}function XC(t,e){Xk[t]=e}var D={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},QC=[D.MOUSEENTER,D.MOUSELEAVE,"pointerenter","pointerleave"],Vj=[D.CLICK,D.DBLCLICK,D.FOCUSIN,D.FOCUSOUT,D.KEYDOWN,D.KEYUP,D.KEYPRESS,D.MOUSEOVER,D.MOUSEOUT,D.SUBMIT,D.TOUCHSTART,D.TOUCHEND,D.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],JC=[D.FOCUS,D.BLUR,D.ERROR,D.LOAD,D.TOGGLE],Vp=t=>JC.indexOf(t)>=0;function eb(t){return t===D.MOUSEENTER?D.MOUSEOVER:t===D.MOUSELEAVE?D.MOUSEOUT:t===D.POINTERENTER?D.POINTEROVER:t===D.POINTERLEAVE?D.POINTEROUT:t}function tb(t,e,n,r){let i=!1;Vp(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function nb(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function rb(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var Kk=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function ib(t){return t.which===2||t.which==null&&t.button===4}function ob(t){return Kk&&t.metaKey||!Kk&&t.ctrlKey||ib(t)||t.shiftKey}function ab(t,e,n){let r=t.relatedTarget;return(t.type===D.MOUSEOVER&&e===D.MOUSEENTER||t.type===D.MOUSEOUT&&e===D.MOUSELEAVE||t.type===D.POINTEROVER&&e===D.POINTERENTER||t.type===D.POINTEROUT&&e===D.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function sb(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===D.MOUSEOVER?n.type=D.MOUSEENTER:t.type===D.MOUSEOUT?n.type=D.MOUSELEAVE:t.type===D.POINTEROVER?n.type=D.POINTERENTER:n.type=D.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var cb=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Dd=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){cb&&(this.element.style.cursor="pointer"),this.handlerInfos.push(tb(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)nb(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},db={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function rr(t){return t.eventType}function zp(t,e){t.eventType=e}function _d(t){return t.event}function Qk(t,e){t.event=e}function Jk(t){return t.targetElement}function ev(t,e){t.targetElement=e}function tv(t){return t.eic}function lb(t,e){t.eic=e}function ub(t){return t.timeStamp}function hb(t,e){t.timeStamp=e}function Sd(t){return t.eia}function nv(t,e,n){t.eia=[e,n]}function Op(t){t.eia=void 0}function bd(t){return t[1]}function pb(t){return t.eirp}function rv(t,e){t.eirp=e}function iv(t){return t.eir}function ov(t,e){t.eir=e}function av(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function fb(t,e,n,r,i,o,a,s){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:a,eiack:s}}var Np=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return rr(this.eventInfo)}setEventType(e){zp(this.eventInfo,e)}getEvent(){return _d(this.eventInfo)}setEvent(e){Qk(this.eventInfo,e)}getTargetElement(){return Jk(this.eventInfo)}setTargetElement(e){ev(this.eventInfo,e)}getContainer(){return tv(this.eventInfo)}setContainer(e){lb(this.eventInfo,e)}getTimestamp(){return ub(this.eventInfo)}setTimestamp(e){hb(this.eventInfo,e)}getAction(){let e=Sd(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Op(this.eventInfo);return}nv(this.eventInfo,e.name,e.element)}getIsReplay(){return pb(this.eventInfo)}setIsReplay(e){rv(this.eventInfo,e)}getResolved(){return iv(this.eventInfo)}setResolved(e){ov(this.eventInfo,e)}clone(){return new t(av(this.eventInfo))}},yb={},gb=/\s*;\s*/,mb=D.CLICK,Fp=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&rr(e)===D.CLICK&&ob(_d(e))?zp(e,D.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){iv(e)||(this.populateAction(e,Jk(e)),ov(e,!0))}resolveParentAction(e){let n=Sd(e),r=n&&bd(n);Op(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==tv(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Sd(e));)r=this.getParentNode(r);let i=Sd(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(rr(e)===D.MOUSEENTER||rr(e)===D.MOUSELEAVE||rr(e)===D.POINTERENTER||rr(e)===D.POINTERLEAVE)))if(ab(_d(e),rr(e),bd(i))){let o=sb(_d(e),bd(i));Qk(e,o),ev(e,bd(i))}else Op(e)}getParentNode(e){let n=e[Hp.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[rr(n)];i!==void 0&&nv(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=KC(e);if(!n){let r=e.getAttribute(gc.JSACTION);if(!r)n=yb,Zk(e,n);else{if(n=YC(r),!n){n={};let i=r.split(gb);for(let o=0;o<i.length;o++){let a=i[o];if(!a)continue;let s=a.indexOf(db.EVENT_ACTION_SEPARATOR),c=s!==-1,d=c?a.substr(0,s).trim():mb,l=c?a.substr(s+1).trim():a;n[d]=l}XC(r,n)}Zk(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},sv=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(sv||{}),jp=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Np(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&kb(r.element,n)&&rb(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function kb(t,e){return t.tagName==="A"&&(e.getEventType()===D.CLICK||e.getEventType()===D.CLICKMOD)}var cv=Symbol.for("propagationStopped"),Bp={REPLAY:101};var vb="`preventDefault` called during event replay.";var Mb="`composedPath` called during event replay.",xd=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Fp({clickModSupport:n}),this.dispatcher=new jp(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&Cb(e),wb(e);e.getAction();){if(bb(e),Vp(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),Ib(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function wb(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[cv]=!0,n()};Kr(e,"stopPropagation",r),Kr(e,"stopImmediatePropagation",r)}function Ib(t){return!!t.getEvent()[cv]}function Cb(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Kr(e,"target",n),Kr(e,"eventPhase",Bp.REPLAY),Kr(e,"preventDefault",()=>{throw r(),new Error(vb+"")}),Kr(e,"composedPath",()=>{throw new Error(Mb+"")})}function bb(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Kr(e,"currentTarget",n,{configurable:!0})}function Kr(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function dv(t,e){t.ecrd(n=>{e.dispatch(n)},sv.I_AM_THE_JSACTION_FRAMEWORK)}function _b(t){return t?.q??[]}function Sb(t){t&&(Yk(t.c,t.et,t.h),Yk(t.c,t.etc,t.h,!0))}function Yk(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var Db=!1,lv=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=Db;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=fb(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){rv(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&QC.indexOf(n)>=0)return;let o=(s,c,d)=>{this.handleEvent(s,c,d)};this.eventHandlers[n]=o;let a=eb(r||n);if(a!==n){let s=this.browserEventTypeToExtraEventTypes[a]||[];s.push(n),this.browserEventTypeToExtraEventTypes[a]=s}this.containerManager.addEventListener(a,s=>c=>{o(n,c,s)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),Sb(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let a=0;a<o.length;a++){let s=av(i);zp(s,o[a]),this.handleEventInfo(s)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function uv(t,e=window){return _b(e._ejsas?.[t])}function qp(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var kv=Symbol("InputSignalNode#UNSET"),n_=V(g({},ps),{transformFn:void 0,applyValueToInputSignal(t,e){xo(t,e)}});function vv(t,e){let n=Object.create(n_);n.value=t,n.transformFn=e?.transform;function r(){if(_o(n),n.value===kv){let i=null;throw new I(-950,i)}return n.value}return r[Qe]=n,r}function $p(t){return new Cd}function hv(t,e){return vv(t,e)}function r_(t){return vv(kv,t)}var Ft=(hv.required=r_,hv);var Up=new v(""),i_=new v("");function va(t){return!t.moduleRef}function o_(t){let e=va(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ue);return n.run(()=>{va(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Mt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),va(t)){let o=()=>e.destroy(),a=t.platformInjector.get(Up);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(Up);a.add(o),t.moduleRef.onDestroy(()=>{Qo(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return s_(r,n,()=>{let o=e.get(en),a=o.add(),s=e.get(xp);return s.runInitializers(),s.donePromise.then(()=>{let c=e.get(Id,ya);if(Vk(c||ya),!e.get(i_,!0))return va(t)?e.get(Be):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(va(t)){let l=e.get(Be);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return a_?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(a))})})}var a_;function s_(t,e,n){try{let r=n();return Ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Td=null;function c_(t=[],e){return me.create({name:e,providers:[{provide:$o,useValue:"platform"},{provide:Up,useValue:new Set([()=>Td=null])},...t]})}function d_(t=[]){if(Td)return Td;let e=c_(t);return Td=e,Rk(),l_(e),e}function l_(t){let e=t.get(Zc,null);Pe(t,()=>{e?.forEach(n=>n())})}var jt=(()=>{class t{static __NG_ELEMENT_ID__=u_}return t})();function u_(t){return h_(Ve(),j(),(t&16)===16)}function h_(t,e,n){if(In(t)&&!n){let r=kt(t.index,e);return new Zn(r,r)}else if(t.type&175){let r=e[Oe];return new Zn(r,e)}return null}function Mv(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Z(G.BootstrapApplicationStart);try{let o=i?.injector??d_(r),a=[Gk(),Ry,...n||[]],s=new ia({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return o_({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Z(G.BootstrapApplicationEnd)}}var Ed=new WeakSet,pv="",Ld=[];function fv(t){return t.get(Zh,em)}function wv(){let t=[{provide:Zh,useFactory:()=>{let e=!0;{let n=p(wt);e=!!window._ejsas?.[n]}return e&&It("NgEventReplay"),e}}];return t.push({provide:Yt,useValue:()=>{let e=p(Be),{injector:n}=e;if(!Ed.has(e)){let r=p(Kh);if(fv(n)){cm();let i=n.get(wt),o=am(i,(a,s,c)=>{a.nodeType===Node.ELEMENT_NODE&&(nm(a,s,c),rm(a,r))});e.onDestroy(o)}}},multi:!0},{provide:Xn,useFactory:()=>{let e=p(Be),{injector:n}=e;return()=>{if(!fv(n)||Ed.has(e))return;Ed.add(e);let r=n.get(wt);e.onDestroy(()=>{Ed.delete(e),qp(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get(om);p_(i,n);let o=n.get(Kh);o.get(pv)?.forEach(im),o.delete(pv);let a=i.instance;ym(n)?e.onDestroy(()=>a.cleanUp()):a.cleanUp()})}},multi:!0}),t}var p_=(t,e)=>{let n=e.get(wt),r=window._ejsas[n],i=t.instance=new lv(new Dd(r.c));for(let s of r.et)i.addEvent(s);for(let s of r.etc)i.addEvent(s);let o=uv(n);i.replayEarlyEventInfos(o),qp(n);let a=new xd(s=>{f_(e,s,s.currentTarget)});dv(i,a)};function f_(t,e,n){let r=(n&&n.getAttribute(ca))??"";/d\d+/.test(r)?y_(r,t,e,n):e.eventPhase===Bp.REPLAY&&Yh(e,n)}function y_(t,e,n,r){Ld.push({event:n,currentTarget:r}),Nk(e,t,g_)}function g_(t){let e=[...Ld],n=new Set(t);Ld=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(ca);n.has(o)?Yh(r,i):Ld.push({event:r,currentTarget:i})}}var yv=!1;function m_(){yv||(yv=!0,hm(),Fk(),qk(),Hk(),Ek(),Ik(),ck(),Um())}function k_(t){return t.whenStable()}function Iv(){let t=[{provide:sa,useFactory:()=>{let e=!0;return e=!!p(Bi,{optional:!0})?.get(Xh,null),e&&It("NgHydration"),e}},{provide:Yt,useValue:()=>{ik(!1);let e=p(ne);p(sa)&&(km(e),m_())},multi:!0}];return t.push({provide:Gh,useFactory:()=>p(sa)},{provide:Xn,useFactory:()=>{if(p(sa)){let e=p(Be);return()=>{k_(e).then(()=>{e.destroyed||Mp(e)})}}return()=>{}},multi:!0}),yt(t)}function xn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Cv(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function bv(t,e){let n=Tt(t),r=e.elementInjector||xi();return new Kn(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function _v(t){let e=Tt(t);if(!e)return null;let n=new Kn(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Sv=null;function En(){return Sv}function Wp(t){Sv??=t}var Ma=class{},Xi=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:()=>p(Dv),providedIn:"platform"})}return t})();var Dv=(()=>{class t extends Xi{_location;_history;_doc=p(ne);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return En().getBaseHref(this._doc)}onPopState(n){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Tv(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function xv(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ir(t){return t&&t[0]!=="?"?`?${t}`:t}var Ad=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:()=>p(M_),providedIn:"root"})}return t})(),v_=new v(""),M_=(()=>{class t extends Ad{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??p(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Tv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+ir(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+ir(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(x(Xi),x(v_,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qi=(()=>{class t{_subject=new T;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=C_(xv(Ev(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ir(r))}normalize(n){return t.stripTrailingSlash(I_(this._basePath,Ev(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ir(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ir;static joinWithSlash=Tv;static stripTrailingSlash=xv;static \u0275fac=function(r){return new(r||t)(x(Ad))};static \u0275prov=k({token:t,factory:()=>w_(),providedIn:"root"})}return t})();function w_(){return new Qi(x(Ad))}function I_(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ev(t){return t.replace(/\/index.html$/,"")}function C_(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Gp=(()=>{class t{_viewContainer;_context=new Rd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Lv(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Lv(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Te(Pt),Te(rn))};static \u0275dir=Ot({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Rd=class{$implicit=null;ngIf=null};function Lv(t,e){if(t&&!t.createEmbeddedView)throw new I(2020,!1)}var _t=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ct({type:t});static \u0275inj=nt({})}return t})();function wa(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Yr=class{};var Zp="browser";function Pd(t){return t===Zp}var Ia=class{_doc;constructor(e){this._doc=e}manager},Od=(()=>{class t extends Ia{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(x(ne))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),jd=new v(""),Qp=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this});let i=n.filter(a=>!(a instanceof Od));this._plugins=i.slice().reverse();let o=n.find(a=>a instanceof Od);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(x(jd),x(ue))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),Kp="ng-app-id";function Av(t){for(let e of t)e.remove()}function Rv(t,e){let n=e.createElement("style");return n.textContent=t,n}function D_(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Kp}="${e}"],link[${Kp}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Kp),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Xp(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Jp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,D_(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Rv);r?.forEach(i=>this.addUsage(i,this.external,Xp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Av(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Av(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Rv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Xp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(x(ne),x(wt),x(zi,8),x(_n))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),Yp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},e0=/%COMP%/g;var Ov="%COMP%",x_=`_nghost-${Ov}`,E_=`_ngcontent-${Ov}`,T_=!0,L_=new v("",{factory:()=>T_});function A_(t){return E_.replace(e0,t)}function R_(t){return x_.replace(e0,t)}function Nv(t,e){return e.map(n=>n.replace(e0,t))}var t0=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,a,s,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=c,this.tracingService=d,this.defaultRenderer=new Ca(n,a,s,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Fd?i.applyToHost(n):i instanceof ba&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,u=this.tracingService;switch(r.encapsulation){case Rt.Emulated:o=new Fd(c,d,r,this.appId,l,a,s,u);break;case Rt.ShadowDom:return new Nd(c,n,r,a,s,this.nonce,u,d);case Rt.ExperimentalIsolatedShadowDom:return new Nd(c,n,r,a,s,this.nonce,u);default:o=new ba(c,d,r,l,a,s,u);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(x(Qp),x(Jp),x(wt),x(L_),x(ne),x(ue),x(zi),x(Dn,8))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),Ca=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Yp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Pv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Pv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Yp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Yp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(nn.DashCase|nn.Important)?e.style.setProperty(n,r,i&nn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&nn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=En().getGlobalEventTarget(this.doc,e),!e))throw new I(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Pv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Nd=class extends Ca{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,i,o,a,s,c){super(e,i,o,s),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Nv(r.id,d);for(let u of d){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}let l=r.getExternalStyles?.();if(l)for(let u of l){let h=Xp(u,i);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ba=class extends Ca{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,s,c){super(e,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=c?Nv(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Br.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Fd=class extends ba{contentAttr;hostAttr;constructor(e,n,r,i,o,a,s,c){let d=i+"-"+r.id;super(e,n,r,o,a,s,c,d),this.contentAttr=A_(d),this.hostAttr=R_(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Hd=class t extends Ma{supportsDOMEvents=!0;static makeCurrent(){Wp(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=P_();return n==null?null:O_(n)}resetBaseElement(){_a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wa(document.cookie,e)}},_a=null;function P_(){return _a=_a||document.head.querySelector("base"),_a?_a.getAttribute("href"):null}function O_(t){return new URL(t,document.baseURI).pathname}var N_=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),Fv=["alt","control","meta","shift"],F_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j_={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},jv=(()=>{class t extends Ia{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=t.parseEventName(r),s=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>En().onAndCancel(n,a.domEventName,s,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Fv.forEach(d=>{let l=r.indexOf(d);l>-1&&(r.splice(l,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let i=F_[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Fv.forEach(a=>{if(a!==i){let s=j_[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(x(ne))};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})();function n0(t,e,n){let r=g({rootComponent:t,platformRef:n?.platformRef},H_(e));return Mv(r)}function H_(t){return{appProviders:[...U_,...t?.providers??[]],platformProviders:q_}}function V_(){Hd.makeCurrent()}function z_(){return new ft}function B_(){return Uh(document),document}var q_=[{provide:_n,useValue:Zp},{provide:Zc,useValue:V_,multi:!0},{provide:ne,useFactory:B_}];var U_=[{provide:$o,useValue:"root"},{provide:ft,useFactory:z_},{provide:jd,useClass:Od,multi:!0},{provide:jd,useClass:jv,multi:!0},t0,Jp,Qp,{provide:lt,useExisting:t0},{provide:Yr,useClass:N_},[]];var Ln=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var zd=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},Bd=class{encodeKey(e){return Hv(e)}encodeValue(e){return Hv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function $_(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,s]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(a)||[];c.push(s),n.set(a,c)}),n}var W_=/%(\d[a-f0-9])/gi,G_={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hv(t){return encodeURIComponent(t).replace(W_,(e,n)=>G_[n]??e)}function Vd(t){return`${t}`}var Tn=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Bd,e.fromString){if(e.fromObject)throw new I(2805,!1);this.map=$_(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Vd):[Vd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Vd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Vd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function Z_(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Vv(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function zv(t){return typeof Blob<"u"&&t instanceof Blob}function Bv(t){return typeof FormData<"u"&&t instanceof FormData}function K_(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var qv="Content-Type",Uv="Accept",$v="text/plain",Wv="application/json",Y_=`${Wv}, ${$v}, */*`,Ji=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(Z_(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new I(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Ln,this.context??=new zd,!this.params)this.params=new Tn,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let s=n.indexOf("?"),c=s===-1?"?":s<n.length-1?"&":"";this.urlWithParams=n+c+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Vv(this.body)||zv(this.body)||Bv(this.body)||K_(this.body)?this.body:this.body instanceof Tn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bv(this.body)?null:zv(this.body)?this.body.type||null:Vv(this.body)?null:typeof this.body=="string"?$v:this.body instanceof Tn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Wv:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,a=e.priority||this.priority,s=e.cache||this.cache,c=e.mode||this.mode,d=e.redirect||this.redirect,l=e.credentials||this.credentials,u=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.referrerPolicy||this.referrerPolicy,y=e.transferCache??this.transferCache,w=e.timeout??this.timeout,m=e.body!==void 0?e.body:this.body,M=e.withCredentials??this.withCredentials,Y=e.reportProgress??this.reportProgress,fe=e.headers||this.headers,ce=e.params||this.params,$t=e.context??this.context;return e.setHeaders!==void 0&&(fe=Object.keys(e.setHeaders).reduce((bo,fr)=>bo.set(fr,e.setHeaders[fr]),fe)),e.setParams&&(ce=Object.keys(e.setParams).reduce((bo,fr)=>bo.set(fr,e.setParams[fr]),ce)),new t(n,r,m,{params:ce,headers:fe,context:$t,reportProgress:Y,responseType:i,withCredentials:M,transferCache:y,keepalive:o,cache:s,priority:a,timeout:w,mode:c,redirect:d,credentials:l,referrer:u,integrity:h,referrerPolicy:f})}},Xr=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(Xr||{}),to=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new Ln,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},qd=class t extends to{constructor(e={}){super(e)}type=Xr.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},no=class t extends to{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Xr.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},eo=class extends to{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},X_=200,Q_=204;var J_=new v("");var eS=/^\)\]\}',?\n/;var i0=(()=>{class t{xhrFactory;tracingService=p(Dn,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new I(-2800,!1);let r=this.xhrFactory;return S(null).pipe(De(()=>new P(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((m,M)=>a.setRequestHeader(m,M.join(","))),n.headers.has(Uv)||a.setRequestHeader(Uv,Y_),!n.headers.has(qv)){let m=n.detectContentTypeHeader();m!==null&&a.setRequestHeader(qv,m)}if(n.timeout&&(a.timeout=n.timeout),n.responseType){let m=n.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let s=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let m=a.statusText||"OK",M=new Ln(a.getAllResponseHeaders()),Y=a.responseURL||n.url;return c=new qd({headers:M,status:a.status,statusText:m,url:Y}),c},l=this.maybePropagateTrace(()=>{let{headers:m,status:M,statusText:Y,url:fe}=d(),ce=null;M!==Q_&&(ce=typeof a.response>"u"?a.responseText:a.response),M===0&&(M=ce?X_:0);let $t=M>=200&&M<300;if(n.responseType==="json"&&typeof ce=="string"){let bo=ce;ce=ce.replace(eS,"");try{ce=ce!==""?JSON.parse(ce):null}catch(fr){ce=bo,$t&&($t=!1,ce={error:fr,text:ce})}}$t?(o.next(new no({body:ce,headers:m,status:M,statusText:Y,url:fe||void 0})),o.complete()):o.error(new eo({error:ce,headers:m,status:M,statusText:Y,url:fe||void 0}))}),u=this.maybePropagateTrace(m=>{let{url:M}=d(),Y=new eo({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:M||void 0});o.error(Y)}),h=u;n.timeout&&(h=this.maybePropagateTrace(m=>{let{url:M}=d(),Y=new eo({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:M||void 0});o.error(Y)}));let f=!1,y=this.maybePropagateTrace(m=>{f||(o.next(d()),f=!0);let M={type:Xr.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(M.total=m.total),n.responseType==="text"&&a.responseText&&(M.partialText=a.responseText),o.next(M)}),w=this.maybePropagateTrace(m=>{let M={type:Xr.UploadProgress,loaded:m.loaded};m.lengthComputable&&(M.total=m.total),o.next(M)});return a.addEventListener("load",l),a.addEventListener("error",u),a.addEventListener("timeout",h),a.addEventListener("abort",u),n.reportProgress&&(a.addEventListener("progress",y),s!==null&&a.upload&&a.upload.addEventListener("progress",w)),a.send(s),o.next({type:Xr.Sent}),()=>{a.removeEventListener("error",u),a.removeEventListener("abort",u),a.removeEventListener("load",l),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",y),s!==null&&a.upload&&a.upload.removeEventListener("progress",w)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||t)(x(Yr))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tS(t,e){return e(t)}function nS(t,e,n){return(r,i)=>Pe(n,()=>e(r,o=>t(o,i)))}var Gv=new v("",{factory:()=>[]}),o0=new v(""),Zv=new v("",{factory:()=>!0});var a0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=x(i0),i},providedIn:"root"})}return t})();var Ud=(()=>{class t{backend;injector;chain=null;pendingTasks=p(jr);contributeToStability=p(Zv);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Gv),...this.injector.get(o0,[])]));this.chain=r.reduceRight((i,o)=>nS(i,o,this.injector),tS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Po(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(x(a0),x(he))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=x(Ud),i},providedIn:"root"})}return t})();function r0(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var $d=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Ji)o=n;else{let c;i.headers instanceof Ln?c=i.headers:c=new Ln(i.headers);let d;i.params&&(i.params instanceof Tn?d=i.params:d=new Tn({fromObject:i.params})),o=new Ji(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:d,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let a=S(o).pipe(bi(c=>this.handler.handle(c)));if(n instanceof Ji||i.observe==="events")return a;let s=a.pipe(je(c=>c instanceof no));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new I(2806,!1);return c.body}));case"blob":return s.pipe(F(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new I(2807,!1);return c.body}));case"text":return s.pipe(F(c=>{if(c.body!==null&&typeof c.body!="string")throw new I(2808,!1);return c.body}));case"json":default:return s.pipe(F(c=>c.body))}case"response":return s;default:throw new I(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Tn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,r0(i,r))}post(n,r,i={}){return this.request("POST",n,r0(i,r))}put(n,r,i={}){return this.request("PUT",n,r0(i,r))}static \u0275fac=function(r){return new(r||t)(x(s0))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rS=new v("",{factory:()=>!0}),iS="XSRF-TOKEN",oS=new v("",{factory:()=>iS}),aS="X-XSRF-TOKEN",sS=new v("",{providedIn:"root",factory:()=>aS}),cS=(()=>{class t{cookieName=p(oS);doc=p(ne);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=wa(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=x(cS),i},providedIn:"root"})}return t})();function dS(t,e){if(!p(rS)||t.method==="GET"||t.method==="HEAD")return e(t);try{let i=p(Xi).href,{origin:o}=new URL(i),{origin:a}=new URL(t.url,o);if(o!==a)return e(t)}catch{return e(t)}let n=p(Kv).getToken(),r=p(sS);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function c0(...t){let e=[$d,Ud,{provide:s0,useExisting:Ud},{provide:a0,useFactory:()=>p(J_,{optional:!0})??p(i0)},{provide:Gv,useValue:dS,multi:!0}];for(let n of t)e.push(...n.\u0275providers);return yt(e)}var lS=new v(""),uS="b",hS="h",pS="s",fS="st",yS="u",gS="rt",d0=new v(""),mS=["GET","HEAD"];function kS(t,e){let f=p(d0),{isCacheActive:n}=f,r=di(f,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!mS.includes(o)||!r.includeRequestsWithAuthHeaders&&vS(t)||r.filter?.(t)===!1)return e(t);let a=p(Bi);if(p(lS,{optional:!0}))throw new I(2803,!1);let c=t.url,d=MS(t,c),l=a.get(d,null),u=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(u=i.includeHeaders),l){let{[uS]:y,[gS]:w,[hS]:m,[pS]:M,[fS]:Y,[yS]:fe}=l,ce=y;switch(w){case"arraybuffer":ce=new TextEncoder().encode(y).buffer;break;case"blob":ce=new Blob([y]);break}let $t=new Ln(m);return S(new no({body:ce,headers:$t,status:M,statusText:Y,url:fe}))}return e(t)}function vS(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function Yv(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function MS(t,e){let{params:n,method:r,responseType:i}=t,o=Yv(n),a=t.serializeBody();a instanceof URLSearchParams?a=Yv(a):typeof a!="string"&&(a="");let s=[r,i,e,a,o].join("|"),c=wS(s);return c}function wS(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Xv(t){return[{provide:d0,useFactory:()=>(It("NgHttpTransferCache"),g({isCacheActive:!0},t))},{provide:o0,useValue:kS,multi:!0},{provide:Xn,multi:!0,useFactory:()=>{let e=p(Be),n=p(d0);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var Qv=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(x(ne))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wd=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(Wd||{});function CS(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function Jv(){return CS(Wd.EventReplay,wv())}function e4(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(Wd.HttpTransferCacheOptions);return yt([[],Iv(),n.has(Wd.NoHttpTransferCache)||r?[]:Xv({}),e])}var O="primary",Fa=Symbol("RouteTitle"),f0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ti(t){return new f0(t)}function d4(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=t[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Qd(t){return new Promise((e,n)=>{t.pipe(mn()).subscribe({next:r=>e(r),error:r=>n(r)})})}function _S(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sn(t[n],e[n]))return!1;return!0}function sn(t,e){let n=t?y0(t):void 0,r=e?y0(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!l4(t[i],e[i]))return!1;return!0}function y0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function l4(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function u4(t){return t.length>0?t[t.length-1]:null}function ri(t){return To(t)?t:Ki(t)?ve(Promise.resolve(t)):S(t)}function h4(t){return To(t)?Qd(t):Promise.resolve(t)}var SS={exact:f4,subset:y4},p4={exact:DS,subset:xS,ignored:()=>!0};function t4(t,e,n){return SS[n.paths](t.root,e.root,n.matrixParams)&&p4[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function DS(t,e){return sn(t,e)}function f4(t,e,n){if(!Jr(t.segments,e.segments)||!Kd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!f4(t.children[r],e.children[r],n))return!1;return!0}function xS(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>l4(t[n],e[n]))}function y4(t,e,n){return g4(t,e,e.segments,n)}function g4(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Jr(i,n)||e.hasChildren()||!Kd(i,n,r))}else if(t.segments.length===n.length){if(!Jr(t.segments,n)||!Kd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!y4(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Jr(t.segments,i)||!Kd(t.segments,i,r)||!t.children[O]?!1:g4(t.children[O],e,o,r)}}function Kd(t,e,n){return e.every((r,i)=>p4[n](t[i].parameters,r.parameters))}var Vt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new J([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ti(this.queryParams),this._queryParamMap}toString(){return LS.serialize(this)}},J=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yd(this)}},or=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ti(this.parameters),this._parameterMap}toString(){return k4(this)}};function ES(t,e){return Jr(t,e)&&t.every((n,r)=>sn(n.parameters,e[r].parameters))}function Jr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function TS(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===O&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==O&&(n=n.concat(e(i,r)))}),n}var ja=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:()=>new ar,providedIn:"root"})}return t})(),ar=class{parse(e){let n=new m0(e);return new Vt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Sa(e.root,!0)}`,r=PS(e.queryParams),i=typeof e.fragment=="string"?`#${AS(e.fragment)}`:"";return`${n}${r}${i}`}},LS=new ar;function Yd(t){return t.segments.map(e=>k4(e)).join("/")}function Sa(t,e){if(!t.hasChildren())return Yd(t);if(e){let n=t.children[O]?Sa(t.children[O],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==O&&r.push(`${i}:${Sa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=TS(t,(r,i)=>i===O?[Sa(t.children[O],!1)]:[`${i}:${Sa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[O]!=null?`${Yd(t)}/${n[0]}`:`${Yd(t)}/(${n.join("//")})`}}function m4(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gd(t){return m4(t).replace(/%3B/gi,";")}function AS(t){return encodeURI(t)}function g0(t){return m4(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xd(t){return decodeURIComponent(t)}function n4(t){return Xd(t.replace(/\+/g,"%20"))}function k4(t){return`${g0(t.path)}${RS(t.parameters)}`}function RS(t){return Object.entries(t).map(([e,n])=>`;${g0(e)}=${g0(n)}`).join("")}function PS(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Gd(n)}=${Gd(i)}`).join("&"):`${Gd(n)}=${Gd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var OS=/^[^\/()?;#]+/;function l0(t){let e=t.match(OS);return e?e[0]:""}var NS=/^[^\/()?;=#]+/;function FS(t){let e=t.match(NS);return e?e[0]:""}var jS=/^[^=?&#]+/;function HS(t){let e=t.match(jS);return e?e[0]:""}var VS=/^[^&#]+/;function zS(t){let e=t.match(VS);return e?e[0]:""}var m0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new J([],{}):new J([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[O]=new J(e,n)),r}parseSegment(){let e=l0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new or(Xd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=FS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=l0(this.remaining);i&&(r=i,this.capture(r))}e[Xd(n)]=Xd(r)}parseQueryParam(e){let n=HS(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=zS(this.remaining);a&&(r=a,this.capture(r))}let i=n4(n),o=n4(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=l0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=O);let a=this.parseChildren();n[o??O]=Object.keys(a).length===1&&a[O]?a[O]:new J([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function v4(t){return t.segments.length>0?new J([],{[O]:t}):t}function M4(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=M4(i);if(r===O&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))e[a]=s;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new J(t.segments,e);return BS(n)}function BS(t){if(t.numberOfChildren===1&&t.children[O]){let e=t.children[O];return new J(t.segments.concat(e.segments),e.children)}return t}function ao(t){return t instanceof Vt}function w4(t,e,n=null,r=null,i=new ar){let o=I4(t);return C4(o,e,n,r,i)}function I4(t){let e;function n(o){let a={};for(let c of o.children){let d=n(c);a[c.outlet]=d}let s=new J(o.url,a);return o===t&&(e=s),s}let r=n(t.root),i=v4(r);return e??i}function C4(t,e,n,r,i){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return u0(o,o,o,n,r,i);let a=qS(e);if(a.toRoot())return u0(o,o,new J([],{}),n,r,i);let s=US(a,o,t),c=s.processChildren?xa(s.segmentGroup,s.index,a.commands):_4(s.segmentGroup,s.index,a.commands);return u0(o,s.segmentGroup,c,n,r,i)}function Jd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function La(t){return typeof t=="object"&&t!=null&&t.outlets}function r4(t,e,n){t||="\u0275";let r=new Vt;return r.queryParams={[t]:e},n.parse(n.serialize(r)).queryParams[t]}function u0(t,e,n,r,i,o){let a={};for(let[d,l]of Object.entries(r??{}))a[d]=Array.isArray(l)?l.map(u=>r4(d,u,o)):r4(d,l,o);let s;t===e?s=n:s=b4(t,e,n);let c=v4(M4(s));return new Vt(c,a,i)}function b4(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=b4(o,e,n)}),new J(t.segments,r)}var el=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Jd(r[0]))throw new I(4003,!1);let i=r.find(La);if(i&&i!==u4(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qS(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new el(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,d])=>{s[c]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?e++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new el(n,e,r)}var io=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function US(t,e,n){if(t.isAbsolute)return new io(e,!0,0);if(!n)return new io(e,!1,NaN);if(n.parent===null)return new io(n,!0,0);let r=Jd(t.commands[0])?0:1,i=n.segments.length-1+r;return $S(n,i,t.numberOfDoubleDots)}function $S(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new io(r,!1,i-o)}function WS(t){return La(t[0])?t[0].outlets:{[O]:t}}function _4(t,e,n){if(t??=new J([],{}),t.segments.length===0&&t.hasChildren())return xa(t,e,n);let r=GS(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new J(t.segments.slice(0,r.pathIndex),{});return o.children[O]=new J(t.segments.slice(r.pathIndex),t.children),xa(o,0,i)}else return r.match&&i.length===0?new J(t.segments,{}):r.match&&!t.hasChildren()?k0(t,e,n):r.match?xa(t,0,i):k0(t,e,n)}function xa(t,e,n){if(n.length===0)return new J(t.segments,{});{let r=WS(n),i={};if(Object.keys(r).some(o=>o!==O)&&t.children[O]&&t.numberOfChildren===1&&t.children[O].segments.length===0){let o=xa(t.children[O],e,n);return new J(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=_4(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new J(t.segments,i)}}function GS(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],s=n[r];if(La(s))break;let c=`${s}`,d=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!o4(c,d,a))return o;r+=2}else{if(!o4(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function k0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(La(o)){let c=ZS(o.outlets);return new J(r,c)}if(i===0&&Jd(n[0])){let c=t.segments[e];r.push(new or(c.path,i4(n[0]))),i++;continue}let a=La(o)?o.outlets[O]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&Jd(s)?(r.push(new or(a,i4(s))),i+=2):(r.push(new or(a,{})),i++)}return new J(r,{})}function ZS(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=k0(new J([],{}),0,r))}),e}function i4(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function o4(t,e,n){return t==n.path&&sn(e,n.parameters)}var Ea="imperative",Le=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Le||{}),ht=class{id;url;constructor(e,n){this.id=e,this.url=n}},An=class extends ht{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends ht{urlAfterRedirects;type=Le.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ye=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ye||{}),Aa=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(Aa||{}),cn=class extends ht{reason;code;type=Le.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pn=class extends ht{reason;code;type=Le.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},so=class extends ht{error;target;type=Le.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ni=class extends ht{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tl=class extends ht{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nl=class extends ht{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rl=class extends ht{urlAfterRedirects;state;type=Le.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},il=class extends ht{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ol=class{route;type=Le.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},al=class{route;type=Le.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sl=class{snapshot;type=Le.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cl=class{snapshot;type=Le.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dl=class{snapshot;type=Le.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ll=class{snapshot;type=Le.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ra=class{},co=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function KS(t){return!(t instanceof Ra)&&!(t instanceof co)}function YS(t,e){return t.providers&&!t._injector&&(t._injector=Gi(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ht(t){return t.outlet||O}function XS(t,e){let n=t.filter(r=>Ht(r)===e);return n.push(...t.filter(r=>Ht(r)!==e)),n}function ho(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ul=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ho(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new po(this.rootInjector)}},po=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ul(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(x(he))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=v0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=v0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=M0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return M0(e,this._root).map(n=>n.value)}};function v0(t,e){if(t===e.value)return e;for(let n of e.children){let r=v0(t,n);if(r)return r}return null}function M0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=M0(t,n);if(r.length)return r.unshift(e),r}return[]}var ut=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ro(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Pa=class extends hl{snapshot;constructor(e,n){super(e),this.snapshot=n,S0(this,e)}toString(){return this.snapshot.toString()}};function S4(t){let e=QS(t),n=new Se([new or("",{})]),r=new Se({}),i=new Se({}),o=new Se({}),a=new Se(""),s=new sr(n,r,o,a,i,O,t,e.root);return s.snapshot=e.root,new Pa(new ut(s,[]),e)}function QS(t){let e={},n={},r={},o=new ei([],e,r,"",n,O,t,null,{});return new Oa("",new ut(o,[]))}var sr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,s,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(d=>d[Fa]))??S(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(e=>ti(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(e=>ti(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:g(g({},e.params),t.params),data:g(g({},e.data),t.data),resolve:g(g(g(g({},t.data),e.data),i?.data),t._resolvedData)}:r={params:g({},t.params),data:g({},t.data),resolve:g(g({},t.data),t._resolvedData??{})},i&&x4(i)&&(r.resolve[Fa]=i.title),r}var ei=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Fa]}constructor(e,n,r,i,o,a,s,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ti(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ti(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Oa=class extends hl{url;constructor(e,n){super(n),this.url=e,S0(this,n)}toString(){return D4(this._root)}};function S0(t,e){e.value._routerState=t,e.children.forEach(n=>S0(t,n))}function D4(t){let e=t.children.length>0?` { ${t.children.map(D4).join(", ")} } `:"";return`${t.value}${e}`}function h0(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sn(e.params,n.params)||t.paramsSubject.next(n.params),_S(e.url,n.url)||t.urlSubject.next(n.url),sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function w0(t,e){let n=sn(t.params,e.params)&&ES(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||w0(t.parent,e.parent))}function x4(t){return typeof t.title=="string"||t.title===null}var E4=new v(""),Ha=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=O;activateEvents=new ae;deactivateEvents=new ae;attachEvents=new ae;detachEvents=new ae;routerOutletData=Ft();parentContexts=p(po);location=p(Pt);changeDetector=p(jt);inputBinder=p(Va,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new I0(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ot({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[bn]})}return t})(),I0=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===sr?this.route:e===po?this.childContexts:e===E4?this.outletData:this.parent.get(e,n)}},Va=new v(""),D0=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ii([r.queryParams,r.params,r.data]).pipe(De(([o,a,s],c)=>(s=g(g(g({},o),a),s),c===0?S(s):Promise.resolve(s)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=_v(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:s}of a.inputs)n.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac})}return t})(),x0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=se({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[Ha],encapsulation:2})}return t})();function E0(t){let e=t.children&&t.children.map(E0),n=e?V(g({},t),{children:e}):g({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==O&&(n.component=x0),n}function JS(t,e,n){let r=Na(t,e._root,n?n._root:void 0);return new Pa(r,e)}function Na(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=eD(t,e,n);return new ut(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(s=>Na(t,s)),a}}let r=tD(e.value),i=e.children.map(o=>Na(t,o));return new ut(r,i)}}function eD(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Na(t,r,i);return Na(t,r)})}function tD(t){return new sr(new Se(t.url),new Se(t.params),new Se(t.queryParams),new Se(t.fragment),new Se(t.data),t.outlet,t.component,t)}var lo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},T4="ngNavigationCancelingError";function fl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ao(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=L4(!1,Ye.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function L4(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[T4]=!0,n.cancellationCode=e,n}function nD(t){return A4(t)&&ao(t.url)}function A4(t){return!!t&&t[T4]}var rD=(t,e,n,r)=>F(i=>(new C0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),C0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),h0(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ro(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ro(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ro(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ro(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ll(o.value.snapshot))}),e.children.length&&this.forwardEvent(new cl(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(h0(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),h0(s.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},yl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},oo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function iD(t,e,n){let r=t._root,i=e?e._root:null;return Da(r,i,n,[r.value])}function oD(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!h1(t)?t:e.get(t):r}function Da(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ro(e);return t.children.forEach(a=>{aD(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Ta(s,n.getContext(a),i)),i}function aD(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=sD(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yl(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Da(t,e,s?s.children:null,r,i):Da(t,e,n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new oo(s.outlet.component,a))}else a&&Ta(e,s,i),i.canActivateChecks.push(new yl(r)),o.component?Da(t,null,s?s.children:null,r,i):Da(t,null,n,r,i);return i}function sD(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Jr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Jr(t.url,e.url)||!sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w0(t,e)||!sn(t.queryParams,e.queryParams);case"paramsChange":default:return!w0(t,e)}}function Ta(t,e,n){let r=ro(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Ta(a,e.children.getContext(o),n):Ta(a,null,n):Ta(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new oo(e.outlet.component,i)):n.canDeactivateChecks.push(new oo(null,i)):n.canDeactivateChecks.push(new oo(null,i))}function za(t){return typeof t=="function"}function cD(t){return typeof t=="boolean"}function dD(t){return t&&za(t.canLoad)}function lD(t){return t&&za(t.canActivate)}function uD(t){return t&&za(t.canActivateChild)}function hD(t){return t&&za(t.canDeactivate)}function pD(t){return t&&za(t.canMatch)}function R4(t){return t instanceof wr||t?.name==="EmptyError"}var Zd=Symbol("INITIAL_VALUE");function uo(){return De(t=>Ii(t.map(e=>e.pipe(He(1),kn(Zd)))).pipe(F(e=>{for(let n of e)if(n!==!0){if(n===Zd)return Zd;if(n===!1||fD(n))return n}return!0}),je(e=>e!==Zd),He(1)))}function fD(t){return ao(t)||t instanceof lo}function P4(t){return t.aborted?S(void 0).pipe(He(1)):new P(e=>{let n=()=>{e.next(),e.complete()};return t.addEventListener("abort",n),()=>t.removeEventListener("abort",n)})}function O4(t){return et(P4(t))}function yD(t,e){return Ae(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?S(V(g({},n),{guardsResult:!0})):gD(a,r,i,t).pipe(Ae(s=>s&&cD(s)?mD(r,o,t,e):S(s)),F(s=>V(g({},n),{guardsResult:s})))})}function gD(t,e,n,r){return ve(t).pipe(Ae(i=>ID(i.component,i.route,n,e,r)),mn(i=>i!==!0,!0))}function mD(t,e,n,r){return ve(e).pipe(bi(i=>Gt(vD(i.route.parent,r),kD(i.route,r),wD(t,i.path,n),MD(t,i.route,n))),mn(i=>i!==!0,!0))}function kD(t,e){return t!==null&&e&&e(new dl(t)),S(!0)}function vD(t,e){return t!==null&&e&&e(new sl(t)),S(!0)}function MD(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let i=r.map(o=>Lo(()=>{let a=ho(e)??n,s=fo(o,a),c=lD(s)?s.canActivate(e,t):Pe(a,()=>s(e,t));return ri(c).pipe(mn())}));return S(i).pipe(uo())}function wD(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>oD(a)).filter(a=>a!==null).map(a=>Lo(()=>{let s=a.guards.map(c=>{let d=ho(a.node)??n,l=fo(c,d),u=uD(l)?l.canActivateChild(r,t):Pe(d,()=>l(r,t));return ri(u).pipe(mn())});return S(s).pipe(uo())}));return S(o).pipe(uo())}function ID(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let a=o.map(s=>{let c=ho(e)??i,d=fo(s,c),l=hD(d)?d.canDeactivate(t,e,n,r):Pe(c,()=>d(t,e,n,r));return ri(l).pipe(mn())});return S(a).pipe(uo())}function CD(t,e,n,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return S(!0);let a=o.map(s=>{let c=fo(s,t),d=dD(c)?c.canLoad(e,n):Pe(t,()=>c(e,n)),l=ri(d);return i?l.pipe(O4(i)):l});return S(a).pipe(uo(),N4(r))}function N4(t){return ju(Me(e=>{if(typeof e!="boolean")throw fl(t,e)}),F(e=>e===!0))}function bD(t,e,n,r,i){let o=e.canMatch;if(!o||o.length===0)return S(!0);let a=o.map(s=>{let c=fo(s,t),d=pD(c)?c.canMatch(e,n):Pe(t,()=>c(e,n)),l=ri(d);return i?l.pipe(O4(i)):l});return S(a).pipe(uo(),N4(r))}var Qr=class F4 extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,F4.prototype)}},b0=class j4 extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,j4.prototype)}};function _D(t){throw new I(4e3,!1)}function SD(t){throw L4(!1,Ye.GuardRejected)}var DD=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}async lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[O])throw _D(`${e.redirectTo}`);i=i.children[O]}}async applyRedirectCommands(e,n,r,i,o){let a=await xD(n,i,o);if(a instanceof Vt)throw new b0(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),e,r);if(a[0]==="/")throw new b0(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Vt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(e,c,r,i)}),new J(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function xD(t,e,n){if(typeof t=="string")return Promise.resolve(t);let r=t,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,params:d,data:l,title:u}=e;return Qd(ri(Pe(n,()=>r({params:d,data:l,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,title:u}))))}var _0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ED(t,e,n,r,i,o){let a=H4(t,e,n);return a.matched?(r=YS(e,r),bD(r,e,n,i,o).pipe(F(s=>s===!0?a:g({},_0)))):S(a)}function H4(t,e,n){if(e.path==="**")return TD(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?g({},_0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||d4)(n,t,e);if(!i)return g({},_0);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?g(g({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function TD(t){return{matched:!0,parameters:t.length>0?u4(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function a4(t,e,n,r){return n.length>0&&RD(t,n,r)?{segmentGroup:new J(e,AD(r,new J(n,t.children))),slicedSegments:[]}:n.length===0&&PD(t,n,r)?{segmentGroup:new J(t.segments,LD(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new J(t.segments,t.children),slicedSegments:n}}function LD(t,e,n,r){let i={};for(let o of n)if(ml(t,e,o)&&!r[Ht(o)]){let a=new J([],{});i[Ht(o)]=a}return g(g({},r),i)}function AD(t,e){let n={};n[O]=e;for(let r of t)if(r.path===""&&Ht(r)!==O){let i=new J([],{});n[Ht(r)]=i}return n}function RD(t,e,n){return n.some(r=>ml(t,e,r)&&Ht(r)!==O)}function PD(t,e,n){return n.some(r=>ml(t,e,r))}function ml(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function OD(t,e,n){return e.length===0&&!t.children[n]}var ND=class{};async function FD(t,e,n,r,i,o,a="emptyOnly",s){return new HD(t,e,n,r,i,a,o,s).recognize()}var jD=31,HD=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=c,this.applyRedirects=new DD(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}async recognize(){let e=a4(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(e),i=new ut(r,n),o=new Oa("",i),a=w4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(e){let n=new ei([],Object.freeze({}),Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,O,n),rootSnapshot:n}}catch(r){if(r instanceof b0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Qr?this.noMatchError(r):r}}async processSegmentGroup(e,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,n,r,o);let a=await this.processSegment(e,n,r,r.segments,i,!0,o);return a instanceof ut?[a]:[]}async processChildren(e,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let a=[];for(let c of o){let d=r.children[c],l=XS(n,c),u=await this.processSegmentGroup(e,l,d,c,i);a.push(...u)}let s=V4(a);return VD(s),s}async processSegment(e,n,r,i,o,a,s){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,a,s)}catch(d){if(d instanceof Qr||R4(d))continue;throw d}if(OD(r,i,o))return new ND;throw new Qr(r)}async processSegmentAgainstRoute(e,n,r,i,o,a,s,c){if(Ht(r)!==a&&(a===O||!ml(i,o,r)))throw new Qr(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,a,c);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,c);throw new Qr(i)}async expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,s){let{matched:c,parameters:d,consumedSegments:l,positionalParamSegments:u,remainingSegments:h}=H4(n,i,o);if(!c)throw new Qr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jD&&(this.allowRedirects=!1));let f=new ei(o,d,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,s4(i),Ht(i),i.component??i._loadedComponent??null,i,c4(i)),y=pl(f,s,this.paramsInheritanceStrategy);if(f.params=Object.freeze(y.params),f.data=Object.freeze(y.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let w=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u,f,e),m=await this.applyRedirects.lineralizeSegments(i,w);return this.processSegment(e,r,n,m.concat(h),a,!1,s)}async matchSegmentAgainstRoute(e,n,r,i,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await Qd(ED(n,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!s?.matched)throw new Qr(n);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),d=r._loadedInjector??e,{parameters:l,consumedSegments:u,remainingSegments:h}=s,f=new ei(u,l,Object.freeze(g({},this.urlTree.queryParams)),this.urlTree.fragment,s4(r),Ht(r),r.component??r._loadedComponent??null,r,c4(r)),y=pl(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(y.params),f.data=Object.freeze(y.data);let{segmentGroup:w,slicedSegments:m}=a4(n,u,h,c);if(m.length===0&&w.hasChildren()){let fe=await this.processChildren(d,c,w,f);return new ut(f,fe)}if(c.length===0&&m.length===0)return new ut(f,[]);let M=Ht(r)===o,Y=await this.processSegment(d,c,w,m,M?O:o,!0,f);return new ut(f,Y instanceof ut?[Y]:[])}async getChildConfig(e,n,r){if(n.children)return{routes:n.children,injector:e};if(n.loadChildren){if(n._loadedRoutes!==void 0)return{routes:n._loadedRoutes,injector:n._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Qd(CD(e,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}throw SD(n)}return{routes:[],injector:e}}};function VD(t){t.sort((e,n)=>e.value.outlet===O?-1:n.value.outlet===O?1:e.value.outlet.localeCompare(n.value.outlet))}function zD(t){let e=t.value.routeConfig;return e&&e.path===""}function V4(t){let e=[],n=new Set;for(let r of t){if(!zD(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=V4(r.children);e.push(new ut(r.value,i))}return e.filter(r=>!n.has(r))}function s4(t){return t.data||{}}function c4(t){return t.resolve||{}}var BD=new v("",{factory:()=>FD});function qD(t,e,n,r,i,o,a){let s=t.get(BD);return Ae(c=>S(c).pipe(De(d=>s(t,e,n,r,d.extractedUrl,i,o,a)),F(({state:d,tree:l})=>V(g({},c),{targetSnapshot:d,urlAfterRedirects:l}))))}function UD(t,e){return Ae(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return S(n);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let d of z4(c))a.add(d);let s=0;return ve(a).pipe(bi(c=>o.has(c)?$D(c,r,t,e):(c.data=pl(c,c.parent,t).resolve,S(void 0))),Me(()=>s++),Bs(1),Ae(c=>s===a.size?S(n):Fe))})}function z4(t){let e=t.children.map(n=>z4(n)).flat();return[t,...e]}function $D(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!x4(i)&&(o[Fa]=i.title),Lo(()=>(t.data=pl(t,t.parent,n).resolve,WD(o,t,e,r).pipe(F(a=>(t._resolvedData=a,t.data=g(g({},t.data),a),null)))))}function WD(t,e,n,r){let i=y0(t);if(i.length===0)return S({});let o={};return ve(i).pipe(Ae(a=>GD(t[a],e,n,r).pipe(mn(),Me(s=>{if(s instanceof lo)throw fl(new ar,s);o[a]=s}))),Bs(1),F(()=>o),Ro(a=>R4(a)?Fe:qu(a)))}function GD(t,e,n,r){let i=ho(e)??r,o=fo(t,i),a=o.resolve?o.resolve(e,n):Pe(i,()=>o(e,n));return ri(a)}function p0(t){return De(e=>{let n=t(e);return n?ve(n).pipe(F(()=>e)):S(e)})}var T0=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===O);return r}getResolvedTitleForRoute(n){return n.data[Fa]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:()=>p(B4),providedIn:"root"})}return t})(),B4=(()=>{class t extends T0{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(x(Qv))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yo=new v("",{factory:()=>({})}),Ba=new v(""),q4=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=p(Pp);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await h4(Pe(n,()=>r.loadComponent())),a=await W4($4(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a,a}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await U4(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();async function U4(t,e,n,r){let i=await h4(Pe(n,()=>t.loadChildren())),o=await W4($4(i)),a;o instanceof fd||Array.isArray(o)?a=o:a=await e.compileModuleAsync(o),r&&r(t);let s,c,d=!1;return Array.isArray(a)?(c=a,d=!0):(s=a.create(n).injector,c=s.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:c.map(E0),injector:s}}function ZD(t){return t&&typeof t=="object"&&"default"in t}function $4(t){return ZD(t)?t.default:t}async function W4(t){return t}var kl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:()=>p(KD),providedIn:"root"})}return t})(),KD=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),G4=new v("");var YD=()=>{},Z4=new v(""),K4=(()=>{class t{currentNavigation=$(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=$(null);events=new T;transitionAbortWithErrorSubject=new T;configLoader=p(q4);environmentInjector=p(he);destroyRef=p(ze);urlSerializer=p(ja);rootContexts=p(po);location=p(Qi);inputBindingEnabled=p(Va,{optional:!0})!==null;titleStrategy=p(T0);options=p(yo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=p(kl);createViewTransition=p(G4,{optional:!0});navigationErrorHandler=p(Z4,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ol(i)),r=i=>this.events.next(new al(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Ze(()=>{this.transitions?.next(V(g({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new Se(null),this.transitions.pipe(je(r=>r!==null),De(r=>{let i=!1,o=new AbortController;return S(r).pipe(De(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ye.SupersededByNewNavigation),Fe;this.currentTransition=r;let s=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:s?V(g({},s),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&d!=="reload")return this.events.next(new Pn(a.id,this.urlSerializer.serialize(a.rawUrl),"",Aa.IgnoredSameUrlNavigation)),a.resolve(!1),Fe;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return S(a).pipe(De(l=>(this.events.next(new An(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Fe:Promise.resolve(l))),qD(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Me(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let u=new ni(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:f,extras:y}=a,w=new An(l,this.urlSerializer.serialize(u),h,f);this.events.next(w);let m=S4(this.rootComponentType).snapshot;return this.currentTransition=r=V(g({},a),{targetSnapshot:m,urlAfterRedirects:u,extras:V(g({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=u,M)),S(r)}else return this.events.next(new Pn(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Aa.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Fe}),Me(a=>{let s=new tl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),F(a=>(this.currentTransition=r=V(g({},a),{guards:iD(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),yD(this.environmentInjector,a=>this.events.next(a)),Me(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw fl(this.urlSerializer,a.guardsResult);let s=new nl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(s)}),je(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Ye.GuardRejected),!1)),p0(a=>{if(a.guards.canActivateChecks.length!==0)return S(a).pipe(Me(s=>{let c=new rl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),De(s=>{let c=!1;return S(s).pipe(UD(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",Ye.NoDataFromResolver)}}))}),Me(s=>{let c=new il(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),p0(a=>{let s=d=>{let l=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let u=ho(d)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,d.routeConfig).then(h=>{d.component=h}))}for(let u of d.children)l.push(...s(u));return l},c=s(a.targetSnapshot.root);return c.length===0?S(a):ve(Promise.all(c).then(()=>a))}),p0(()=>this.afterPreactivation()),De(()=>{let{currentSnapshot:a,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,a.root,s.root);return c?ve(c).pipe(F(()=>r)):S(r)}),F(a=>{let s=JS(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=V(g({},a),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),Me(()=>{this.events.next(new Ra)}),rD(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),He(1),et(P4(o.signal).pipe(je(()=>!i&&!r.targetRouterState),Me(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Ye.Aborted)}))),Me({next:a=>{i=!0,this.currentNavigation.update(s=>(s.abort=YD,s)),this.lastSuccessfulNavigation.set(Ze(this.currentNavigation)),this.events.next(new Rn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),et(this.transitionAbortWithErrorSubject.pipe(Me(a=>{throw a}))),Po(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Ye.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ro(a=>{if(this.destroyed)return r.resolve(!1),Fe;if(i=!0,A4(a))this.events.next(new cn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),nD(a)?this.events.next(new co(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let s=new so(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let c=Pe(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof lo){let{message:d,cancellationCode:l}=fl(this.urlSerializer,c);this.events.next(new cn(r.id,this.urlSerializer.serialize(r.extractedUrl),d,l)),this.events.next(new co(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),a}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Fe}))}))}cancelNavigationTransition(n,r,i){let o=new cn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ze(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XD(t){return t!==Ea}var Y4=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:()=>p(QD),providedIn:"root"})}return t})(),gl=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},QD=(()=>{class t extends gl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Gc(t)))(i||t)}})();static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),L0=(()=>{class t{urlSerializer=p(ja);options=p(yo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=p(Qi);urlHandlingStrategy=p(kl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof Vt?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=S4(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:()=>p(X4),providedIn:"root"})}return t})(),X4=(()=>{class t extends L0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof An?this.updateStateMemento():n instanceof Pn?this.commitTransition(r):n instanceof ni?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ra?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof cn&&n.code!==Ye.SupersededByNewNavigation&&n.code!==Ye.Redirect?this.restoreHistory(r):n instanceof so?this.restoreHistory(r,!0):n instanceof Rn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let s=this.browserPageId,c=g(g({},a),this.generateNgRouterState(i,s));this.location.replaceState(n,"",c)}else{let s=g(g({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Gc(t)))(i||t)}})();static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function A0(t,e){t.events.pipe(je(n=>n instanceof Rn||n instanceof cn||n instanceof so||n instanceof Pn),F(n=>n instanceof Rn||n instanceof Pn?0:(n instanceof cn?n.code===Ye.Redirect||n.code===Ye.SupersededByNewNavigation:!1)?2:1),je(n=>n!==2),He(1)).subscribe(()=>{e()})}var JD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=p(yd);stateManager=p(L0);options=p(yo,{optional:!0})||{};pendingTasks=p(en);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=p(K4);urlSerializer=p(ja);location=p(Qi);urlHandlingStrategy=p(kl);injector=p(he);_events=new T;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=p(Y4);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=p(Ba,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!p(Va,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new oe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Ze(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof cn&&r.code!==Ye.Redirect&&r.code!==Ye.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rn)this.navigated=!0;else if(r instanceof co){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=g({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XD(i.source)},a);this.scheduleNavigation(s,Ea,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}KS(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ea,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=g({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o).catch(c=>{this.disposed||this.injector.get(Mt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ze(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(E0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:a,l=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":l=g(g({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let u;try{let h=i?i.snapshot:this.routerState.snapshot.root;u=I4(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return C4(u,n,l,d??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ao(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ea,null,r)}navigate(n,r={skipLocationChange:!1}){return t7(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Et(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=g({},JD):r===!1?i=g({},e7):i=r,ao(n))return t4(this.currentUrlTree,n,i);let o=this.parseUrl(n);return t4(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,d;a?(s=a.resolve,c=a.reject,d=a.promise):d=new Promise((u,h)=>{s=u,c=h});let l=this.pendingTasks.add();return A0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function t7(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}var r7=new v("");function R0(t,...e){return yt([{provide:Ba,multi:!0,useValue:t},[],{provide:sr,useFactory:i7},{provide:Xn,multi:!0,useFactory:o7},e.map(n=>n.\u0275providers)])}function i7(){return p(dn).routerState.root}function Q4(t,e){return{\u0275kind:t,\u0275providers:e}}function o7(){let t=p(me);return e=>{let n=t.get(Be);if(e!==n.components[0])return;let r=t.get(dn),i=t.get(a7);t.get(s7)===1&&r.initialNavigation(),t.get(c7,null,{optional:!0})?.setUpPreloading(),t.get(r7,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var a7=new v("",{factory:()=>new T}),s7=new v("",{factory:()=>1});var c7=new v("");function P0(t){return Q4(5,[{provide:yo,useValue:t}])}function O0(){return Q4(8,[D0,{provide:Va,useExisting:D0}])}var J4=()=>{};var n5=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},l7=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],s=t[n++],c=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},r5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,s=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,l=o>>2,u=(o&3)<<4|s>>4,h=(s&15)<<2|d>>6,f=d&63;c||(f=64,a||(h=64)),r.push(n[l],n[u],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let u=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||d==null||u==null)throw new F0;let h=o<<2|s>>4;if(r.push(h),d!==64){let f=s<<4&240|d>>2;if(r.push(f),u!==64){let y=d<<6&192|u;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},F0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},u7=function(t){let e=n5(t);return r5.encodeByteArray(e,!0)},H0=function(t){return u7(t).replace(/\./g,"")},Ml=function(t){try{return r5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var p7=()=>h7().__FIREBASE_DEFAULTS__,f7=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ml(t[1]);return e&&JSON.parse(e)},V0=()=>{try{return J4()||p7()||f7()||y7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i5=t=>V0()?.emulatorHosts?.[t];var z0=()=>V0()?.config,B0=t=>V0()?.[`_${t}`];var vl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ua(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o5(t){return(await fetch(t,{credentials:"include"})).ok}var qa={};function g7(){let t={prod:[],emulator:[]};for(let e of Object.keys(qa))qa[e]?t.emulator.push(e):t.prod.push(e);return t}function m7(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var e5=!1;function a5(t,e){if(typeof window>"u"||typeof document>"u"||!Ua(window.location.host)||qa[t]===e||qa[t]||e5)return;qa[t]=e;function n(h){return`__firebase__banner__${h}`}let r="__firebase__banner",o=g7().prod.length>0;function a(){let h=document.getElementById(r);h&&h.remove()}function s(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function d(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{e5=!0,a()},h}function l(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function u(){let h=m7(r),f=n("text"),y=document.getElementById(f)||document.createElement("span"),w=n("learnmore"),m=document.getElementById(w)||document.createElement("a"),M=n("preprendIcon"),Y=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let fe=h.element;s(fe),l(m,w);let ce=d();c(Y,M),fe.append(Y,y,m,ce),document.body.appendChild(fe)}o?(y.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",u):u()}function Ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function c5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d5(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function l5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u5(){let t=Ue();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function h5(){try{return typeof indexedDB=="object"}catch{return!1}}function p5(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}var k7="FirebaseError",zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k7,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,On.prototype.create)}},On=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?v7(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new zt(i,s,r)}};function v7(t,e){return t.replace(M7,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var M7=/\{\$([^}]+)}/g;function f5(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],a=e[i];if(t5(o)&&t5(a)){if(!cr(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function t5(t){return t!==null&&typeof t=="object"}function go(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function y5(t,e){let n=new j0(t,e);return n.subscribe.bind(n)}var j0=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");w7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=N0),i.error===void 0&&(i.error=N0),i.complete===void 0&&(i.complete=N0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function w7(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function N0(){}var KG=14400*1e3;function Nn(t){return t&&t._delegate?t._delegate:t}var ln=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ii="[DEFAULT]";var q0=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new vl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){let n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C7(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,a]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function I7(t){return t===ii?void 0:t}function C7(t){return t.instantiationMode==="EAGER"}var wl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new q0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var b7=[],de=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(de||{}),_7={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},S7=de.INFO,D7={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},x7=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=D7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mo=class{constructor(e){this.name=e,this._logLevel=S7,this._logHandler=x7,this._userLogHandler=null,b7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var E7=(t,e)=>e.some(n=>t instanceof n),g5,m5;function T7(){return g5||(g5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L7(){return m5||(m5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var k5=new WeakMap,$0=new WeakMap,v5=new WeakMap,U0=new WeakMap,G0=new WeakMap;function A7(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(un(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&k5.set(n,t)}).catch(()=>{}),G0.set(e,t),e}function R7(t){if($0.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});$0.set(t,e)}var W0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||v5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function M5(t){W0=t(W0)}function P7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Il(this),e,...n);return v5.set(r,e.sort?e.sort():[e]),un(r)}:L7().includes(t)?function(...e){return t.apply(Il(this),e),un(k5.get(this))}:function(...e){return un(t.apply(Il(this),e))}}function O7(t){return typeof t=="function"?P7(t):(t instanceof IDBTransaction&&R7(t),E7(t,T7())?new Proxy(t,W0):t)}function un(t){if(t instanceof IDBRequest)return A7(t);if(U0.has(t))return U0.get(t);let e=O7(t);return e!==t&&(U0.set(t,e),G0.set(e,t)),e}var Il=t=>G0.get(t);function I5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),s=un(a);return r&&a.addEventListener("upgradeneeded",c=>{r(un(a.result),c.oldVersion,c.newVersion,un(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),s.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),s}var N7=["get","getKey","getAll","getAllKeys","count"],F7=["put","add","delete","clear"],Z0=new Map;function w5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z0.get(e))return Z0.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=F7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||N7.includes(n)))return;let o=async function(a,...s){let c=this.transaction(a,i?"readwrite":"readonly"),d=c.store;return r&&(d=d.index(s.shift())),(await Promise.all([d[n](...s),i&&c.done]))[0]};return Z0.set(e,o),o}M5(t=>V(g({},t),{get:(e,n,r)=>w5(e,n)||t.get(e,n,r),has:(e,n)=>!!w5(e,n)||t.has(e,n)}));var Y0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j7(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function j7(t){return t.getComponent()?.type==="VERSION"}var X0="@firebase/app",C5="0.14.6";var Fn=new mo("@firebase/app"),H7="@firebase/app-compat",V7="@firebase/analytics-compat",z7="@firebase/analytics",B7="@firebase/app-check-compat",q7="@firebase/app-check",U7="@firebase/auth",$7="@firebase/auth-compat",W7="@firebase/database",G7="@firebase/data-connect",Z7="@firebase/database-compat",K7="@firebase/functions",Y7="@firebase/functions-compat",X7="@firebase/installations",Q7="@firebase/installations-compat",J7="@firebase/messaging",ex="@firebase/messaging-compat",tx="@firebase/performance",nx="@firebase/performance-compat",rx="@firebase/remote-config",ix="@firebase/remote-config-compat",ox="@firebase/storage",ax="@firebase/storage-compat",sx="@firebase/firestore",cx="@firebase/ai",dx="@firebase/firestore-compat",lx="firebase",ux="12.6.0";var Q0="[DEFAULT]",hx={[X0]:"fire-core",[H7]:"fire-core-compat",[z7]:"fire-analytics",[V7]:"fire-analytics-compat",[q7]:"fire-app-check",[B7]:"fire-app-check-compat",[U7]:"fire-auth",[$7]:"fire-auth-compat",[W7]:"fire-rtdb",[G7]:"fire-data-connect",[Z7]:"fire-rtdb-compat",[K7]:"fire-fn",[Y7]:"fire-fn-compat",[X7]:"fire-iid",[Q7]:"fire-iid-compat",[J7]:"fire-fcm",[ex]:"fire-fcm-compat",[tx]:"fire-perf",[nx]:"fire-perf-compat",[rx]:"fire-rc",[ix]:"fire-rc-compat",[ox]:"fire-gcs",[ax]:"fire-gcs-compat",[sx]:"fire-fst",[dx]:"fire-fst-compat",[cx]:"fire-vertex","fire-js":"fire-js",[lx]:"fire-js-all"};var Cl=new Map,px=new Map,J0=new Map;function b5(t,e){try{t.container.addComponent(e)}catch(n){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){let e=t.name;if(J0.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;J0.set(e,t);for(let n of Cl.values())b5(n,t);for(let n of px.values())b5(n,t);return!0}function r2(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bt(t){return t==null?!1:t.settings!==void 0}var fx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new On("app","Firebase",fx);var e2=class{constructor(e,n,r){this._isDeleted=!1,this._options=g({},e),this._config=g({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}};var vo=ux;function i2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=g({name:Q0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw dr.create("bad-app-name",{appName:String(i)});if(n||(n=z0()),!n)throw dr.create("no-options");let o=Cl.get(i);if(o){if(cr(n,o.options)&&cr(r,o.config))return o;throw dr.create("duplicate-app",{appName:i})}let a=new wl(i);for(let c of J0.values())a.addComponent(c);let s=new e2(n,r,a);return Cl.set(i,s),s}function x5(t=Q0){let e=Cl.get(t);if(!e&&t===Q0&&z0())return i2();if(!e)throw dr.create("no-app",{appName:t});return e}function lr(t,e,n){let r=hx[t]??t;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(a.join(" "));return}ko(new ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var yx="firebase-heartbeat-database",gx=1,$a="firebase-heartbeat-store",K0=null;function E5(){return K0||(K0=I5(yx,gx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($a)}catch(n){console.warn(n)}}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),K0}async function mx(t){try{let n=(await E5()).transaction($a),r=await n.objectStore($a).get(T5(t));return await n.done,r}catch(e){if(e instanceof zt)Fn.warn(e.message);else{let n=dr.create("idb-get",{originalErrorMessage:e?.message});Fn.warn(n.message)}}}async function _5(t,e){try{let r=(await E5()).transaction($a,"readwrite");await r.objectStore($a).put(e,T5(t)),await r.done}catch(n){if(n instanceof zt)Fn.warn(n.message);else{let r=dr.create("idb-set",{originalErrorMessage:n?.message});Fn.warn(r.message)}}}function T5(t){return`${t.name}!${t.options.appId}`}var kx=1024,vx=30,t2=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new n2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=S5();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>vx){let i=wx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=S5(),{heartbeatsToSend:n,unsentEntries:r}=Mx(this._heartbeatsCache.heartbeats),i=H0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Fn.warn(e),""}}};function S5(){return new Date().toISOString().substring(0,10)}function Mx(t,e=kx){let n=[],r=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),D5(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),D5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var n2=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h5()?p5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await mx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return _5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return _5(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function D5(t){return H0(JSON.stringify({version:2,heartbeats:t})).length}function wx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Ix(t){ko(new ln("platform-logger",e=>new Y0(e),"PRIVATE")),ko(new ln("heartbeat",e=>new t2(e),"PRIVATE")),lr(X0,C5,t),lr(X0,C5,"esm2020"),lr("fire-js","")}Ix("");var Cx="firebase",bx="12.7.0";lr(Cx,bx,"app");function $5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var W5=$5,G5=new On("auth","Firebase",$5());var El=new mo("@firebase/auth");function _x(t,...e){El.logLevel<=de.WARN&&El.warn(`Auth (${vo}): ${t}`,...e)}function _l(t,...e){El.logLevel<=de.ERROR&&El.error(`Auth (${vo}): ${t}`,...e)}function pn(t,...e){throw I2(t,...e)}function qt(t,...e){return I2(t,...e)}function w2(t,e,n){let r=V(g({},W5()),{[e]:n});return new On("auth","Firebase",r).create(e,{appName:t.name})}function oi(t){return w2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sx(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(t,"argument-error"),w2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function I2(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return G5.create(t,...e)}function L(t,e,...n){if(!t)throw I2(e,...n)}function jn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw _l(e),new Error(e)}function Vn(t,e){t||jn(e)}function s2(){return typeof self<"u"&&self.location?.href||""}function Dx(){return L5()==="http:"||L5()==="https:"}function L5(){return typeof self<"u"&&self.location?.protocol||null}function xx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dx()||d5()||"connection"in navigator)?navigator.onLine:!0}function Ex(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ai=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vn(n>e,"Short delay should be less than long delay!"),this.isMobile=s5()||l5()}get(){return xx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function C2(t,e){Vn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Tl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Tx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Lx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ax=new ai(3e4,6e4);function b2(t,e){return t.tenantId&&!e.tenantId?V(g({},e),{tenantId:t.tenantId}):e}async function wo(t,e,n,r,i={}){return Z5(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});let s=go(g({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);let d=g({method:e,headers:c},o);return c5()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ua(t.emulatorConfig.host)&&(d.credentials="include"),Tl.fetch()(await K5(t,t.config.apiHost,n,s),d)})}async function Z5(t,e,n){t._canInitEmulator=!1;let r=g(g({},Tx),e);try{let i=new c2(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=await o.json();if("needConfirmation"in a)throw bl(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let s=o.ok?a.errorMessage:a.error.message,[c,d]=s.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bl(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw bl(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw bl(t,"user-disabled",a);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw w2(t,l,d);pn(t,l)}}catch(i){if(i instanceof zt)throw i;pn(t,"network-request-failed",{message:String(i)})}}async function Rx(t,e,n,r,i={}){let o=await wo(t,e,n,r,i);return"mfaPendingCredential"in o&&pn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function K5(t,e,n,r){let i=`${e}${n}?${r}`,o=t,a=o.config.emulator?C2(t.config,i):`${t.config.apiScheme}://${i}`;return Lx.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}var c2=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qt(this.auth,"network-request-failed")),Ax.get())})}};function bl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=qt(t,e,r);return i.customData._tokenResponse=n,i}async function Px(t,e){return wo(t,"POST","/v1/accounts:delete",e)}async function Ll(t,e){return wo(t,"POST","/v1/accounts:lookup",e)}function Wa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y5(t,e=!1){let n=Nn(t),r=await n.getIdToken(e),i=_2(r);L(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Wa(o2(i.auth_time)),issuedAtTime:Wa(o2(i.iat)),expirationTime:Wa(o2(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function o2(t){return Number(t)*1e3}function _2(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _l("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ml(n);return i?JSON.parse(i):(_l("Failed to decode base64 JWT payload"),null)}catch(i){return _l("Caught error parsing JWT payload as JSON",i?.toString()),null}}function A5(t){let e=_2(t);return L(e,"internal-error"),L(typeof e.exp<"u","internal-error"),L(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Za(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zt&&Ox(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ox({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var d2=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ka=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wa(this.lastLoginAt),this.creationTime=Wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Al(t){let e=t.auth,n=await t.getIdToken(),r=await Za(t,Ll(e,{idToken:n}));L(r?.users.length,e,"internal-error");let i=r.users[0];t._notifyReloadListener(i);let o=i.providerUserInfo?.length?Q5(i.providerUserInfo):[],a=Nx(t.providerData,o),s=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=s?c:!1,l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ka(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,l)}async function X5(t){let e=Nn(t);await Al(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q5(t){return t.map(r=>{var i=r,{providerId:e}=i,n=di(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function Fx(t,e){let n=await Z5(t,{},async()=>{let r=go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await K5(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:s,body:r};return t.emulatorConfig&&Ua(t.emulatorConfig.host)&&(c.credentials="include"),Tl.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jx(t,e){return wo(t,"POST","/v2/accounts:revokeToken",b2(t,e))}var Ga=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){L(e.idToken,"internal-error"),L(typeof e.idToken<"u","internal-error"),L(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){L(e.length!==0,"internal-error");let n=A5(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(L(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await Fx(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new t;return r&&(L(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(L(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(L(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return jn("not implemented")}};function ur(t,e){L(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var hr=class t{constructor(o){var a=o,{uid:e,auth:n,stsTokenManager:r}=a,i=di(a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ka(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let n=await Za(this,this.stsTokenManager.getToken(this.auth,e));return L(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y5(this,e)}reload(){return X5(this)}_assign(e){this!==e&&(L(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>g({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(V(g({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Al(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bt(this.auth.app))return Promise.reject(oi(this.auth));let e=await this.getIdToken();return await Za(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return V(g({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>g({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,l=n.lastLoginAt??void 0,{uid:u,emailVerified:h,isAnonymous:f,providerData:y,stsTokenManager:w}=n;L(u&&w,e,"internal-error");let m=Ga.fromJSON(this.name,w);L(typeof u=="string",e,"internal-error"),ur(r,e.name),ur(i,e.name),L(typeof h=="boolean",e,"internal-error"),L(typeof f=="boolean",e,"internal-error"),ur(o,e.name),ur(a,e.name),ur(s,e.name),ur(c,e.name),ur(d,e.name),ur(l,e.name);let M=new t({uid:u,auth:e,email:i,emailVerified:h,displayName:r,isAnonymous:f,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:m,createdAt:d,lastLoginAt:l});return y&&Array.isArray(y)&&(M.providerData=y.map(Y=>g({},Y))),c&&(M._redirectEventId=c),M}static async _fromIdTokenResponse(e,n,r=!1){let i=new Ga;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Al(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];L(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Q5(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,s=new Ga;s.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ka(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,d),c}};var R5=new Map;function Hn(t){Vn(t instanceof Function,"Expected a class definition");let e=R5.get(t);return e?(Vn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R5.set(t,e),e)}var Hx=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),l2=Hx;function Sl(t,e,n){return`firebase:${t}:${e}:${n}`}var Rl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Sl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Ll(this.auth,{idToken:e}).catch(()=>{});return n?hr._fromGetAccountInfoResponse(this.auth,n,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Hn(l2),e,r);let i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d),o=i[0]||Hn(l2),a=Sl(r,e.config.apiKey,e.name),s=null;for(let d of n)try{let l=await d._get(a);if(l){let u;if(typeof l=="string"){let h=await Ll(e,{idToken:l}).catch(()=>{});if(!h)break;u=await hr._fromGetAccountInfoResponse(e,h,l)}else u=hr._fromJSON(e,l);d!==o&&(s=u),o=d;break}}catch{}let c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(a)}catch{}})),new t(o,e,r))}};function P5(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iM(e))return"Blackberry";if(oM(e))return"Webos";if(eM(e))return"Safari";if((e.includes("chrome/")||tM(e))&&!e.includes("edge/"))return"Chrome";if(rM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function J5(t=Ue()){return/firefox\//i.test(t)}function eM(t=Ue()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tM(t=Ue()){return/crios\//i.test(t)}function nM(t=Ue()){return/iemobile/i.test(t)}function rM(t=Ue()){return/android/i.test(t)}function iM(t=Ue()){return/blackberry/i.test(t)}function oM(t=Ue()){return/webos/i.test(t)}function S2(t=Ue()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Vx(t=Ue()){return S2(t)&&!!window.navigator?.standalone}function zx(){return u5()&&document.documentMode===10}function aM(t=Ue()){return S2(t)||rM(t)||oM(t)||iM(t)||/windows phone/i.test(t)||nM(t)}function sM(t,e=[]){let n;switch(t){case"Browser":n=P5(Ue());break;case"Worker":n=`${P5(Ue())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}var u2=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((a,s)=>{try{let c=e(o);a(c)}catch(c){s(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function Bx(t,e={}){return wo(t,"GET","/v2/passwordPolicy",b2(t,e))}var qx=6,h2=class{constructor(e){let n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var p2=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pl(this),this.idTokenSubscription=new Pl(this),this.beforeStateQueue=new u2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Ll(this,{idToken:e}),r=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,a=r?._redirectEventId,s=await this.tryRedirectSignIn(e);(!o||o===a)&&s?.user&&(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return L(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Al(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ex()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bt(this.app))return Promise.reject(oi(this));let n=e?Nn(e):null;return n&&L(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&L(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bt(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bt(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await Bx(this),n=new h2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new On("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jx(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Hn(e)||this._popupRedirectResolver;L(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,s=this._isInitialized?Promise.resolve():this._initializationPromise;if(L(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{let c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Bt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_x(`Error while retrieving App Check token: ${e.error}`),e?.token}};function Bl(t){return Nn(t)}var Pl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=y5(n=>this.observer=n)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var D2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ux(t){D2=t}function $x(t){return D2.loadJS(t)}function Wx(){return D2.gapiScript}function cM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function dM(t,e){let n=r2(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(cr(o,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function Gx(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function lM(t,e,n){let r=Bl(t);L(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=uM(e),{host:a,port:s}=Zx(e),c=s===null?"":`:${s}`,d={url:`${o}//${a}${c}/`},l=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){L(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),L(cr(d,r.config.emulator)&&cr(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,Ua(a)?(o5(`${o}//${a}${c}`),a5("Auth",!0)):i||Kx()}function uM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zx(t){let e=uM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:O5(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:O5(a)}}}function O5(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Kx(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ya=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jn("not implemented")}_getIdTokenResponse(e){return jn("not implemented")}_linkToIdToken(e,n){return jn("not implemented")}_getReauthenticationResolver(e){return jn("not implemented")}};async function Mo(t,e){return Rx(t,"POST","/v1/accounts:signInWithIdp",b2(t,e))}var Yx="http://localhost",Ol=class t extends Ya{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=s,o=di(s,["providerId","signInMethod"]);if(!r||!i)return null;let a=new t(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){let n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Mo(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){let e={requestUri:Yx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=go(n)}return e}};var Xa=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Nl=class extends Xa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var x2=(()=>{class t extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ol._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Qa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await hr._fromIdTokenResponse(e,r,i),a=N5(r);return new t({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=N5(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function N5(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var f2=class t extends zt{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function hM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?f2._fromErrorAndOperation(t,o,e,r):o})}async function Xx(t,e,n=!1){let r=await Za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",r)}async function Qx(t,e,n=!1){let{auth:r}=t;if(Bt(r.app))return Promise.reject(oi(r));let i="reauthenticate";try{let o=await Za(t,hM(r,i,e,t),n);L(o.idToken,r,"internal-error");let a=_2(o.idToken);L(a,r,"internal-error");let{sub:s}=a;return L(t.uid===s,r,"user-mismatch"),Qa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&pn(r,"user-mismatch"),o}}async function Jx(t,e,n=!1){if(Bt(t.app))return Promise.reject(oi(t));let r="signIn",i=await hM(t,r,e),o=await Qa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function pM(t,e,n,r){return Nn(t).onIdTokenChanged(e,n,r)}function fM(t,e,n){return Nn(t).beforeAuthStateChanged(e,n)}function E2(t,e,n,r){return Nn(t).onAuthStateChanged(e,n,r)}function T2(t){return Nn(t).signOut()}var Fl="__sak";var jl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fl,"1"),this.storage.removeItem(Fl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var eE=1e3,tE=10,nE=(()=>{class t extends jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((s,c,d)=>{this.notifyListeners(s,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let s=this.storage.getItem(i);!r&&this.localCache[i]===s||this.notifyListeners(i,s)},a=this.storage.getItem(i);zx()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,tE):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},eE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),yM=nE;var rE=(()=>{class t extends jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),L2=rE;function iE(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var oE=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:a}=r.data,s=this.handlersMap[o];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(s).map(async l=>l(r.origin,a)),d=await iE(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function A2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var y2=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,c)=>{let d=A2("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(u){let h=u;if(h.data.eventId===d)switch(h.data.status){case"ack":clearTimeout(l),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(l),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function hn(){return window}function aE(t){hn().location.href=t}function gM(){return typeof hn().WorkerGlobalScope<"u"&&typeof hn().importScripts=="function"}async function sE(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cE(){return navigator?.serviceWorker?.controller||null}function dE(){return gM()?self:null}var mM="firebaseLocalStorageDb",lE=1,Hl="firebaseLocalStorage",kM="fbase_key",si=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ql(t,e){return t.transaction([Hl],e?"readwrite":"readonly").objectStore(Hl)}function uE(){let t=indexedDB.deleteDatabase(mM);return new si(t).toPromise()}function g2(){let t=indexedDB.open(mM,lE);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Hl,{keyPath:kM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Hl)?e(r):(r.close(),await uE(),e(await g2()))})})}async function F5(t,e,n){let r=ql(t,!0).put({[kM]:e,value:n});return new si(r).toPromise()}async function hE(t,e){let n=ql(t,!1).get(e),r=await new si(n).toPromise();return r===void 0?null:r.value}function j5(t,e){let n=ql(t,!0).delete(e);return new si(n).toPromise()}var pE=800,fE=3,yE=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g2(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>fE)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oE._getInstance(dE()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sE(),!this.activeServiceWorker)return;this.sender=new y2(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||cE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await g2();return await F5(n,Fl,"1"),await j5(n,Fl),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>F5(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>hE(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j5(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let a=ql(o,!1).getAll();return new si(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),vM=yE;var SZ=cM("rcb"),DZ=new ai(3e4,6e4);function MM(t,e){return e?Hn(e):(L(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ja=class extends Ya{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function gE(t){return Jx(t.auth,new Ja(t),t.bypassAuthState)}function mE(t){let{auth:e,user:n}=t;return L(n,e,"internal-error"),Qx(n,new Ja(t),t.bypassAuthState)}async function kE(t){let{auth:e,user:n}=t;return L(n,e,"internal-error"),Xx(n,new Ja(t),t.bypassAuthState)}var Vl=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gE;case"linkViaPopup":case"linkViaRedirect":return kE;case"reauthViaPopup":case"reauthViaRedirect":return mE;default:pn(this.auth,"internal-error")}}resolve(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var vE=new ai(2e3,1e4);async function R2(t,e,n){if(Bt(t.app))return Promise.reject(qt(t,"operation-not-supported-in-this-environment"));let r=Bl(t);Sx(t,e,Xa);let i=MM(r,n);return new ME(r,"signInViaPopup",e,i).executeNotNull()}var ME=(()=>{class t extends Vl{constructor(n,r,i,o,a){super(n,r,o,a),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){let n=await this.execute();return L(n,this.auth,"internal-error"),n}async onExecution(){Vn(this.filter.length===1,"Popup operations only handle one event");let n=A2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(qt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,vE.get())};n()}}t.currentPopupAction=null;return t})(),wE="pendingRedirect",Dl=new Map,m2=class extends Vl{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dl.get(this.auth._key());if(!e){try{let r=await IE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dl.set(this.auth._key(),e)}return this.bypassAuthState||Dl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function IE(t,e){let n=_E(e),r=bE(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function CE(t,e){Dl.set(t._key(),e)}function bE(t){return Hn(t._redirectPersistence)}function _E(t){return Sl(wE,t.config.apiKey,t.name)}async function SE(t,e,n=!1){if(Bt(t.app))return Promise.reject(oi(t));let r=Bl(t),i=MM(r,e),a=await new m2(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}var DE=600*1e3,k2=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xE(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!wM(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(qt(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DE&&this.cachedEventUids.clear(),this.cachedEventUids.has(H5(e))}saveEventToCache(e){this.cachedEventUids.add(H5(e)),this.lastProcessedEventTime=Date.now()}};function H5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xE(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wM(t);default:return!1}}async function EE(t,e={}){return wo(t,"GET","/v1/projects",e)}var TE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LE=/^https?/;async function AE(t){if(t.config.emulator)return;let{authorizedDomains:e}=await EE(t);for(let n of e)try{if(RE(n))return}catch{}pn(t,"unauthorized-domain")}function RE(t){let e=s2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!LE.test(n))return!1;if(TE.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var PE=new ai(3e4,6e4);function V5(){let t=hn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function OE(t){return new Promise((e,n)=>{function r(){V5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V5(),n(qt(t,"network-request-failed"))},timeout:PE.get()})}if(hn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hn().gapi?.load)r();else{let i=cM("iframefcb");return hn()[i]=()=>{gapi.load?r():n(qt(t,"network-request-failed"))},$x(`${Wx()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw xl=null,e})}var xl=null;function NE(t){return xl=xl||OE(t),xl}var FE=new ai(5e3,15e3),jE="__/auth/iframe",HE="emulator/auth/iframe",VE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BE(t){let e=t.config;L(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?C2(e,HE):`https://${t.config.authDomain}/${jE}`,r={apiKey:e.apiKey,appName:t.name,v:vo},i=zE.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${go(r).slice(1)}`}async function qE(t){let e=await NE(t),n=hn().gapi;return L(n,t,"internal-error"),e.open({where:document.body,url:BE(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VE,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let a=qt(t,"network-request-failed"),s=hn().setTimeout(()=>{o(a)},FE.get());function c(){hn().clearTimeout(s),i(r)}r.ping(c).then(c,()=>{o(a)})}))}var UE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$E=500,WE=600,GE="_blank",ZE="http://localhost",zl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function KE(t,e,n,r=$E,i=WE){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=V(g({},UE),{width:r.toString(),height:i.toString(),top:o,left:a}),d=Ue().toLowerCase();n&&(s=tM(d)?GE:n),J5(d)&&(e=e||ZE,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[f,y])=>`${h}${f}=${y},`,"");if(Vx(d)&&s!=="_self")return YE(e||"",s),new zl(null);let u=window.open(e||"",s,l);L(u,t,"popup-blocked");try{u.focus()}catch{}return new zl(u)}function YE(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var XE="__/auth/handler",QE="emulator/auth/handler",JE=encodeURIComponent("fac");async function z5(t,e,n,r,i,o){L(t.config.authDomain,t,"auth-domain-config-required"),L(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vo,eventId:i};if(e instanceof Xa){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",f5(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,u]of Object.entries(o||{}))a[l]=u}if(e instanceof Nl){let l=e.getScopes().filter(u=>u!=="");l.length>0&&(a.scopes=l.join(","))}t.tenantId&&(a.tid=t.tenantId);let s=a;for(let l of Object.keys(s))s[l]===void 0&&delete s[l];let c=await t._getAppCheckToken(),d=c?`#${JE}=${encodeURIComponent(c)}`:"";return`${e9(t)}?${go(s).slice(1)}${d}`}function e9({config:t}){return t.emulator?C2(t,QE):`https://${t.authDomain}/${XE}`}var a2="webStorageSupport",v2=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L2,this._completeRedirectFn=SE,this._overrideRedirectResult=CE}async _openPopup(e,n,r,i){Vn(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await z5(e,n,r,s2(),i);return KE(e,o,A2())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await z5(e,n,r,s2(),i);return aE(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Vn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await qE(e),r=new k2(e);return n.register("authEvent",i=>(L(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(a2,{type:a2},i=>{let o=i?.[0]?.[a2];o!==void 0&&n(!!o),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AE(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aM()||eM()||S2()}},IM=v2;var B5="@firebase/auth",q5="1.12.0";var M2=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function t9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n9(t){ko(new ln("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;L(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sM(t)},d=new p2(r,i,o,c);return Gx(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new ln("auth-internal",e=>{let n=Bl(e.getProvider("auth").getImmediate());return(r=>new M2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(B5,q5,t9(t)),lr(B5,q5,"esm2020")}var r9=300,i9=B0("authIdTokenMaxAge")||r9,U5=null,o9=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i9)return;let i=n?.token;U5!==i&&(U5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function P2(t=x5()){let e=r2(t,"auth");if(e.isInitialized())return e.getImmediate();let n=dM(t,{popupRedirectResolver:IM,persistence:[vM,yM,L2]}),r=B0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=o9(o.toString());fM(n,a,()=>a(n.currentUser)),pM(n,s=>a(s))}}let i=i5("auth");return i&&lM(n,`http://${i}`),n}function a9(){return document.getElementsByTagName("head")?.[0]??document}Ux({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=qt("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",a9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n9("Browser");var fn=class t{auth;user=$(null);constructor(){let n=i2({apiKey:"AIzaSyBKjHTxlaa6D7icnxhp1Unz9uTCcuJLWSc",authDomain:"travelmap-b4be9.firebaseapp.com",projectId:"travelmap-b4be9",storageBucket:"travelmap-b4be9.firebasestorage.app",messagingSenderId:"211285565341",appId:"1:211285565341:web:beb194890d6cf76ba95974"});this.auth=P2(n),E2(this.auth,r=>{if(r&&r.photoURL){let i=r.photoURL.replace("=s96-c","=s128-c");Object.defineProperty(r,"photoURL",{value:i,writable:!0})}this.user.set(r)})}async login(){return R2(this.auth,new x2)}async logout(){return T2(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ul=class t{constructor(e,n){this.http=e;this.authService=n}baseUrl="https://travelmap-307804410649.europe-west1.run.app/";d=800;getUserTrips(){let e=this.authService.user()?.uid;return S([{id:"wereldreis",name:"Wereldreis",plans:[{id:"v1",name:"v1",priority:1},{id:"v2",name:"v2",priority:2}]},{id:"test",name:"Test",plans:[{id:"v1",name:"v1t",priority:1}]}]).pipe(Zt(this.d))}getTrip(e){return S({id:e,name:e==="wereldreis"?"Wereldreis":"Test"}).pipe(Zt(this.d))}getPlaces(e){return S([{id:"loc1",trip_id:e,name:"Paris",country_id:"fr",season_id:"s1",lat:48.85,lng:2.35},{id:"loc2",trip_id:e,name:"Berlin",country_id:"de",season_id:"s2",lat:52.52,lng:13.4},{id:"loc3",trip_id:e,name:"Rome",country_id:"it",season_id:"s3",lat:41.9,lng:12.49}]).pipe(Zt(this.d))}getPlan(e){return S({id:e,name:e,lat:48,lng:10,zoom:4,start_date:"2026-05-23",note:"",priority:1,trip_id:"wereldreis"}).pipe(Zt(this.d))}getVisits(e){return S([{id:"v1",plan_id:e,place_id:"loc1",nights:3,included:!0},{id:"v2",plan_id:e,place_id:"loc2",nights:2,included:!0}]).pipe(Zt(this.d))}getCountries(){return S([{id:"fr",name:"France",code:"FR"},{id:"de",name:"Germany",code:"DE"},{id:"it",name:"Italy",code:"IT"}]).pipe(Zt(this.d))}getSeasons(){return S([{id:"s1",country_id:"fr",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"},{id:"s2",country_id:"de",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"},{id:"s3",country_id:"it",description:"",description_abbreviation:"",jan:2,feb:3,mar:4,apr:4,may:3,jun:4,jul:5,aug:5,sep:4,oct:3,nov:2,dec:1,jan_reason:"jan_reason",feb_reason:"feb_reason",mar_reason:"mar_reason",apr_reason:"apr_reason",may_reason:"may_reason",jun_reason:"jun_reason",jul_reason:"jul_reason",aug_reason:"aug_reason",sep_reason:"sep_reason",oct_reason:"oct_reason",nov_reason:"nov_reason",dec_reason:"dec_reason"}]).pipe(Zt(this.d))}getSyncData(e,n,r){let i=[{id:"wereldreis",name:"Wereldreis"},{id:"test",name:"Testreis"}],o=[{id:"v1",name:"v1",priority:1},{id:"v2",name:"v2 (copy 2) (copy 2) (copy 2) (copy 2)",priority:2}],a={userTrips:[{id:"wereldreis",name:"Wereldreis"},{id:"test",name:"Testreis"}],activeTrip:n?{id:n,name:n==="wereldreis"?"Wereldreis":"Testreis",plans:o,pins:[{lat:48.8566,lng:2.3522,title:"Paris"}]}:null,activePlan:r?o.find(s=>s.id===r):null};return S(a).pipe(Zt(2e3))}static \u0275fac=function(n){return new(n||t)(x($d),x(fn))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})};var $l=class{id;name;places=[];constructor(e){this.id=e.id,this.name=e.name}};var Wl=class{id;name;start_date;note;priority;lat;lng;zoom;trip_id;visits=[];constructor(e){this.id=e.id,this.name=e.name,this.start_date=e.start_date,this.note=e.note??"",this.priority=e.priority??0,this.lat=e.lat,this.lng=e.lng,this.zoom=e.zoom,this.trip_id=e.trip_id}get totalPlanCost(){return this.visits.reduce((e,n)=>e+(n.place?.totalDailyCost??0),0)}};var Gl=class{id;name;constructor(e){this.id=e.id,this.name=e.name}};var Zl=class{id;country_id;description="";description_abbreviation="";jan;feb;mar;apr;may;jun;jul;aug;sep;oct;nov;dec;jan_reason="";feb_reason="";mar_reason="";apr_reason="";may_reason="";jun_reason="";jul_reason="";aug_reason="";sep_reason="";oct_reason="";nov_reason="";dec_reason="";months;reasons;constructor(e){Object.assign(this,e),this.id=e.id,this.description=e.description??"",this.country_id=e.country_id,this.months=[e.jan,e.feb,e.mar,e.apr,e.may,e.jun,e.jul,e.aug,e.sep,e.oct,e.nov,e.dec],this.reasons=[e.jan_reason??"",e.feb_reason??"",e.mar_reason??"",e.apr_reason??"",e.may_reason??"",e.jun_reason??"",e.jul_reason??"",e.aug_reason??"",e.sep_reason??"",e.oct_reason??"",e.nov_reason??"",e.dec_reason??""]}};var Kl=class{id;name;lat;lng;country_id;season_id;trip_id;accommodation_cost=0;food_cost=0;miscellaneous_cost=0;country;season;visits=[{nights:2},{nights:3}];constructor(e){this.id=e.id,this.name=e.name,this.lat=e.lat,this.lng=e.lng,this.country_id=e.country_id,this.season_id=e.season_id,this.trip_id=e.trip_id,this.accommodation_cost=e.accommodation_cost??0,this.food_cost=e.food_cost??0,this.miscellaneous_cost=e.miscellaneous_cost??0}get totalDailyCost(){return this.accommodation_cost+this.food_cost+this.miscellaneous_cost}getGoogleMapsLink(){return`https://www.google.com/maps?q=${this.lat},${this.lng}`}};var Yl=class{id;place_id;plan_id;nights;included;place;constructor(e){this.id=e.id,this.place_id=e.place_id,this.plan_id=e.plan_id,this.nights=e.nights??0,this.included=e.included??!0}};var yn=class t{apiService=p(Ul);authService=p(fn);trips=$(null);trip=$(null);plan=$(null);plans=nr(()=>this.trips()?.find(n=>n.id===this.trip()?.id)?.plans??[]);constructor(){ct(()=>{let e=this.authService.user()?.uid;this.clearTrips(),e&&this.loadTrips()})}clearTrips(){this.trips.set(null),this.clearTrip()}clearTrip(){this.trip.set(null),this.clearPlan()}clearPlan(){this.plan.set(null)}getPlans(){if(!this.trip())return[];let e=this.trips()?.find(n=>n.id===this.trip()?.id)?.plans;return e||[]}loadTrips(){this.apiService.getUserTrips().pipe(F(e=>e.map(n=>({id:n.id,name:n.name,plans:(n.plans||[]).map(r=>({id:r.id,name:r.name,priority:r.priority})).sort((r,i)=>r.priority-i.priority)})))).subscribe(e=>{this.trips.set(e)})}loadTrip(e){return this.clearTrip(),Uu({t:this.apiService.getTrip(e),p:this.apiService.getPlaces(e),c:this.apiService.getCountries(),s:this.apiService.getSeasons()}).pipe(F(n=>{let r=new $l(n.t),i=n.c.map(a=>new Gl(a)),o=n.s.map(a=>new Zl(a));return r.places=n.p.map(a=>{let s=new Kl(a);return s.country=i.find(c=>c.id===s.country_id),s.season=o.find(c=>c.id===s.season_id),s}),r}),Me(n=>this.trip.set(n)))}loadPlan(e){this.clearPlan(),this.apiService.getPlan(e).pipe(De(n=>{let r=new Wl(n);return this.apiService.getVisits(e).pipe(F(i=>{let o=i.map(s=>new Yl(s)),a=this.trip()?.places||[];return o.forEach(s=>{s.place=a.find(c=>c.id===s.place_id)}),r.visits=o,r}))})).subscribe(n=>this.plan.set(n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})};var O2;try{O2=typeof Intl<"u"&&Intl.v8BreakIterator}catch{O2=!1}var es=(()=>{class t{_platformId=p(_n);isBrowser=this._platformId?Pd(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||O2)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ts(t){return Array.isArray(t)?t:[t]}var bM=new Set,ci,SM=(()=>{class t{_platform=p(es);_nonce=p(zi,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):c9}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&s9(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s9(t,e){if(!bM.has(t))try{ci||(ci=document.createElement("style"),e&&ci.setAttribute("nonce",e),ci.setAttribute("type","text/css"),document.head.appendChild(ci)),ci.sheet&&(ci.sheet.insertRule(`@media ${t} {body{ }}`,0),bM.add(t))}catch(n){console.error(n)}}function c9(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var N2=(()=>{class t{_mediaMatcher=p(SM);_zone=p(ue);_queries=new Map;_destroySubject=new T;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return _M(ts(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=_M(ts(n)).map(a=>this._registerQuery(a).observable),o=Ii(i);return o=Gt(o.pipe(He(1)),o.pipe(Ku(1),Wu(0))),o.pipe(F(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:d})=>{s.matches=s.matches||c,s.breakpoints[d]=c}),s}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new P(a=>{let s=c=>this._zone.run(()=>a.next(c));return r.addListener(s),()=>{r.removeListener(s)}}).pipe(kn(r),F(({matches:a})=>({query:n,matches:a})),et(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _M(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var DM={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function xM(t,e){let r=!e?.manualCleanup?e?.injector?.get(ze)??p(ze):null,i=d9(e?.equal),o;e?.requireSync?o=$({kind:0},{equal:i}):o=$({kind:1,value:e?.initialValue},{equal:i});let a,s=t.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{o.set({kind:2,error:c}),a?.()},complete:()=>{a?.()}});if(e?.requireSync&&o().kind===0)throw new I(601,!1);return a=r?.onDestroy(s.unsubscribe.bind(s)),nr(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new I(601,!1)}},{equal:e?.equal})}function d9(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var pr=class t{breakpointObserver=p(N2);isSidebarOpen=$(!0);isLoading=$(!1);isMobile=xM(this.breakpointObserver.observe([DM.Handset]).pipe(F(e=>e.matches)),{initialValue:!1});toggleSidebar(){this.isSidebarOpen.update(e=>!e)}setLoading(e){this.isLoading.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})};var l9=["*"];var EM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]];var TM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]];var ns={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},F2=new v("LucideIcons",{factory:()=>new rs({})}),rs=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},u9=(()=>{class t{constructor(){this.color=ns.stroke,this.size=ns.width,this.strokeWidth=ns["stroke-width"],this.absoluteStrokeWidth=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function h9(t,e=3){return parseFloat(t.toFixed(e)).toString(10)}var Xl=(()=>{class t{constructor(n,r,i,o,a){this.elem=n,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=ns.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=V(g({},ns),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?h9(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,n]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let o=this.elem.nativeElement.childNodes;for(let a of o)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,i=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(o,a,s)}),i.length&&i.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(o,s)}),o}}return t.\u0275fac=function(n){return new(n||t)(Te(xe),Te(ha),Te(jt),Te(F2),Te(u9))},t.\u0275cmp=se({type:t,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[bn],ngContentSelectors:l9,decls:1,vars:0,template:function(n,r){n&1&&(Md(),wd(0))},encapsulation:2}),t})(),j2=class{constructor(e){this.icons=e}},p9=t=>new rs(t??{}),Ql=(()=>{class t{static pick(n){return{ngModule:t,providers:[{provide:F2,multi:!0,useValue:new rs(n)},{provide:F2,multi:!0,useFactory:p9,deps:[[new $c,j2]]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=nt({imports:[[]]}),t})();var Jl=class t{place=Ft.required();onSave=$p();onDelete=$p();save(e){this.onSave.emit({id:this.place().id,name:e})}delete(){this.onDelete.emit(this.place().id)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["app-place-popup"]],inputs:{place:[1,"place"]},outputs:{onSave:"onSave",onDelete:"onDelete"},decls:8,vars:1,consts:[["nameInput",""],[1,"apple-popup"],[1,"popup-input",3,"keydown.enter","value"],[1,"popup-actions"],[1,"save-btn",3,"click"],[1,"delete-btn",3,"click"]],template:function(n,r){if(n&1){let i=ye();qe(0,"div",1)(1,"input",2,0),Yi("keydown.enter",function(){z(i);let a=Nt(2);return B(r.save(a.value))}),Ke(),qe(3,"div",3)(4,"button",4),Yi("click",function(){z(i);let a=Nt(2);return B(r.save(a.value))}),Q(5,"Save"),Ke(),qe(6,"button",5),Yi("click",function(){return z(i),B(r.delete())}),Q(7,"Delete"),Ke()()()}n&2&&(E(),vd("value",r.place().name))},styles:[".apple-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px;min-width:200px}.popup-input[_ngcontent-%COMP%]{background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:10px;color:#fff;padding:8px 12px;font-size:14px;outline:none;transition:border-color .2s}.popup-input[_ngcontent-%COMP%]:focus{border-color:#007aff}.popup-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.save-btn[_ngcontent-%COMP%]{flex:2;background:#007aff;color:#fff;border:none;border-radius:8px;padding:8px;font-weight:600;font-size:13px;cursor:pointer}.delete-btn[_ngcontent-%COMP%]{flex:1;background:#ff453a26;color:#ff453a;border:1px solid rgba(255,69,58,.3);border-radius:8px;padding:8px;font-weight:500;font-size:13px;cursor:pointer}.save-btn[_ngcontent-%COMP%]:hover{background:#0063cc}.delete-btn[_ngcontent-%COMP%]:hover{background:#ff453a40}"]})};function f9(t,e){t&1&&Gr(0,"div",2)}function y9(t,e){if(t&1&&(qe(0,"span",1),Q(1),Ke(),Ce(2,f9,1,0,"div",2)),t&2){let n=e.$implicit,r=e.$index,i=e.$count;E(),bt(n.nights),E(),be(r!==i-1?2:-1)}}var eu=class t{visits=Ft.required();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["app-place-marker"]],inputs:{visits:[1,"visits"]},decls:3,vars:0,consts:[[1,"marker-pill"],[1,"night-count"],[1,"marker-divider"]],template:function(n,r){n&1&&(qe(0,"div",0),Qn(1,y9,3,2,null,null,Tp),Ke()),n&2&&(E(),Jn(r.visits()))},styles:[".marker-pill[_ngcontent-%COMP%]{display:flex;align-items:center;background:#2d2d32d9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:20px;padding:4px 10px;color:#fff;font-size:12px;font-weight:500;box-shadow:0 4px 12px #0000004d;white-space:nowrap}.marker-divider[_ngcontent-%COMP%]{width:1px;height:12px;background:#ffffff4d;margin:0 6px}.night-count[_ngcontent-%COMP%]{min-width:8px;text-align:center;cursor:pointer}.marker-pill[_ngcontent-%COMP%]{transition:transform .2s cubic-bezier(.175,.885,.32,1.275),background .2s}.marker-pill[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#3c3c41f2;border-color:#007aff80}"]})};var tu=class t{name=Ft.required();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["app-place-tooltip"]],inputs:{name:[1,"name"]},decls:2,vars:1,consts:[[1,"tooltip-text"]],template:function(n,r){n&1&&(qe(0,"span",0),Q(1),Ke()),n&2&&(E(),bt(r.name()))},styles:[".hover-tooltip .mapboxgl-popup-content{background:#141414cc!important;color:#fff;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:.5px solid rgba(255,255,255,.1);padding:4px 10px;font-size:12px;font-weight:500;box-shadow:0 4px 12px #0000004d;white-space:nowrap;border-radius:20px!important;margin-bottom:3px;pointer-events:none}  .hover-tooltip .mapboxgl-popup-tip{display:none}.tooltip-text[_ngcontent-%COMP%]{color:#fff!important;font-size:12px;font-weight:500;padding:20px;white-space:nowrap}"]})};var g9=["mapContainer"],m9=["searchWrapper"],k9=["popupContainer"],v9=["tooltipContainer"],M9=["markerElement"],w9=(t,e)=>e.id;function I9(t,e){if(t&1){let n=ye();b(0,"app-place-popup",15),K("onSave",function(i){z(n);let o=q();return B(o.handleSave(i))})("onDelete",function(i){z(n);let o=q();return B(o.handleDelete(i))}),R()}if(t&2){let n=q();_e("place",n.selectedPlace())}}function C9(t,e){if(t&1&&re(0,"app-place-tooltip",13),t&2){let n,r=q();_e("name",(n=r.hoveredPlace())==null?null:n.name)}}function b9(t,e){if(t&1){let n=ye();b(0,"div",16,4),K("mouseenter",function(){let i=z(n).$implicit,o=q();return B(o.onMouseEnter(i))})("mouseleave",function(){z(n);let i=q();return B(i.onMouseLeave())}),re(2,"app-place-marker",17),R()}if(t&2){let n=e.$implicit;E(2),_e("visits",n.visits)}}var _9=[2.35,48.85],S9=3.2,H2={LOGGED_OUT:"dark-v11",LOGGED_IN:"light-v11",ACTIVE_TRIP:"streets-v12"},nu=class t{constructor(e){this.platformId=e;ct(()=>{let n=this.authService.user(),r=this.tripService.plan();this.updateStyle(n,r)}),ct(()=>{let n=this.tripService.trip();n&&setTimeout(()=>this.renderAllTripPlaces(n.places),0)}),ct(()=>{let n=this.tripService.plan();this.applyPadding()}),ct(()=>{let n=this.uiService.isMobile(),r=this.uiService.isSidebarOpen();this.applyPadding()})}accessToken="pk.eyJ1IjoiZG9taW5pcXVlc29tbWVycyIsImEiOiJjbWNoeHNnZG4wMHk1MmtzOGtodnluZHJzIn0.j0bybMxwa2BK4UgPIhxpQw";authService=p(fn);tripService=p(yn);uiService=p(pr);SearchIcon=TM;cdr=p(jt);map;mapbox;searchBoxElement;currentStyle="";isMapVisible=$(!1);selectedPlace=$(null);hoveredPlace=$(null);isSearchExpanded=$(!1);sidePanelWidth=nr(()=>this.uiService.isMobile()||!this.tripService.plan()||!this.uiService.isSidebarOpen()?0:445);currentPopup;hoverPopup;hoverTimer;mapContainer;searchWrapper;popupEl;tooltipEl;markerElements;center=$(_9);zoom=$(S9);currentMarkers=[];async ngOnInit(){this.initializeMap()}onDocumentClick(e){let r=this.searchWrapper?.nativeElement?.contains(e.target);this.isSearchExpanded()&&!r&&this.toggleSearch()}onEscape(){let e=this.searchWrapper?.nativeElement;this.isSearchExpanded()&&this.toggleSearch()}clearMap(){this.applyPadding(),this.updateStyle()}async initializeMap(){if(Pd(this.platformId)){this.mapbox=(await import("./chunk-XCCOAETQ.js")).default,this.mapbox.accessToken=this.accessToken;let e=this.authService.user(),n=this.tripService.plan();this.map=new this.mapbox.Map({container:this.mapContainer.nativeElement,center:this.center(),zoom:this.zoom(),style:`mapbox://styles/mapbox/${this.getStyle(e,n)}?optimize=true`,logoPosition:"bottom-right"}),this.map.once("load",async()=>{this.isMapVisible.set(!0),this.addControls(),this.addSearchBox()}),this.map.on("load",()=>{this.applyPadding()}),this.map.on("click",r=>{this.selectedPlace.set(null),this.cdr.detectChanges(),this.isSearchExpanded()&&this.isSearchExpanded.set(!1)})}}addControls(){let e=new this.mapbox.NavigationControl;this.map.addControl(e,"bottom-right")}async addSearchBox(){let{MapboxSearchBox:e}=await import("./chunk-LW6QE4FR.js");this.searchBoxElement=new e,this.searchBoxElement.accessToken=this.accessToken,this.searchBoxElement.placeholder="Where to?",this.searchBoxElement.marker=!0,this.searchBoxElement.bindMap(this.map),this.searchWrapper.nativeElement.appendChild(this.searchBoxElement),this.searchWrapper.nativeElement.style.width="100%",this.searchWrapper.nativeElement.style.display="block",this.searchBoxElement.addEventListener("retrieve",n=>{this.handleSearchResult(n)}),this.searchBoxElement.theme={variables:{colorBackground:"rgba(30, 30, 35, 0.7)",backdropFilter:"blur(30px) saturate(180%)",colorText:"#fff",borderRadius:"20px",width:"100%",boxShadow:"none"},cssText:`
        .SearchIcon {
          display: none !important;
        }
        .Input {
          width: 100% !important;
          padding-left: 12px !important;
          color: #fff !important;
        }
        ::placeholder {
          color: #fff !important;
        }
        .Results {
          bottom: 53px !important;
          top: auto !important;
          margin-bottom: 6px !important;
          margin-top: 0 !important;
          transform: translateX(-37px) !important;
        }
        .Suggestion {
          color: #fff !important;          /* suggestion text white */
          background-color: rgba(0, 0, 0, 0.25) !important; /* hover background */
        }
        .Suggestion:hover,
        .Suggestion[aria-selected="true"] {
          background-color: rgba(0, 0, 0, 0.5) !important; /* selected item */
        }
      `}}toggleSearch(){this.isSearchExpanded.update(e=>!e),this.isSearchExpanded()&&setTimeout(()=>{this.searchBoxElement.focus()},100)}handleSearchResult(e){console.log(e);let n=e.detail.features[0];this.isSearchExpanded.set(!1),this.searchBoxElement.blur(),console.log("searched for",n)}renderAllTripPlaces(e){if(!this.map||!this.mapbox)return;this.cdr.detectChanges();let n=this.markerElements.toArray();console.log(n),e.forEach((r,i)=>{let o=n[i].nativeElement,a=new this.mapbox.Marker({element:o,anchor:"center"}).setLngLat([r.lng,r.lat]).addTo(this.map);o.addEventListener("click",s=>{s.stopPropagation(),this.hoverPopup&&this.hoverPopup.remove(),this.openPopup(r,a)})})}openPopup(e,n){this.selectedPlace.set(e),this.cdr.detectChanges(),setTimeout(()=>{this.currentPopup&&this.currentPopup.remove(),this.currentPopup=new this.mapbox.Popup({offset:25,closeButton:!1,className:"apple-glass-popup"}).setDOMContent(this.popupEl.nativeElement).setLngLat(n.getLngLat()).addTo(this.map)},0)}onMouseEnter(e){this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=setTimeout(()=>{this.hoveredPlace.set(e),this.hoverPopup||(this.hoverPopup=new this.mapbox.Popup({closeButton:!1,closeOnClick:!1,offset:15,className:"hover-tooltip"})),this.hoverPopup.setLngLat([e.lng,e.lat]).setDOMContent(this.tooltipEl.nativeElement).addTo(this.map)},120)}onMouseLeave(){this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoveredPlace.set(null),this.hoverPopup?.remove()}handleSave(e){}handleDelete(e){}applyPadding(){if(!this.map)return;let e=this.uiService.isMobile()||!this.tripService.plan()||!this.uiService.isSidebarOpen()?0:445;this.map.easeTo({padding:{left:e},duration:1e3})}getStyle(e,n){return e?n?H2.ACTIVE_TRIP:H2.LOGGED_IN:H2.LOGGED_OUT}updateStyle(e,n){if(!this.map)return;let r=this.getStyle(e,n);this.currentStyle!==r&&(this.map.setStyle(`mapbox://styles/mapbox/${r}?optimize=true`),this.currentStyle=r)}ngOnDestroy(){this.currentPopup&&this.currentPopup.remove(),this.map&&this.map.remove(),this.map&&this.map.remove()}static \u0275fac=function(n){return new(n||t)(Te(_n))};static \u0275cmp=se({type:t,selectors:[["app-map"]],viewQuery:function(n,r){if(n&1&&ga(g9,7)(m9,7)(k9,7)(v9,7)(M9,5),n&2){let i;er(i=tr())&&(r.mapContainer=i.first),er(i=tr())&&(r.searchWrapper=i.first),er(i=tr())&&(r.popupEl=i.first),er(i=tr())&&(r.tooltipEl=i.first),er(i=tr())&&(r.markerElements=i)}},hostBindings:function(n,r){n&1&&K("click",function(o){return r.onDocumentClick(o)},Sn)("keydown.escape",function(){return r.onEscape()},Sn)},decls:19,vars:12,consts:[["searchWrapper",""],["mapContainer",""],["popupContainer",""],["tooltipContainer",""],["markerElement",""],[1,"search-container"],[1,"search-toggle-btn",3,"click"],["color","white",3,"name","size"],[1,"search-input-wrapper"],[1,"search-wrapper"],["id","map-container",1,"map-container"],[2,"position","absolute","left","-9999px","top","0"],[3,"place"],[3,"name"],[2,"position","absolute","left","-9999px"],[3,"onSave","onDelete","place"],[3,"mouseenter","mouseleave"],[3,"visits"]],template:function(n,r){if(n&1){let i=ye();b(0,"div",5)(1,"button",6),K("click",function(a){return z(i),a.stopPropagation(),B(r.toggleSearch())}),re(2,"lucide-icon",7),R(),b(3,"div",8),re(4,"div",9,0),R()(),re(6,"div",10,1),b(8,"div",11)(9,"div",null,2),Ce(11,I9,1,1,"app-place-popup",12),R()(),b(12,"div",11)(13,"div",null,3),Ce(15,C9,1,1,"app-place-tooltip",13),R()(),b(16,"div",14),Qn(17,b9,3,1,"div",null,w9),R()}if(n&2){let i;ma("left",r.sidePanelWidth()+12,"px"),Ee("expanded",r.isSearchExpanded()),E(2),_e("name",r.SearchIcon)("size",18),E(),Ee("show",r.isSearchExpanded()),E(3),Ee("visible",r.isMapVisible()),E(5),be(r.selectedPlace()?11:-1),E(4),be(r.hoveredPlace()?15:-1),E(2),Jn((i=r.tripService.trip())==null?null:i.places)}},dependencies:[_t,eu,Jl,tu,Ql,Xl],styles:["#map-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:100%;opacity:0;transition:opacity 1.2s ease-in-out;background-color:#1a1a1a}#map-container.visible[_ngcontent-%COMP%]{opacity:1}.map-loading[_ngcontent-%COMP%]{opacity:.5}.toolbar[_ngcontent-%COMP%]{background-color:#23374be5;color:#fff;padding:6px 12px;font-family:monospace;z-index:1;position:absolute;top:0;left:0;margin:12px;border-radius:4px}.reset-button[_ngcontent-%COMP%]{background-color:#23374be5;color:#fff;position:absolute;top:45px;z-index:1;left:11px;padding:4px 10px;border-radius:10px;cursor:pointer}  .mapboxgl-popup-content{background:#1e1e23b3!important;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border:.5px solid rgba(255,255,255,.15);border-radius:16px!important;padding:12px!important;box-shadow:0 8px 32px #0006}  .apple-glass-popup .mapboxgl-popup-content{padding:0!important;background:none!important;border:none!important;box-shadow:none!important}  .mapboxgl-popup-tip{border-top-color:#1e1e23b3!important;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px)}.apple-popup[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;min-width:150px}.popup-input[_ngcontent-%COMP%]{background:#0000004d;border:.5px solid rgba(255,255,255,.1);border-radius:8px;color:#fff;padding:6px 10px;font-size:14px;outline:none}.popup-input[_ngcontent-%COMP%]:focus{border-color:#007aff80}.save-btn[_ngcontent-%COMP%]{background:#007aff;color:#fff;border:none;border-radius:8px;padding:6px;cursor:pointer;font-weight:500;transition:opacity .2s}.save-btn[_ngcontent-%COMP%]:hover{opacity:.8}.search-container[_ngcontent-%COMP%]{position:absolute;bottom:16px;z-index:100;display:flex;align-items:center;height:37px;width:37px;background:#2d2d32b3;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:.5px solid rgba(255,255,255,.15);border-radius:18.5px;overflow:visible!important;transition:all .4s cubic-bezier(.165,.84,.44,1),left .3s ease;cursor:pointer}.search-container.expanded[_ngcontent-%COMP%]{width:300px;background:#1e1e23e6}.search-toggle-btn[_ngcontent-%COMP%]{min-width:37px;height:37px;background:none;border:none;color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;padding:0;outline:none}.search-input-wrapper[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;align-items:center;height:100%;opacity:0;pointer-events:none;transition:opacity .2s ease}.search-container.expanded[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}@keyframes _ngcontent-%COMP%_tooltipFadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}  .hover-tooltip .mapboxgl-popup-content{background-color:#1e1e23e6!important;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.2);border-radius:8px;padding:6px 12px!important;pointer-events:none!important;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out forwards}  .hover-tooltip .mapboxgl-popup-tip{border-top-color:#1e1e23e6!important;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out forwards}"]})};var V2;function D9(){if(V2==null){let t=typeof document<"u"?document.head:null;V2=!!(t&&(t.createShadowRoot||t.attachShadow))}return V2}function ru(t){if(D9()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function is(t){return t.composedPath?t.composedPath()[0]:t.target}function AM(t){return t.buttons===0||t.detail===0}function RM(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function iu(t,e=0){return x9(t)?Number(t):arguments.length===2?e:0}function x9(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Ut(t){return t instanceof xe?t.nativeElement:t}var ou=new WeakMap,PM=(()=>{class t{_appRef;_injector=p(me);_environmentInjector=p(he);load(n){let r=this._appRef=this._appRef||this._injector.get(Be),i=ou.get(r);i||(i={loaders:new Set,refs:[]},ou.set(r,i),r.onDestroy(()=>{ou.get(r)?.refs.forEach(o=>o.destroy()),ou.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(bv(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var E9=new v("cdk-dir-doc",{providedIn:"root",factory:()=>p(ne)}),T9=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function L9(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?T9.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var z2=(()=>{class t{get value(){return this.valueSignal()}valueSignal=$("ltr");change=new ae;constructor(){let n=p(E9,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(L9(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A9=20,OM=(()=>{class t{_ngZone=p(ue);_platform=p(es);_renderer=p(lt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new T;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=A9){return this._platform.isBrowser?new P(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=n>0?this._scrolled.pipe(zs(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):S()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(je(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=Ut(r),o=n.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var R9=20,NM=(()=>{class t{_platform=p(es);_listeners;_viewportSize;_change=new T;_document=p(ne);constructor(){let n=p(ue),r=p(lt).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect(),a=-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,s=-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:a,left:s}}change(n=R9){return n>0?this._change.pipe(zs(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var FM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ct({type:t});static \u0275inj=nt({})}return t})();var B2={},au=class t{_appId=p(wt);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(e,n=!1){return this._appId!=="ng"&&(e+=this._appId),B2.hasOwnProperty(e)||(B2[e]=0),`${e}${n?t._infix+"-":""}${B2[e]++}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})};function $2(t){let e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return r==="canvas"?VM(t,e):(r==="input"||r==="select"||r==="textarea")&&HM(t,e),jM("canvas",t,e,VM),jM("input, textarea, select",t,e,HM),e}function jM(t,e,n,r){let i=e.querySelectorAll(t);if(i.length){let o=n.querySelectorAll(t);for(let a=0;a<i.length;a++)r(i[a],o[a])}}var P9=0;function HM(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${P9++}`)}function VM(t,e){let n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch{}}function X2(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function W2(t,e,n){let{top:r,bottom:i,left:o,right:a}=t;return n>=r&&n<=i&&e>=o&&e<=a}function O9(t,e){let n=e.left<t.left,r=e.left+e.width>t.right,i=e.top<t.top,o=e.top+e.height>t.bottom;return n||r||i||o}function ss(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function zM(t,e,n,r){let{top:i,right:o,bottom:a,left:s,width:c,height:d}=t,l=c*e,u=d*e;return r>i-u&&r<a+u&&n>s-l&&n<o+l}var su=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:X2(n)})})}handleScroll(e){let n=is(e),r=this.positions.get(n);if(!r)return null;let i=r.scrollPosition,o,a;if(n===this._document){let d=this.getViewportScrollPosition();o=d.top,a=d.left}else o=n.scrollTop,a=n.scrollLeft;let s=i.top-o,c=i.left-a;return this.positions.forEach((d,l)=>{d.clientRect&&n!==l&&n.contains(l)&&ss(d.clientRect,s,c)}),i.top=o,i.left=a,{top:s,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function JM(t,e){let n=t.rootNodes;if(n.length===1&&n[0].nodeType===e.ELEMENT_NODE)return n[0];let r=e.createElement("div");return n.forEach(i=>r.appendChild(i)),r}function Q2(t,e,n){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?t.setProperty(r,i,n?.has(r)?"important":""):t.removeProperty(r)}return t}function Io(t,e){let n=e?"":"none";Q2(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function BM(t,e,n){Q2(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},n)}function cu(t,e){return e&&e!="none"?t+" "+e:t}function qM(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=cs(e.left,e.top)}function cs(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function UM(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function N9(t){let e=getComputedStyle(t),n=q2(e,"transition-property"),r=n.find(s=>s==="transform"||s==="all");if(!r)return 0;let i=n.indexOf(r),o=q2(e,"transition-duration"),a=q2(e,"transition-delay");return UM(o[i])+UM(a[i])}function q2(t,e){return t.getPropertyValue(e).split(",").map(r=>r.trim())}var F9=new Set(["position"]),G2=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,n,r,i,o,a,s,c,d,l){this._document=e,this._rootElement=n,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=a,this._pickupPositionOnPage=s,this._initialTransform=c,this._zIndex=d,this._renderer=l}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),$M(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return N9(this._preview)}addEventListener(e,n){return this._renderer.listen(this._preview,e,n)}_createPreview(){let e=this._previewTemplate,n=this._previewClass,r=e?e.template:null,i;if(r&&e){let o=e.matchSize?this._initialDomRect:null,a=e.viewContainer.createEmbeddedView(r,e.context);a.detectChanges(),i=JM(a,this._document),this._previewEmbeddedView=a,e.matchSize?qM(i,o):i.style.transform=cs(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=$2(this._rootElement),qM(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Q2(i.style,{"pointer-events":"none",margin:$M(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},F9),Io(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(o=>i.classList.add(o)):i.classList.add(n)),i}};function $M(t){return"showPopover"in t}var j9={passive:!0},WM={passive:!1},H9={passive:!1,capture:!0},V9=800,GM="cdk-drag-placeholder",ZM=new Set(["position"]),Z2=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=$(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new T;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=oe.EMPTY;_pointerUpSubscription=oe.EMPTY;_scrollSubscription=oe.EMPTY;_resizeSubscription=oe.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Io(n,e)))}_disabled=!1;beforeStarted=new T;started=new T;released=new T;ended=new T;entered=new T;exited=new T;dropped=new T;moved=this._moveEvents;data;constrainPosition;constructor(e,n,r,i,o,a,s){this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._renderer=s,this.withRootElement(e).withParent(n.parentDragRef||null),this._parentPositions=new su(r),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Ut(r)),this._handles.forEach(r=>Io(r,this.disabled)),this._toggleNativeDragInteractions();let n=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&n.add(r)}),this._disabledHandles=n,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let n=Ut(e);if(n!==this._rootElement){this._removeRootElementListeners();let r=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[r.listen(n,"mousedown",this._pointerDown,WM),r.listen(n,"touchstart",this._pointerDown,j9),r.listen(n,"dragstart",this._nativeDragStart,WM)]),this._initialTransform=void 0,this._rootElement=n}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Ut(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&O9(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect(),r=0,i=0;n.left<e.left?r=e.left-n.left:n.right>e.right&&(r=e.right-n.right),n.top<e.top?i=e.top-n.top:n.bottom>e.bottom&&(i=e.bottom-n.bottom);let o=this._activeTransform.x,a=this._activeTransform.y,s=o+r,c=a+i;this._rootElement.style.transform=cs(s,c),this._activeTransform={x:s,y:c},this._passiveTransform={x:s,y:c}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Io(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Io(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&this._initializeDragSequence(n,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let n=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(n.x-this._pickupPositionOnPage.x),o=Math.abs(n.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let s=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),c=this._dropContainer;if(!s){this._endDragSequence(e);return}(!c||!c.isDragging()&&!c.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(n);if(this._hasMoved=!0,this._lastKnownPointerPosition=n,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,n);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){os(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._getShadowRoot(),r=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(n,"selectstart",z9,H9)}),r){let i=this._rootElement,o=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),s=this._marker=this._marker||this._document.createComment("");o.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=new G2(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,n)),BM(i,!1,ZM),this._document.body.appendChild(o.replaceChild(a,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,n){this._parentDragRef&&n.stopPropagation();let r=this.isDragging(),i=os(n),o=!i&&n.button!==0,a=this._rootElement,s=is(n),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+V9>Date.now(),d=i?RM(n):AM(n);if(s&&s.draggable&&n.type==="mousedown"&&n.preventDefault(),r||o||c||d)return;if(this._handles.length){let h=a.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=X2(this._boundaryElement));let l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,n);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(e){BM(this._rootElement,!0,ZM),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,r=n.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),a=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:i,event:e}),n.drop(this,r,this._initialIndex,this._initialContainer,a,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:n},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let a=this._dropContainer.getItemIndex(this),s=this._dropContainer.getItemAtIndex(a+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,s),this._dropContainer=o,this._dropContainer.enter(this,e,n,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,n):this._applyPreviewTransform(e-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let n=this._preview.getTransitionDuration();return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=s=>{(!s||this._preview&&is(s)===this._preview.element&&s.propertyName==="transform")&&(a(),r(),clearTimeout(o))},o=setTimeout(i,n*1.5),a=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,n=e?e.template:null,r;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),r=JM(this._placeholderRef,this._document)):r=$2(this._rootElement),r.style.pointerEvents="none",r.classList.add(GM),r}_getPointerPositionInElement(e,n,r){let i=n===this._rootElement?null:n,o=i?i.getBoundingClientRect():e,a=os(r)?r.targetTouches[0]:r,s=this._getViewportScrollPosition(),c=a.pageX-o.left-s.left,d=a.pageY-o.top-s.top;return{x:o.left-e.left+c,y:o.top-e.top+d}}_getPointerPositionOnPage(e){let n=this._getViewportScrollPosition(),r=os(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-n.left,o=r.pageY-n.top;if(this._ownerSVGElement){let a=this._ownerSVGElement.getScreenCTM();if(a){let s=this._ownerSVGElement.createSVGPoint();return s.x=i,s.y=o,s.matrixTransform(a.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||n==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,s=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),l=s.top+a,u=s.bottom-(d-a),h=s.left+o,f=s.right-(c-o);r=KM(r,h,f),i=KM(i,l,u)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:n,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(n-o.x),s=Math.abs(r-o.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=n>o.x?1:-1,o.x=n),s>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Io(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,n){let r=1/this.scale,i=cs(e*r,n*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=cu(i,this._initialTransform)}_applyPreviewTransform(e,n){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=cs(e,n);this._preview.setTransform(cu(i,r))}_getDragDistance(e){let n=this._pickupPositionOnPage;return n?{x:e.x-n.x,y:e.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:n}=this._passiveTransform;if(e===0&&n===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,a=r.right-i.right,s=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,i.height>r.height?(s>0&&(n+=s),c>0&&(n-=c)):n=0,(e!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:e})}_getDragStartDelay(e){let n=this.dragStartDelay;return typeof n=="number"?n:os(e)?n.touch:n?n.mouse:0}_updateOnScroll(e){let n=this._parentPositions.handleScroll(e);if(n){let r=is(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&ss(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=ru(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,n){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Ut(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(n=>e.target&&(e.target===n||n.contains(e.target)))}_conditionallyInsertAnchor(e,n,r){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(n===this._initialContainer&&n.hasAnchor){let i=this._anchor??=$2(this._placeholder);i.classList.remove(GM),i.classList.add("cdk-drag-anchor"),i.style.transform="",r?r.before(i):Ut(n.element).appendChild(i)}}};function KM(t,e,n){return Math.max(e,Math.min(n,t))}function os(t){return t.type[0]==="t"}function z9(t){t.preventDefault()}function e3(t,e,n){let r=YM(e,t.length-1),i=YM(n,t.length-1);if(r===i)return;let o=t[r],a=i<r?-1:1;for(let s=r;s!==i;s+=a)t[s]=t[s+a];t[i]=o}function YM(t,e){return Math.max(0,Math.min(e,t))}var du=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,n,r,i){let o=this._itemPositions,a=this._getItemIndexFromPointerPosition(e,n,r,i);if(a===-1&&o.length>0)return null;let s=this.orientation==="horizontal",c=o.findIndex(m=>m.drag===e),d=o[a],l=o[c].clientRect,u=d.clientRect,h=c>a?1:-1,f=this._getItemOffsetPx(l,u,h),y=this._getSiblingOffsetPx(c,o,h),w=o.slice();return e3(o,c,a),o.forEach((m,M)=>{if(w[M]===m)return;let Y=m.drag===e,fe=Y?f:y,ce=Y?e.getPlaceholderElement():m.drag.getRootElement();m.offset+=fe;let $t=Math.round(m.offset*(1/m.drag.scale));s?(ce.style.transform=cu(`translate3d(${$t}px, 0, 0)`,m.initialTransform),ss(m.clientRect,0,fe)):(ce.style.transform=cu(`translate3d(0, ${$t}px, 0)`,m.initialTransform),ss(m.clientRect,fe,0))}),this._previousSwap.overlaps=W2(u,n,r),this._previousSwap.drag=d.drag,this._previousSwap.delta=s?i.x:i.y,{previousIndex:c,currentIndex:a}}enter(e,n,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,n,r):i,a=this._activeDraggables,s=a.indexOf(e),c=e.getPlaceholderElement(),d=a[o];if(d===e&&(d=a[o+1]),!d&&(o==null||o===-1||o<a.length-1)&&this._shouldEnterAsFirstChild(n,r)&&(d=a[0]),s>-1&&a.splice(s,1),d&&!this._dragDropRegistry.isDragging(d)){let l=d.getRootElement();l.parentElement.insertBefore(c,l),a.splice(o,0,e)}else this._element.appendChild(c),a.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let n=e.getRootElement();if(n){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;n.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(n=>n.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,n){this._itemPositions.forEach(({clientRect:r})=>{ss(r,e,n)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let r=n.getVisibleElement();return{drag:n,offset:0,initialTransform:r.style.transform||"",clientRect:X2(r)}}).sort((n,r)=>e?n.clientRect.left-r.clientRect.left:n.clientRect.top-r.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,n,r){let i=this.orientation==="horizontal",o=i?n.left-e.left:n.top-e.top;return r===-1&&(o+=i?n.width-e.width:n.height-e.height),o}_getSiblingOffsetPx(e,n,r){let i=this.orientation==="horizontal",o=n[e].clientRect,a=n[e+r*-1],s=o[i?"width":"height"]*r;if(a){let c=i?"left":"top",d=i?"right":"bottom";r===-1?s-=a.clientRect[c]-o[d]:s+=o[c]-a.clientRect[d]}return s}_shouldEnterAsFirstChild(e,n){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let a=r[r.length-1].clientRect;return i?e>=a.right:n>=a.bottom}else{let a=r[0].clientRect;return i?e<=a.left:n<=a.top}}_getItemIndexFromPointerPosition(e,n,r,i){let o=this.orientation==="horizontal",a=this._itemPositions.findIndex(({drag:s,clientRect:c})=>{if(s===e)return!1;if(i){let d=o?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return o?n>=Math.floor(c.left)&&n<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return a===-1||!this._sortPredicate(a,e)?-1:a}},K2=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,n){this._document=e,this._dragDropRegistry=n}start(e){let n=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<n.length;r++){let i=n[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,n,r,i){let o=this._getItemIndexFromPointerPosition(e,n,r),a=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let s=this._activeItems[o];if(a.drag===s&&a.overlaps&&a.deltaX===i.x&&a.deltaY===i.y)return null;let c=this.getItemIndex(e),d=e.getPlaceholderElement(),l=s.getRootElement();o>c?l.after(d):l.before(d),e3(this._activeItems,c,o);let u=this._getRootNode().elementFromPoint(n,r);return a.deltaX=i.x,a.deltaY=i.y,a.drag=s,a.overlaps=l===u||l.contains(u),{previousIndex:c,currentIndex:o}}enter(e,n,r,i){let o=this._activeItems.indexOf(e);o>-1&&this._activeItems.splice(o,1);let a=i==null||i<0?this._getItemIndexFromPointerPosition(e,n,r):i;a===-1&&(a=this._getClosestItemIndexToPointer(e,n,r));let s=this._activeItems[a];s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(a,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,n=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==o&&(o===null?e.appendChild(i):o.parentNode===e&&e.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],n.drag=null,n.deltaX=n.deltaY=0,n.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,n,r){let i=this._getRootNode().elementFromPoint(Math.floor(n),Math.floor(r)),o=i?this._activeItems.findIndex(a=>{let s=a.getRootElement();return i===s||s.contains(i)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=ru(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,n,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let a=0;a<this._activeItems.length;a++){let s=this._activeItems[a];if(s!==e){let{x:c,y:d}=s.getRootElement().getBoundingClientRect(),l=Math.hypot(n-c,r-d);l<i&&(i=l,o=a)}}return o}},XM=.05,t3=.05,St=(function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t})(St||{}),Xe=(function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t})(Xe||{}),Y2=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new T;entered=new T;exited=new T;dropped=new T;sorted=new T;receivingStarted=new T;receivingStopped=new T;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=oe.EMPTY;_verticalScrollDirection=St.NONE;_horizontalScrollDirection=Xe.NONE;_scrollNode;_stopScrollTimers=new T;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,n,r,i,o){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o;let a=this.element=Ut(e);this._document=r,this.withOrientation("vertical").withElementContainer(a),n.registerDropContainer(this),this._parentPositions=new su(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,n,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,n,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,n,r,i,o,a,s,c={}){this._reset(),this.dropped.next({item:e,currentIndex:n,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:a,dropPoint:s,event:c})}withItems(e){let n=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof du&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new K2(this._document,this._dragDropRegistry);else{let n=new du(this._dragDropRegistry);n.direction=this._direction,n.orientation=e,this._sortStrategy=n}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((n,r)=>this.sortPredicate(n,r,this)),this}withScrollableParents(e){let n=this._container;return this._scrollableElements=e.indexOf(n)===-1?[n,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let n=Ut(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,n,r,i){if(this.sortingDisabled||!this._domRect||!zM(this._domRect,XM,n,r))return;let o=this._sortStrategy.sort(e,n,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,n){if(this.autoScrollDisabled)return;let r,i=St.NONE,o=Xe.NONE;if(this._parentPositions.positions.forEach((a,s)=>{s===this._document||!a.clientRect||r||zM(a.clientRect,XM,e,n)&&([i,o]=B9(s,a.clientRect,this._direction,e,n),(i||o)&&(r=s))}),!i&&!o){let{width:a,height:s}=this._viewportRuler.getViewportSize(),c={width:a,height:s,top:0,right:a,bottom:s,left:0};i=n3(c,n),o=r3(c,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),$u(0,Is).pipe(et(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,n=this.autoScrollStep;this._verticalScrollDirection===St.UP?e.scrollBy(0,-n):this._verticalScrollDirection===St.DOWN&&e.scrollBy(0,n),this._horizontalScrollDirection===Xe.LEFT?e.scrollBy(-n,0):this._horizontalScrollDirection===Xe.RIGHT&&e.scrollBy(n,0)})};_isOverContainer(e,n){return this._domRect!=null&&W2(this._domRect,e,n)}_getSiblingContainerFromPosition(e,n,r){return this._siblings.find(i=>i._canReceive(e,n,r))}_canReceive(e,n,r){if(!this._domRect||!W2(this._domRect,n,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(n,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,n){let r=this._activeSiblings;!r.has(e)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:n}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(e);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=ru(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,e))}};function n3(t,e){let{top:n,bottom:r,height:i}=t,o=i*t3;return e>=n-o&&e<=n+o?St.UP:e>=r-o&&e<=r+o?St.DOWN:St.NONE}function r3(t,e){let{left:n,right:r,width:i}=t,o=i*t3;return e>=n-o&&e<=n+o?Xe.LEFT:e>=r-o&&e<=r+o?Xe.RIGHT:Xe.NONE}function B9(t,e,n,r,i){let o=n3(e,i),a=r3(e,r),s=St.NONE,c=Xe.NONE;if(o){let d=t.scrollTop;o===St.UP?d>0&&(s=St.UP):t.scrollHeight-d>t.clientHeight&&(s=St.DOWN)}if(a){let d=t.scrollLeft;n==="rtl"?a===Xe.RIGHT?d<0&&(c=Xe.RIGHT):t.scrollWidth+d>t.clientWidth&&(c=Xe.LEFT):a===Xe.LEFT?d>0&&(c=Xe.LEFT):t.scrollWidth-d>t.clientWidth&&(c=Xe.RIGHT)}return[s,c]}var as={capture:!0},U2={passive:!1,capture:!0},q9=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=se({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return t})(),J2=(()=>{class t{_ngZone=p(ue);_document=p(ne);_styleLoader=p(PM);_renderer=p(lt).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new T;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=$([]);_globalListeners;_draggingPredicate=n=>n.isDragging();_domNodesToDirectives=null;pointerMove=new T;pointerUp=new T;constructor(){}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,U2)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(n,r){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._styleLoader.load(q9),this._activeDragInstances.update(i=>[...i,n]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=s=>this.pointerUp.next(s),a=[["scroll",s=>this._scroll.next(s),as],["selectstart",this._preventDefaultWhileDragging,U2]];i?a.push(["touchend",o,as],["touchcancel",o,as]):a.push(["mouseup",o,as]),i||a.push(["mousemove",s=>this.pointerMove.next(s),U2]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=a.map(([s,c,d])=>this._renderer.listen(this._document,s,c,d))})}}stopDragging(n){this._activeDragInstances.update(r=>{let i=r.indexOf(n);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){let r=[this._scroll];return n&&n!==this._document&&r.push(new P(i=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(n,"scroll",a=>{this._activeDragInstances().length&&i.next(a)},as);return()=>{o()}}))),Ao(...r)}registerDirectiveNode(n,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(n,r)}removeDirectiveNode(n){this._domNodesToDirectives?.delete(n)}getDragDirectiveForNode(n){return this._domNodesToDirectives?.get(n)||null}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=n=>{this._activeDragInstances().length>0&&n.preventDefault()};_persistentTouchmoveListener=n=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))};_clearGlobalListeners(){this._globalListeners?.forEach(n=>n()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),U9={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ef=(()=>{class t{_document=p(ne);_ngZone=p(ue);_viewportRuler=p(NM);_dragDropRegistry=p(J2);_renderer=p(lt).createRenderer(null,null);constructor(){}createDrag(n,r=U9){return new Z2(n,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(n){return new Y2(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lu=new v("CDK_DRAG_PARENT");var i3=new v("CdkDragHandle"),o3=(()=>{class t{element=p(xe);_parentDrag=p(lu,{optional:!0,skipSelf:!0});_dragDropRegistry=p(J2);_stateChanges=new T;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let n=this.element.nativeElement.parentElement;for(;n;){let r=this._dragDropRegistry.getDragDirectiveForNode(n);if(r){this._parentDrag=r,r._addHandle(this);break}n=n.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ot({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",xn]},features:[Zr([{provide:i3,useExisting:t}])]})}return t})(),a3=new v("CDK_DRAG_CONFIG"),s3=new v("CdkDropList"),uu=(()=>{class t{element=p(xe);dropContainer=p(s3,{optional:!0,skipSelf:!0});_ngZone=p(ue);_viewContainerRef=p(Pt);_dir=p(z2,{optional:!0});_changeDetectorRef=p(jt);_selfHandle=p(i3,{optional:!0,self:!0});_parentDrag=p(lu,{optional:!0,skipSelf:!0});_dragDropRegistry=p(J2);_destroyed=new T;_handles=new Se([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new ae;released=new ae;ended=new ae;entered=new ae;exited=new ae;dropped=new ae;moved=new P(n=>{let r=this._dragRef.moved.pipe(F(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(n);return()=>{r.unsubscribe()}});_injector=p(me);constructor(){let n=this.dropContainer,r=p(a3,{optional:!0}),i=p(ef);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),n&&(n.addItem(this),n._dropListRef.beforeStarted.pipe(et(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){qi(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){let r=n.rootElementSelector,i=n.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let r=this._handles.getValue();r.push(n),this._handles.next(r)}_removeHandle(n){let r=this._handles.getValue(),i=r.indexOf(n);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,r=n;this.rootElementSelector&&(r=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):Ut(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay=typeof i=="object"&&i?i:iu(i),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),r&&n.withDirection(r.value)}}),n.beforeStarted.pipe(He(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){n.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(n){n.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),n.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(n){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:a,boundaryElement:s,draggingDisabled:c,rootElementSelector:d,previewContainer:l}=n;this.disabled=c??!1,this.dragStartDelay=i||0,this.lockAxis=r||null,o&&(this.constrainPosition=o),a&&(this.previewClass=a),s&&(this.boundaryElement=s),d&&(this.rootElementSelector=d),l&&(this.previewContainer=l)}_setupHandlesListener(){this._handles.pipe(Me(n=>{let r=n.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),De(n=>Ao(...n.map(r=>r._stateChanges.pipe(kn(r))))),et(this._destroyed)).subscribe(n=>{let r=this._dragRef,i=n.element.nativeElement;n.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ot({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&Ee("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",xn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",Cv]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Zr([{provide:lu,useExisting:t}]),bn]})}return t})(),QM=new v("CdkDropListGroup");var c3=(()=>{class t{element=p(xe);_changeDetectorRef=p(jt);_scrollDispatcher=p(OM);_dir=p(z2,{optional:!0});_group=p(QM,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new T;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=p(au).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new ae;entered=new ae;exited=new ae;sorted=new ae;_unsortedItems=new Set;constructor(){let n=p(ef),r=p(a3,{optional:!0});this._dropListRef=n.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,a)=>this.sortPredicate(i,o.data,a.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(n){this._unsortedItems.add(n),n._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef))}removeItem(n){if(this._unsortedItems.delete(n),this._latestSortedRefs){let r=this._latestSortedRefs.indexOf(n._dragRef);r>-1&&(this._latestSortedRefs.splice(r,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((n,r)=>n._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let n=t._dropLists.indexOf(this);n>-1&&t._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(kn(this._dir.value),et(this._destroyed)).subscribe(r=>n.withDirection(r)),n.beforeStarted.subscribe(()=>{let r=ts(this.connectedTo).map(i=>{if(typeof i=="string"){let o=t._dropLists.find(a=>a.id===i);return o}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(i)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=iu(this.autoScrollStep,2),n.hasAnchor=this.hasAnchor,n.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(r=>r._dragRef)),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),Ao(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){let{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:s}=n;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=s||"vertical",this.lockAxis=r||null}_syncItemsWithRef(n){this._latestSortedRefs=n,this._dropListRef.withItems(n)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ot({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(gd("id",i.id),Ee("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",xn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",xn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",xn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",xn]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Zr([{provide:QM,useValue:void 0},{provide:s3,useExisting:t}])]})}return t})();var $9=new v("CdkDragPlaceholder"),d3=(()=>{class t{templateRef=p(rn);_drag=p(lu,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ot({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[Zr([{provide:$9,useExisting:t}])]})}return t})();var hu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ct({type:t});static \u0275inj=nt({providers:[ef],imports:[FM]})}return t})();var W9=()=>[],u3=(t,e)=>e.id;function G9(t,e){if(t&1){let n=ye();re(0,"div",8),b(1,"div",5),K("click",function(i){z(n);let o=q(2);return B(o.togglePlanMenu(i))}),b(2,"span",6),Q(3),R()()}if(t&2){let n,r=q(2);E(),Ee("active",r.showPlanMenu),E(2),bt(((n=r.tripService.plan())==null?null:n.name)||"Select Plan")}}function Z9(t,e){t&1&&re(0,"div",19)}function K9(t,e){if(t&1){let n=ye();b(0,"div",14),Yn(1,Z9,1,0,"div",15),b(2,"div",16),Q(3,"\u22EE\u22EE"),R(),b(4,"input",17,1),K("change",function(i){let o=z(n).$implicit,a=q(3);return B(a.renameTrip(o,i.target.value))})("keydown.enter",function(){z(n);let i=Nt(5);return B(i.blur())})("keydown.escape",function(){let i=z(n).$implicit,o=Nt(5);return o.value=i.name,B(o.blur())})("focus",function(i){return z(n),B(i.target.select())}),R(),b(6,"button",18),K("click",function(){let i=z(n).$implicit,o=q(3);return B(o.selectTrip(i))}),Q(7,"\u2794"),R()()}if(t&2){let n,r=e.$implicit;q();let i=Nt(4),o=q(2);Ee("selected",r.id===((n=o.tripService.trip())==null?null:n.id)),_e("cdkDragBoundary",i),E(4),_e("value",r.name)}}function Y9(t,e){if(t&1){let n=ye();b(0,"div",7)(1,"div",9),Q(2,"My Trips"),R(),b(3,"div",10,0),K("cdkDropListDropped",function(i){z(n);let o=q(2);return B(o.dropTrip(i))}),Qn(5,K9,8,4,"div",11,u3),R(),b(7,"button",12),K("click",function(){z(n);let i=q(2);return B(i.addTrip())}),b(8,"span",13),Q(9,"+"),R(),Q(10," Add New Trip "),R()()}if(t&2){let n=q(2);E(3),_e("cdkDropListConnectedTo",Ap(1,W9)),E(2),Jn(n.tripService.trips())}}function X9(t,e){t&1&&re(0,"div",19)}function Q9(t,e){if(t&1){let n=ye();b(0,"div",21),K("click",function(){let i=z(n).$implicit,o=q(3);return B(o.selectPlan(i))}),Yn(1,X9,1,0,"div",15),b(2,"div",22),Q(3,"\u22EE\u22EE"),R(),b(4,"input",23,2),K("click",function(i){return z(n),B(i.stopPropagation())})("change",function(){let i=z(n).$implicit,o=Nt(5),a=q(3);return B(a.renamePlan(i,o.value))})("keydown.enter",function(){z(n);let i=Nt(5);return B(i.blur())}),R(),b(6,"div",24),K("click",function(i){return z(n),B(i.stopPropagation())}),b(7,"button",25),K("click",function(i){let o=z(n).$implicit,a=q(3);return B(a.toggleItemMenu(o,i))}),Q(8,"\u22EF"),R()()()}if(t&2){let n,r=e.$implicit;q();let i=Nt(4),o=q(2);Ee("selected",r.id===((n=o.tripService.plan())==null?null:n.id)),_e("cdkDragBoundary",i),E(4),_e("value",r.name)}}function J9(t,e){if(t&1){let n=ye();b(0,"div",7)(1,"div",9),Q(2),R(),b(3,"div",20,0),K("cdkDropListDropped",function(i){z(n);let o=q(2);return B(o.dropPlan(i))}),Qn(5,Q9,9,4,"div",11,u3),R(),b(7,"button",12),K("click",function(){z(n);let i=q(2);return B(i.addPlan())}),b(8,"span",13),Q(9,"+"),R(),Q(10," Add New Plan "),R()()}if(t&2){let n,r=q(2);E(2),ka("Plans for ",(n=r.tripService.trip())==null?null:n.name),E(3),Jn(r.tripService.plans())}}function eT(t,e){if(t&1){let n=ye();b(0,"div",3)(1,"div",4)(2,"div",5),K("click",function(i){z(n);let o=q();return B(o.toggleTripMenu(i))}),b(3,"span",6),Q(4),R()(),Ce(5,G9,4,3),R(),Ce(6,Y9,11,2,"div",7),Ce(7,J9,11,1,"div",7),R()}if(t&2){let n,r=q();E(2),Ee("active",r.showTripMenu),E(2),bt(((n=r.tripService.trip())==null?null:n.name)||"Select Trip"),E(),be(r.tripService.trip()?5:-1),E(),be(r.showTripMenu?6:-1),E(),be(r.showPlanMenu&&r.tripService.trip()?7:-1)}}var pu=class t{eRef=p(xe);tripService=p(yn);router=p(dn);showPlanMenu=!1;showTripMenu=!1;activeMenuId=$(null);constructor(){}onDocumentClick(e){this.eRef.nativeElement.contains(e.target)||(this.showPlanMenu=!1,this.showTripMenu=!1,this.activeMenuId.set(null))}onEscape(){this.showPlanMenu=!1,this.showTripMenu=!1}toggleTripMenu(e){e.stopPropagation(),this.showPlanMenu=!1,this.showTripMenu=!this.showTripMenu}togglePlanMenu(e){e.stopPropagation(),this.showTripMenu=!1,this.showPlanMenu=!this.showPlanMenu}toggleItemMenu(e,n){n.stopPropagation(),this.activeMenuId()===e.id?this.activeMenuId.set(null):this.activeMenuId.set(e.id)}selectTrip(e){console.log("select trip."),this.router.navigate(["trip",e.id]),this.showTripMenu=!1}selectPlan(e){console.log("select plan.");let n=this.tripService.trip();n&&this.router.navigate(["trip",n.id,e.id]),this.showPlanMenu=!1}renameTrip(e,n){console.log("rename trip."),e.name=n}renamePlan(e,n){console.log("rename plan."),e.name=n}dropPlan(e){console.log("dropped plan.")}dropTrip(e){console.log("dropped trip.")}addTrip(){console.log("add trip")}addPlan(){console.log("add plan");let e=this.tripService.trip()}copyPlan(e,n){console.log("copy plan",e.id),n.stopPropagation()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["app-trip-bubble"]],hostBindings:function(n,r){n&1&&K("click",function(o){return r.onDocumentClick(o)},Sn)("keydown.escape",function(){return r.onEscape()},Sn)},decls:1,vars:1,consts:[["listBoundary",""],["tripInput",""],["planInput",""],[1,"bubble-pill-container"],[1,"bubble-pill"],[1,"pill-segment",3,"click"],[1,"value"],[1,"bubble-dropdown","shadow-lg"],[1,"pill-divider"],[1,"dropdown-header"],["cdkDropList","",1,"drag-list",3,"cdkDropListDropped","cdkDropListConnectedTo"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"cdkDragBoundary","selected"],[1,"add-btn",3,"click"],[1,"plus"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"cdkDragBoundary"],["class","drag-placeholder",4,"cdkDragPlaceholder"],["cdkDragHandle","",1,"drag-handle"],["type","text",1,"edit-input",3,"change","keydown.enter","keydown.escape","focus","value"],[1,"select-btn",3,"click"],[1,"drag-placeholder"],["cdkDropList","",1,"drag-list",3,"cdkDropListDropped"],["cdkDrag","","cdkDragLockAxis","y",1,"drag-item",3,"click","cdkDragBoundary"],[1,"drag-indicator"],["type","text",1,"edit-input",3,"click","change","keydown.enter","value"],[1,"item-actions",3,"click"],[1,"action-trigger",3,"click"]],template:function(n,r){n&1&&Ce(0,eT,8,6,"div",3),n&2&&be(r.tripService.trips()?0:-1)},dependencies:[_t,hu,c3,uu,o3,d3],styles:["[_nghost-%COMP%]{display:block;margin-top:12px;display:flex;justify-content:center}.bubble-pill[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:50px;padding:6px 0;cursor:default;position:relative;max-width:calc(100vw - 120px);z-index:1001;background:#1e1e23b3;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border:.5px solid rgba(255,255,255,.15);box-shadow:0 8px 32px #0000004d;color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.pill-segment[_ngcontent-%COMP%]:hover{background:#ffffff1a}.pill-segment[_ngcontent-%COMP%]:active{background:#ffffff26;transform:scale(.98)}.pill-segment[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 8px;margin:0 7px;cursor:pointer;border-radius:40px;transition:background .2s cubic-bezier(.25,1,.5,1)}.pill-segment[_ngcontent-%COMP%]:hover, .pill-segment[_ngcontent-%COMP%]:active{background:#ffffff1a}.label[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;color:#ffffff80;letter-spacing:1px}.value[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.pill-divider[_ngcontent-%COMP%]{width:1px;height:24px;background:#ffffff1a}.bubble-dropdown[_ngcontent-%COMP%]{position:absolute;top:60px;left:50%;z-index:1002;transform:translate(-50%);background:#2d2d32d9;backdrop-filter:blur(40px) saturate(180%);-webkit-backdrop-filter:blur(40px) saturate(180%);border-radius:20px;width:300px;padding:12px;border:.5px solid rgba(255,255,255,.15);box-shadow:0 15px 45px #0006;color:#fff}.dropdown-header[_ngcontent-%COMP%]{font-size:10px;text-transform:uppercase;color:#fff6;padding:4px 12px 12px;letter-spacing:.8px;font-weight:600}.drag-list[_ngcontent-%COMP%]{display:block;min-height:50px}.drag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;border-radius:12px;background:transparent;margin-bottom:4px;transition:background .2s cubic-bezier(.25,1,.5,1)}.drag-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.drag-item.selected[_ngcontent-%COMP%]{background:#ffffff26;box-shadow:0 0 0 .5px #ffffff1a}.drag-handle[_ngcontent-%COMP%]{cursor:grab;margin-right:12px;color:#ffffff4d;font-size:18px;-webkit-user-select:none;user-select:none;display:flex;align-items:center}.edit-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:1px solid transparent;color:#fff;font-size:14px;padding:6px 8px;border-radius:8px;outline:none;font-family:inherit;transition:background .2s}.edit-input[_ngcontent-%COMP%]:focus{background:#0003;border:.5px solid rgba(255,255,255,.2)}.select-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;width:32px;height:32px;border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-left:8px;transition:background .2s,transform .1s}.select-btn[_ngcontent-%COMP%]:hover{background:#fff3}.select-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.1;background:#ffffff0d;border:1px dashed rgba(255,255,255,.2);border-radius:12px;min-height:51px;margin-bottom:4px}.cdk-drag-preview[_ngcontent-%COMP%]{background:#2d2d32f2!important;-webkit-backdrop-filter:blur(30px) saturate(180%);backdrop-filter:blur(30px) saturate(180%);box-shadow:0 10px 40px #0009;border-radius:12px;color:#fff;padding:8px 12px;border:.5px solid rgba(255,255,255,.2);display:flex;align-items:center;font-family:-apple-system,sans-serif;width:280px;box-sizing:border-box}.item-actions[_ngcontent-%COMP%]{display:flex;gap:4px;margin-left:8px}.icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff6;font-size:14px;cursor:pointer;padding:4px;border-radius:6px;transition:all .2s}.icon-btn[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff1a}.add-btn[_ngcontent-%COMP%]{width:100%;margin-top:8px;padding:10px;background:#ffffff0d;border:1px dashed rgba(255,255,255,.2);border-radius:12px;color:#fff9;cursor:pointer;font-size:13px;font-weight:500;transition:all .2s}.add-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a;color:#fff;border-color:#fff6}.add-btn[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{margin-right:6px;font-size:16px}.drag-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;border-radius:12px;gap:10px;cursor:grab;-webkit-user-select:none;user-select:none;transition:background .2s,transform .2s}.drag-item[_ngcontent-%COMP%]:active{cursor:grabbing}.drag-indicator[_ngcontent-%COMP%]{color:#fff3;font-size:16px;flex-shrink:0}.edit-input[_ngcontent-%COMP%]{cursor:text;flex:1;background:transparent;border:none;color:#fff;outline:none}.cdk-drag-preview[_ngcontent-%COMP%]{cursor:grabbing!important;opacity:.9;transform:scale(1.02)}.edit-input[_ngcontent-%COMP%], .item-actions[_ngcontent-%COMP%]{pointer-events:auto}"]})};function tT(t,e){if(t&1){let n=ye();b(0,"div",5)(1,"div",6),re(2,"img",7),b(3,"div",8)(4,"span",9),Q(5),R(),b(6,"span",10),Q(7),R()()(),re(8,"div",11),b(9,"button",12),K("click",function(){z(n);let i=q(2);return B(i.authService.logout())}),re(10,"lucide-icon",13),Q(11," Sign out "),R()()}if(t&2){let n,r,i,o=q(2);E(2),_e("src",(n=o.authService.user())==null?null:n.photoURL,td),E(3),bt((r=o.authService.user())==null?null:r.displayName),E(2),bt((i=o.authService.user())==null?null:i.email),E(3),_e("img",o.LogOut)}}function nT(t,e){if(t&1){let n=ye();md(0),b(1,"div",2),K("click",function(i){z(n);let o=q();return B(o.toggleMenu(i))}),b(2,"img",3),K("error",function(i){z(n);let o=q();return B(o.handleImageError(i,o.authService.user()))}),R()(),Yn(3,tT,12,4,"div",4),kd()}if(t&2){let n,r=q();E(),Ee("active",r.showMenu),E(),_e("src",(n=r.authService.user())==null?null:n.photoURL,td),E(),_e("ngIf",r.showMenu)}}function rT(t,e){if(t&1){let n=ye();b(0,"button",14),K("click",function(){z(n);let i=q();return B(i.handleLogin())}),re(1,"img",15),b(2,"span"),Q(3,"Sign in"),R()()}}var fu=class t{constructor(e,n){this.authService=e;this.eRef=n}showMenu=!1;LogOut=EM;async handleLogin(){this.showMenu=!1;try{await this.authService.login()}catch(e){console.error("Login failed",e)}}toggleMenu(e){e.stopPropagation(),this.showMenu=!this.showMenu}clickout(e){this.showMenu&&!this.eRef.nativeElement.contains(e.target)&&(this.showMenu=!1)}handleImageError(e,n){let r=n.displayName||"User";e.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r)}&background=555&color=fff`}static \u0275fac=function(n){return new(n||t)(Te(fn),Te(xe))};static \u0275cmp=se({type:t,selectors:[["app-auth-widget"]],hostBindings:function(n,r){n&1&&K("click",function(o){return r.clickout(o)},Sn)},decls:4,vars:1,consts:[["loggedOut",""],[1,"auth-wrapper"],[1,"profile-trigger",3,"click"],[1,"avatar",3,"error","src"],["class","menu-card",4,"ngIf"],[1,"menu-card"],[1,"menu-header"],["alt","Profile",1,"avatar-large",3,"src"],[1,"user-details"],[1,"name"],[1,"email"],[1,"menu-divider"],[1,"menu-item",3,"click"],[1,"icon-left",3,"img"],[1,"google-signin-btn",3,"click"],["src","https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","alt","G",1,"google-icon"]],template:function(n,r){n&1&&(b(0,"div",1),Ce(1,nT,4,4,"ng-container"),Yn(2,rT,4,0,"ng-template",null,0,Rp),R()),n&2&&(E(),be(r.authService.user()?1:-1))},dependencies:[_t,Gp,Ql,Xl],styles:[".auth-wrapper[_ngcontent-%COMP%]{font-family:Inter,sans-serif;position:absolute;right:0;z-index:2000}.profile-trigger[_ngcontent-%COMP%]{width:40px;height:40px;cursor:pointer;border-radius:50%;display:flex;align-items:center;justify-content:center;border:3px solid transparent;background:linear-gradient(#fff,#fff) padding-box,conic-gradient(#ea4335 0deg 45deg,#4285f4 45deg 135deg,#34a853 135deg 235deg,#fbbc05 235deg 305deg,#ea4335 305deg 360deg) border-box;box-shadow:0 4px 10px #0003}.profile-trigger[_ngcontent-%COMP%]:hover, .google-signin-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.avatar[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.menu-card[_ngcontent-%COMP%]{position:absolute;top:60px;right:0;width:260px;background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;padding:16px;overflow:hidden}.menu-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.avatar-large[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%}.name[_ngcontent-%COMP%]{font-weight:700;display:block;font-size:14px}.email[_ngcontent-%COMP%]{font-size:12px;color:#666}.menu-divider[_ngcontent-%COMP%]{height:1px;background:#eee;margin:12px 0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:18px;padding:8px 16px;width:100%;border:none;background:#f1f3f4;border-radius:8px;cursor:pointer;font-weight:500;color:#3c4043;transition:all .2s;margin-top:8px}.menu-item[_ngcontent-%COMP%]:hover{background:#e8f0fe;color:#1967d2}.icon-left[_ngcontent-%COMP%]{width:18px;height:18px;flex-shrink:0}.google-icon[_ngcontent-%COMP%]{width:25px;height:25px;flex-shrink:0;display:block}.google-signin-btn[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;gap:12px;white-space:nowrap;width:max-content;padding:8px 8px 8px 5px;cursor:pointer;font-weight:500;border:3px solid transparent;background:linear-gradient(#fff,#fff) padding-box,conic-gradient(#ea4335 0deg 45deg,#4285f4 45deg 135deg,#34a853 135deg 235deg,#fbbc05 235deg 305deg,#ea4335 305deg 360deg) border-box;border-radius:24px;box-shadow:0 2px 4px #0000001a;transition:transform .2s}"]})};function iT(t,e){if(t&1){let n=ye();b(0,"button",5),K("click",function(){z(n);let i=q();return B(i.uiService.toggleSidebar())}),b(1,"div",6),re(2,"div",7),R()()}}function oT(t,e){if(t&1){let n=ye();b(0,"div",8),K("click",function(){z(n);let i=q();return B(i.toggleMobileSheet())}),R()}}function aT(t,e){if(t&1){let n=ye();b(0,"div",3)(1,"button",9),K("click",function(){z(n);let i=q();return B(i.uiService.toggleSidebar())}),b(2,"div",6),re(3,"div",7),R()()()}}var yu=class t{tripService=p(yn);uiService=p(pr);destroy$=new T;sheetState="peek";constructor(){}onDragEnd(e){let n=e.distance.y;n<-100?this.sheetState="open":n>100&&(this.sheetState="peek"),e.source._dragRef.reset()}toggleMobileSheet(){this.sheetState=this.sheetState==="peek"?"open":"peek"}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["app-side-panel"]],decls:9,vars:13,consts:[[1,"floating-open-btn"],["cdkDrag","","cdkDragLockAxis","y",1,"panel-container",3,"cdkDragEnded","cdkDragDisabled"],[1,"drag-handle"],[1,"header-actions"],[1,"content"],[1,"floating-open-btn",3,"click"],[1,"icon-box"],[1,"sidebar-icon-bar"],[1,"drag-handle",3,"click"],["title","Toggle Sidebar",1,"toggle-btn",3,"click"]],template:function(n,r){n&1&&(Ce(0,iT,3,0,"button",0),b(1,"div",1),K("cdkDragEnded",function(o){return r.onDragEnd(o)}),Ce(2,oT,1,0,"div",2)(3,aT,4,0,"div",3),b(4,"div",4)(5,"h2"),Q(6,"Trip Details"),R(),b(7,"p"),Q(8,"This is where your itinerary, notes, and local info will live."),R()()()),n&2&&(be(!r.uiService.isSidebarOpen()&&!r.uiService.isMobile()?0:-1),E(),Ee("desktop-sidebar",!r.uiService.isMobile())("mobile-sheet",r.uiService.isMobile())("closed",!r.uiService.isSidebarOpen()&&!r.uiService.isMobile())("sheet-open",r.sheetState==="open"&&r.uiService.isMobile())("sheet-peek",r.sheetState==="peek"&&r.uiService.isMobile()),_e("cdkDragDisabled",!r.uiService.isMobile()),E(),be(r.uiService.isMobile()?2:3))},dependencies:[_t,hu,uu],styles:[".panel-container[_ngcontent-%COMP%]{position:fixed;padding:12px;z-index:1000;display:flex;flex-direction:column;background:#1e1e23b3;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);border-right:.5px solid rgba(255,255,255,.1);box-shadow:10px 0 30px #0000004d;transition:transform .4s cubic-bezier(.25,1,.5,1);color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif}.desktop-sidebar[_ngcontent-%COMP%]{top:15px;left:15px;width:430px;height:calc(100vh - 30px);border-radius:20px;border:.5px solid rgba(255,255,255,.15)}.mobile-sheet[_ngcontent-%COMP%]{bottom:0;left:0;width:100%;height:85vh;border-radius:25px 25px 0 0;transform:translateY(calc(85vh - 80px))}.desktop-sidebar.closed[_ngcontent-%COMP%]{transform:translate(-445px)}.toggle-btn[_ngcontent-%COMP%], .floating-open-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:8px;border-radius:6px;transition:background .2s}.toggle-btn[_ngcontent-%COMP%]:hover, .floating-open-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.drag-handle[_ngcontent-%COMP%]{width:36px;height:5px;background:#fff3;border-radius:10px;margin:10px auto 0;flex-shrink:0}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.icon-box[_ngcontent-%COMP%]{width:20px;height:15px;border:1.2px solid rgba(255,255,255,.9);border-radius:3px;display:flex}.sidebar-icon-bar[_ngcontent-%COMP%]{width:7px;height:100%;border-right:1.2px solid rgba(255,255,255,.9)}.toggle-btn[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:5px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:background .2s}.toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff1a}.floating-open-btn[_ngcontent-%COMP%]{position:fixed;top:15px;left:15px;z-index:1001;background:#1e1e23b3;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:.5px solid rgba(255,255,255,.1);box-shadow:0 4px 12px #0003}.mobile-sheet[_ngcontent-%COMP%]{bottom:0;left:0;width:100%;height:93vh;position:fixed;transition:transform .4s cubic-bezier(.25,1,.5,1);max-height:93vh}.mobile-sheet.sheet-peek[_ngcontent-%COMP%]{transform:translateY(calc(93vh - 50px))}.mobile-sheet.sheet-open[_ngcontent-%COMP%]{transform:translateY(0)}.panel-container[_ngcontent-%COMP%]{touch-action:none;-webkit-user-select:none;user-select:none}.cdk-drag-dragging[_ngcontent-%COMP%]{transition:none!important}.content[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease}.sheet-open[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%], .desktop-sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{opacity:1}"]})};var gu=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["app-loading-spinner"]],decls:4,vars:0,consts:[[1,"spinner-overlay"],[1,"loader"],[1,"loading-text"]],template:function(n,r){n&1&&(qe(0,"div",0),Gr(1,"div",1),qe(2,"p",2),Q(3,"Loading..."),Ke()())},styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#fff9;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999}.loader[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #4285F4;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-text[_ngcontent-%COMP%]{margin-top:15px;font-family:Inter,sans-serif;font-weight:500;color:#5f6368;letter-spacing:.5px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function sT(t,e){t&1&&re(0,"app-loading-spinner")}function cT(t,e){t&1&&re(0,"app-side-panel")}function dT(t,e){t&1&&re(0,"app-trip-bubble")}var Co=class t{tripService=p(yn);uiService=p(pr);router=p(dn);tripId=Ft();planId=Ft();constructor(){ct(()=>this.syncStateWithUrl())}syncStateWithUrl(){let e=this.tripId(),n=this.planId(),r=this.tripService.trips();Ze(()=>{if(!e){this.tripService.clearTrip();return}let i=this.tripService.trip();if(i?.id!==e&&this.tripService.loadTrip(e).subscribe(),r&&!n){let o=r.find(a=>a.id===e)?.plans[0]?.id;if(o){this.router.navigate(["trip",e,o],{replaceUrl:!0});return}}n&&this.tripService.plan()?.id!==n&&i?.id===e&&this.tripService.loadPlan(n)})}ngOnInit(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["app-trip-view"]],inputs:{tripId:[1,"tripId"],planId:[1,"planId"]},decls:7,vars:3,consts:[[1,"viewport-container"],[1,"ui-overlay"]],template:function(n,r){n&1&&(b(0,"div",0),Ce(1,sT,1,0,"app-loading-spinner"),Ce(2,cT,1,0,"app-side-panel"),re(3,"app-map"),b(4,"div",1),Ce(5,dT,1,0,"app-trip-bubble"),re(6,"app-auth-widget"),R()()),n&2&&(E(),be(r.uiService.isLoading()?1:-1),E(),be(r.tripService.trip()&&r.tripService.plan()?2:-1),E(3),be(r.tripService.trips()?5:-1))},dependencies:[_t,nu,pu,fu,yu,gu],styles:[".viewport-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;overflow:hidden}app-map[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.ui-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10;display:flex;flex-direction:column;align-items:center}app-trip-bubble[_ngcontent-%COMP%], app-auth-widget[_ngcontent-%COMP%]{pointer-events:auto}app-auth-widget[_ngcontent-%COMP%]{position:absolute;top:12px;right:16px}.selection-card[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;background:#ffffffe6;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.4);border-radius:24px;padding:40px;box-shadow:0 20px 50px #00000026;text-align:center;pointer-events:auto}h2[_ngcontent-%COMP%]{margin:0 0 10px;font-size:24px;color:#202124}p[_ngcontent-%COMP%]{color:#5f6368;margin-bottom:30px}.trip-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-bottom:30px;max-height:300px;overflow-y:auto}.trip-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;background:#fff;border:1px solid #e0e0e0;border-radius:16px;cursor:pointer;transition:all .2s ease}.trip-item[_ngcontent-%COMP%]:hover{border-color:#4285f4;background:#f8faff;transform:translateY(-2px);box-shadow:0 4px 12px #4285f41a}.trip-icon[_ngcontent-%COMP%]{font-size:24px;margin-right:15px}.trip-details[_ngcontent-%COMP%]{flex-grow:1;text-align:left;display:flex;flex-direction:column}.trip-name[_ngcontent-%COMP%]{font-weight:600;color:#3c4043}.trip-meta[_ngcontent-%COMP%]{font-size:12px;color:#70757a}.btn-create[_ngcontent-%COMP%]{width:100%;padding:14px;border-radius:12px;border:none;background:#4285f4;color:#fff;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px}"]})};var h3=[{path:"",component:Co},{path:"trip/:tripId",component:Co},{path:"trip/:tripId/:planId",component:Co}];var p3={providers:[Q1(),R0(h3,O0(),P0({paramsInheritanceStrategy:"always"})),e4(Jv()),c0()]};var mu=class t{title=$("tripl");router=p(dn);constructor(){this.router.events.subscribe(e=>{e instanceof An&&console.log("\u{1F680} Navigation Start:",e.url),e instanceof ni&&console.log("\u2705 Route Recognized:",e.state.url)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&re(0,"router-outlet")},dependencies:[Ha],encapsulation:2})};n0(mu,p3).catch(t=>console.error(t));
